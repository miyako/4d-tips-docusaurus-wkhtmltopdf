<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Mode SDI sous Windows · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Sous Windows, les Développeurs 4D peuvent configurer leurs applications fusionnées pour qu'elles fonctionnent en tant qu'applications SDI (Single-Document Interface). Dans les applications SDI, chaque fenêtre est indépendante des autres et peut avoir sa propre barre de menus. Les applications SDI sont opposées aux applications MDI (Multiple Documents Interface), où toutes les fenêtres sont contenues dans une fenêtre principale, et en dépendent."name="description" /><meta content="fr" name="docsearch:language" /><meta content="Mode SDI sous Windows · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Sous Windows, les Développeurs 4D peuvent configurer leurs applications fusionnées pour qu'elles fonctionnent en tant qu'applications SDI (Single-Document Interface). Dans les applications SDI, chaque fenêtre est indépendante des autres et peut avoir sa propre barre de menus. Les applications SDI sont opposées aux applications MDI (Multiple Documents Interface), où toutes les fenêtres sont contenues dans une fenêtre principale, et en dépendent."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#sdi.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Mode SDI sousWindows<a aria-hidden="true" class="anchor" id="sdi.html"></a></h1></header><article><div><p><span>Sous Windows, les Développeurs 4D peuvent configurer leursapplications fusionnées pour qu'elles fonctionnent en tantqu'applications SDI (Single-Document Interface). Dans lesapplications SDI, chaque fenêtre est indépendante des autres etpeut avoir sa propre barre de menus. Les applications SDI sontopposées aux applications MDI (Multiple Documents Interface), oùtoutes les fenêtres sont contenues dans une fenêtre principale, eten dépendent.</span></p><blockquote><p><span>Le concept SDI/MDI n'existe pas sur macOS. Cettefonctionnalité concerne uniquement des applications Windows, et lesoptions s'y référant sont ignorées sous macOS.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="sdi.html_disponibilit%C3%A9-du-mode-sdi"></a><a aria-hidden="true"class="hash-link" href="#sdi.html_disponibilit%25C3%25A9-du-mode-sdi"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Disponibilité du mode SDI</span></h2><p><span>Le mode SDI est disponible uniquement dans l'environnementd'exécution suivant :</span></p><ul><li><span>Sous Windows</span></li><li><span>Application fusionnée, monoposte ou cliente</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="sdi.html_activation-du-mode-sdi"></a><a aria-hidden="true" class="hash-link" href="#sdi.html_activation-du-mode-sdi"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Activation du mode SDI</span></h2><p><span>L'activation et l'utilisation du mode SDI dans votreapplication requiert les étapes suivantes :</span></p><ol><li><span>Cochez l'option <strong>Utiliser le mode SDI sousWindows</strong> dans la page "Interface" de la boîte de dialoguedes Propriétés.</span></li><li><span>Générez une application exécutable (monoposte et/ouapplication cliente).</span></li></ol><p><span>Par la suite, lorsqu'elle sera exécutée dans le contexteadéquat (voir ci-dessus), l'application fusionnée fonctionneraautomatiquement en mode SDI.</span></p><h2><span><a aria-hidden="true" class="anchor" id="sdi.html_gestion-des-applications-en-mode-sdi"></a><a aria-hidden="true" class="hash-link" href="#sdi.html_gestion-des-applications-en-mode-sdi"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Gestion des applications en mode SDI</span></h2><p><span>L'exécution d'une application 4D en mode SDI ne requiertaucune implémentation particulière : les barres de menu existantessont automatiquement déplacées dans les fenêtres SDI elles-mêmes.Cependant, vous devez être attentif aux principes spécifiquesénumérés ci-dessous :</span></p><h3><span><a aria-hidden="true" class="anchor" id="sdi.html_menus-dans-les-fen%C3%AAtres"></a><a aria-hidden="true"class="hash-link" href="#sdi.html_menus-dans-les-fen%25C3%25AAtres"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Menus dans les fenêtres</span></h3><p><span>En mode SDI, la barre de menu du process s'afficheautomatiquement dans chaque fenêtre "document" ouverte durant ladurée de vie du process (ceci exclut par exemple les palettesflottantes). Lorsque la barre de menu du process n'est pas visible,les raccourcis des lignes de menu restent toutefoisactifs.</span></p><p><span>Les menus sont ajoutés au-dessus des fenêtres sansmodifier la taille de leur contenu :</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Menus/sdi1.png" /></span></p><p><span>Les fenêtres peuvent donc être utilisées dans les modesMDI ou SDI sans avoir à recalculer la position desobjets.</span></p><h4><span><a aria-hidden="true" class="anchor" id="sdi.html_a-propos-de-la-fen%C3%AAtre-daccueil"></a><a aria-hidden="true" class="hash-link" href="#sdi.html_a-propos-de-la-fen%25C3%25AAtre-daccueil"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>A propos de la fenêtre d'accueil</span></h4><ul><li><span>Si l'option <strong>Afficher fenêtres : Accueil</strong>de la page "Interface" a été sélectionnée dans les Propriétés, lafenêtre d'accueil contiendra les menus qui auraient été affichésdans la fenêtre MDI. Notez également que la fermeture de la fenêtred'accueil entraînera la sortie de l'application, tout comme dans lemode MDI.</span></li><li><span>Si l'option Accueil n'a pas été cochée dans la base dedonnées, les menus seront affichés uniquement dans les fenêtresouvertes, selon les choix du Développeur.</span></li></ul><h3><span><a aria-hidden="true" class="anchor" id="sdi.html_arr%C3%AAt-automatique"></a><a aria-hidden="true" class="hash-link" href="#sdi.html_arr%25C3%25AAt-automatique"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Arrêt automatique</span></h3><p><span>Lorsqu'elle est exécutée en mode MDI, une application 4Dquitte simplement lorsque l'utilisateur ferme la fenêtre del'application (fenêtre MDI). Cependant, lorsqu'elles sont exécutéesen mode SDI, les applications 4D n'ont pas de fenêtre d'applicationet, d'autre part, la fermeture de la dernière fenêtre ouverte nesignifie pas nécessairement que l'utilisateur souhaite quitterl'application (des process sans interface peuvent être exécutés parexemple) -- mais cela peut être le cas.</span></p><p><span>Pour gérer cette situation, les applications 4D exécutéesen mode SDI incluent un mécanisme pour quitter automatiquement (enappelant la commande <code>QUIT 4D</code>) lorsque les conditionssuivantes sont remplies :</span></p><ul><li><span>l'utilisateur ne peut plus interagir avecl'application</span></li><li><span>il n'y a pas de process utilisateur en cours</span></li><li><span>les process 4D ou workers sont en attente d'unévénement</span></li><li><span>le serveur Web n'est pas lancé.</span></li></ul><blockquote><p><span>Lorsqu'un menu avec une action standard associée pour<em>quitter</em> est appelé, l'application quitte et toutes lesfenêtres sont fermées, quel que soit l'endroit d'où le menu a étéappelé.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="sdi.html_langage"></a><a aria-hidden="true" class="hash-link"href="#sdi.html_langage"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Langage</span></h2><p><span>Bien qu'il soit traité de manière transparente par 4D, lemode SDI introduit de légères variations dans la gestion del'interface d'application. Les spécificités dans le langage 4D sontlistées ci-dessous :</span></p><table><thead><tr><th>Commande/fonctionnalité</th><th>Spécificité en mode SDI sous Windows</th></tr></thead><tbody><tr><td><code>Open form window</code></td><td>Options pour supporter les fenêtres flottantes en SDI(<code>Controller form window</code>) et pour supprimer la barre demenu (<code>Form has no menu bar</code>)</td></tr><tr><td><code>Menu bar height</code></td><td>Retourne la hauteur en pixels d'une ligne de barre de menuunique, même si la barre de menu a été incluse sur une ou plusieurslignes. Retourne 0 lorsque la commande est appelée à partir d'unprocess sans fenêtre formulaire</td></tr><tr><td><code>SHOW MENU BAR</code> / <code>HIDE MENU BAR</code></td><td>Appliqué uniquement à la fenêtre formulaire courante (d'où lecode est exécuté)</td></tr><tr><td><code>MAXIMIZE WINDOW</code></td><td>La fenêtre est maximisée à la taille de l'écran</td></tr><tr><td><code>CONVERT COORDINATES</code></td><td><code>XY Screen</code> est le système de coordonnées globaldans lequel l'écran principal est positionné à (0,0). Les écrans àgauche ou au-dessus de lui peuvent avoir des valeurs de coordonnéesnégatives et les écrans à droite ou au-dessous de lui peuvent avoirdes valeurs de coordonnées supérieures à celles retournées par<code>Screen height</code> ou <code>Screen width</code>.</td></tr><tr><td><code>GET MOUSE</code></td><td>Les coordonnées globales sont relatives à l'écran</td></tr><tr><td><code>GET WINDOW RECT</code></td><td>Lorsque -1 est passé dans le paramètre fenêtre, la commanderetourne 0;0;0;0</td></tr><tr><td><code>On Drop database method</code></td><td>Non supporté</td></tr></tbody></table></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#bars.html"><span class="arrow-prev">←</span> <span>Barres demenus</span></a><a class="docs-next button" href="#user-settings.html"><span>Propriétés utilisateur</span><span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#sdi.html_disponibilit%25C3%25A9-du-mode-sdi">Disponibilité dumode SDI</a></li><li><a href="#sdi.html_activation-du-mode-sdi">Activation du modeSDI</a></li><li><a href="#sdi.html_gestion-des-applications-en-mode-sdi">Gestion desapplications en mode SDI</a><ul class="toc-headings"><li><a href="#sdi.html_menus-dans-les-fen%25C3%25AAtres">Menus dansles fenêtres</a></li><li><a href="#sdi.html_arr%25C3%25AAt-automatique">Arrêtautomatique</a></li></ul></li><li><a href="#sdi.html_langage">Langage</a></li></ul></nav></div></div></body></html>