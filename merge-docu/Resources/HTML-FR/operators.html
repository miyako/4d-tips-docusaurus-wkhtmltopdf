<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Opérateurs · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Un opérateur est un symbole ou un groupe de symboles que vous utilisez pour vérifier, modifier ou combiner des valeurs. Vous connaissez déjà la plupart des opérateurs. Par exemple, `1 + 2` utilise l'opérateur d'addition (ou le signe &quot;plus&quot;) pour additionner deux nombres, et a pour résultat le chiffre 3. Les opérateurs de comparaison, comme = ou &gt;, vous permettent de comparer deux valeurs ou plus."name="description" /><meta content="fr" name="docsearch:language" /><meta content="Opérateurs · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Un opérateur est un symbole ou un groupe de symboles que vous utilisez pour vérifier, modifier ou combiner des valeurs. Vous connaissez déjà la plupart des opérateurs. Par exemple, `1 + 2` utilise l'opérateur d'addition (ou le signe &quot;plus&quot;) pour additionner deux nombres, et a pour résultat le chiffre 3. Les opérateurs de comparaison, comme = ou &gt;, vous permettent de comparer deux valeurs ou plus."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#operators.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Opérateurs<a aria-hidden="true" class="anchor" id="operators.html"></a></h1></header><article><div><p><span>Un opérateur est un symbole ou un groupe de symboles quevous utilisez pour vérifier, modifier ou combiner des valeurs. Vousconnaissez déjà la plupart des opérateurs. Par exemple, <code>1 +2</code> utilise l'opérateur d'addition (ou le signe "plus") pouradditionner deux nombres, et a pour résultat le chiffre 3. Lesopérateurs de comparaison, comme = ou &gt;, vous permettent decomparer deux valeurs ou plus.</span></p><p><span>Le langage 4D prend en charge les opérateurs que vousconnaissez peut-être déjà dans d'autres langages tels que le C ouJavaScript. Toutefois, l'opérateur d'affectation est<code>:=</code> pour éviter qu'il ne soit utilisé par erreurlorsque l'opérateur "égal à" (<code>=</code>) est prévu. <a href="#operators.html_basic-operators">Les opérateurs de base</a> telsque les opérateurs arithmétiques (+, -, *, /, %...) et lesopérateurs de comparaison (=, &gt;, &gt;=...) peuvent être utilisésavec des nombres, mais aussi avec des types de données au formatbooléen, texte, date, heure, pointeur ou image. Tout commeJavaScript, le langage 4D prend en charge le concept de valeurs<a href="#operators.html_truthy-and-falsy">truthy et falsy</a>, quisont utilisées dans <a href="#operators.html_short-circuit-operators">les opérateurs decourt-curcuit</a>.</span></p><h2><span><a aria-hidden="true" class="anchor" id="operators.html_terminologie"></a><a aria-hidden="true" class="hash-link" href="#operators.html_terminologie"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Terminologie</span></h2><p><span>Le langage 4D prend en charge les opérateurs<strong>binaires</strong> et <strong>ternaires</strong>:</span></p><ul><li><span>les opérateurs binaires opèrent sur deux cibles (comme<code>2 + 3</code>) et apparaissent entre leurs deuxcibles.</span></li><li><span>les opérateurs ternaires opèrent sur trois cibles. Commele C, 4D ne possède qu'un seul opérateur ternaire, <a href="#operators.html_ternary-operator">l'opérateur conditionnelternaire</a> (<code>a ? b : c</code>).</span></li></ul><p><span>Les valeurs que les opérateurs affectent sont desopérandes. Dans l'expression <code>1 + 2</code>, le symbole + estun opérateur binaire et ses deux opérandes sont les valeurs 1 et2.</span></p><h2><span><a aria-hidden="true" class="anchor" id="operators.html_assignation"></a><a aria-hidden="true" class="hash-link" href="#operators.html_assignation"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Assignation</span></h2><p><span><strong>L'opérateur d'affectation</strong>(<code>a:=b</code>) initialise ou met à jour la valeur de<code>a</code> avec la valeur de <code>b</code> :</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-variable">$myNumber</span>:=<span class="hljs-number">3</span> <span class="hljs-comment">//assigne 3 à la variable MyNumber</span><span class="hljs-variable">$myDate</span>:=<span class="hljs-literal">!2018/01/21!</span> <span class="hljs-comment">//assigne une date littérale</span><span class="hljs-variable">$myLength</span>:=<span class="hljs-function">Length</span>(<span class="hljs-string">"Acme"</span>) <span class="hljs-comment">//assigne le résultat de la commande (4) à $myLength</span><span class="hljs-variable">$col</span>:=New collection <span class="hljs-comment">//$col est initialisé avec une collection vide</span></code></span></pre><blockquote><p>Attention à ne PAS confondre l'opérateur d'affectation<code>:=</code> avec l'opérateur de comparaison d'égalité<code>=</code>. Un opérateur d'affectation différent (et non pas<code>=</code>) a été choisi délibérément pour éviter les problèmeset la confusion qui surviennent souvent avec == ou === dansd'autres langages de programmation. De telles erreurs sont souventdifficiles à reconnaître pour le compilateur et conduisent à undépannage fastidieux.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="operators.html_op%C3%A9rateurs-basiques"></a><a aria-hidden="true"class="hash-link" href="#operators.html_op%25C3%25A9rateurs-basiques"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Opérateurs basiques</h2><p>Les résultats des opérateurs dépendent des <strong>types dedonnées</strong> auxquels ils sont appliqués. Ils sont décrits avecles types de données, dans les sections suivantes :</p><ul><li><a href="#operators.html_logical-operators"><strong>Opérateurslogiques</strong></a> (sur les expressions<strong>booléennes</strong>)</li><li><a href="#operators.html_date-operators"><strong>Opérateurs surles dates</strong></a></li><li><a href="#operators.html_time-operators"><strong>Opérateurs surles heures</strong></a></li><li><a href="#operators.html_number-operators"><strong>Opérateurssur les nombres</strong></a></li><li><a href="#operators.html_bitwise-operators"><strong>Opérateursbinaires</strong></a> (sur les expressions <strong>d'entierslongs</strong>)</li><li><a href="#operators.html_picture-operators"><strong>Opérateurssur les images</strong></a></li><li><a href="#operators.html_pointer-operators"><strong>Opérateurssur les pointeurs</strong></a></li><li><a href="#operators.html_string-operators"><strong>Opérateurssur les chaînes</strong></a></li></ul><h2><a aria-hidden="true" class="anchor" id="operators.html_op%C3%A9rateurs-daffectation-compos%C3%A9s"></a><a aria-hidden="true"class="hash-link" href="#operators.html_op%25C3%25A9rateurs-daffectation-compos%25C3%25A9s"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Opérateurs d'affectation composés</h2><p>4D fournit des <strong>opérateurs d'affectationcomposés</strong> qui combinent l'affectation avec une autreopération. L'opérateur d'affectation d'addition (<code>+=</code>)en est un exemple :</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$a</span>:=<span class="hljs-number">1</span> <span class="hljs-variable">$a</span>+=<span class="hljs-number">2</span> <span class="hljs-comment">// $a=3</span></code></pre><p>Les opérateurs d'affectation composés suivants sont pris encharge :</p><table><thead><tr><th>Opérateur</th><th>Syntaxe</th><th>Assigne</th><th>Exemple</th></tr></thead><tbody><tr><td>Addition</td><td>Text += Text</td><td>Text</td><td><code>$t+=" World" //$t:=$t+" World"</code></td></tr><tr><td></td><td>Number += Number</td><td>Nombre</td><td><code>$n+=5 //$n:=$n+5</code></td></tr><tr><td></td><td>Date += Number</td><td>Date</td><td><code>$d+=5 //$d:=$d+5</code></td></tr><tr><td></td><td>Time += Time</td><td>Heure</td><td><code>$t1+=$t2 //$t1:=$t1+$t2</code></td></tr><tr><td></td><td>Time += Number</td><td>Nombre</td><td><code>$t1+=5 //$t1:=$t1+5</code></td></tr><tr><td></td><td>Picture += Picture</td><td>Image</td><td><code>$p1+=$p2 //$p1:=$p1+$p2 (add $p2 to the right of$p1)</code></td></tr><tr><td></td><td>Picture += Number</td><td>Image</td><td><code>$p1+=5 //$p1:=$p1+5 (move $p1 horizontally 5 pixels tothe right)</code></td></tr><tr><td>Soustraction</td><td>Number -= Number</td><td>Nombre</td><td><code>$n-=5 //$n:=$n-5</code></td></tr><tr><td></td><td>Date -= Number</td><td>Date</td><td><code>$d-=5 //$d:=$d-5</code></td></tr><tr><td></td><td>Time -= Time</td><td>Heure</td><td><code>$t1-=$t2 //$t1:=$t1-$t2</code></td></tr><tr><td></td><td>Time -= Number</td><td>Nombre</td><td><code>$t1-=5 //$t1:=$t1-5</code></td></tr><tr><td></td><td>Picture -= Number</td><td>Image</td><td><code>$p1-=5 //$p1:=$p1-5 (déplacer horizontalement $p1 de 5pixels vers la gauche)</code></td></tr><tr><td>Division</td><td>Number /= Number</td><td>Nombre</td><td><code>$n/=5 //$n:=$n/5</code></td></tr><tr><td></td><td>Time /= Time</td><td>Heure</td><td><code>$t1/=$t2 //$t1:=$t1/$t2</code></td></tr><tr><td></td><td>Time /= Number</td><td>Nombre</td><td><code>$t1/=5 //$t1:=$t1/5</code></td></tr><tr><td></td><td>Picture /= Picture</td><td>Image</td><td><code>$p1/=$p2 //$p1:=$p1/$p2 (ajouter $p2 vers le bas de$p1)</code></td></tr><tr><td></td><td>Picture /= Number</td><td>Image</td><td><code>$p1/=5 //$p1:=$p1/5 (déplacer verticalement $p1 de 5pixels)</code></td></tr><tr><td>Multiplication</td><td>Text *= Number</td><td>Text</td><td><code>$t*="abc" //$t:=$t*"abc"</code></td></tr><tr><td></td><td>Number *= Number</td><td>Nombre</td><td><code>$n*=5 //$n:=$n*5</code></td></tr><tr><td></td><td>Time *= Time</td><td>Heure</td><td><code>$t1*=$t2 //$t1:=$t1*$t2</code></td></tr><tr><td></td><td>Time *= Number</td><td>Nombre</td><td><code>$t1*=5 //$t1:=$t1*5</code></td></tr><tr><td></td><td>Picture *= Number</td><td>Image</td><td><code>$p1*=5 //$p1:=$p1*5 (redimensionner $p1 de 5)</code></td></tr></tbody></table><p>Ces opérateurs s'appliquent à toutes les <a href="#operators.html_assignable-vs-non-assignable-expressions">expressionsassignables</a> (à l'exception des images en tant que propriétésd'objet ou éléments de collection).</p><p>L'opération "source <code>operator</code> value" n'est passtrictement équivalente à "source := source <code>operator</code>valeur" car l'expression désignant la source (variable, champ,propriété d'objet, élément de collection) n'est évaluée qu'uneseule fois. Par exemple, dans une expression telle que<code>getPointer()-&gt;+=1</code>, la méthode<code>getPointer</code> n'est appelée qu'une seule fois.</p><blockquote><p><a href="#operators.html_character-reference-symbols">L'indexation descaractères dans le texte</a> et <a href="#operators.html_accessing-a-scalar-blobs-bytes">l'indexation desoctets dans le blob</a> ne prennent pas en charge cesopérateurs.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="operators.html_exemples"></a><a aria-hidden="true" class="hash-link" href="#operators.html_exemples"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemples</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// Addition</span><span class="hljs-variable">$x</span>:=<span class="hljs-number">2</span><span class="hljs-variable">$x</span>+=<span class="hljs-number">5</span> <span class="hljs-comment">//$x=7</span><span class="hljs-variable">$t</span>:=<span class="hljs-string">"Hello"</span> <span class="hljs-variable">$t</span>+=<span class="hljs-string">" World"</span> <span class="hljs-comment">//$t="Hello World" </span><span class="hljs-variable">$d</span>:=<span class="hljs-literal">!2000-11-10!</span><span class="hljs-variable">$d</span>+=<span class="hljs-number">10</span> <span class="hljs-comment">//$d=!2000-11-20!</span><span class="hljs-comment">// Soustraction</span><span class="hljs-variable">$x1</span>:=<span class="hljs-number">10</span><span class="hljs-variable">$x1</span>-=<span class="hljs-number">5</span> <span class="hljs-comment">//$x1=5</span><span class="hljs-variable">$d1</span>:=<span class="hljs-literal">!2000-11-10!</span><span class="hljs-variable">$d1</span>-=<span class="hljs-number">10</span> <span class="hljs-comment">// $d1=!2000-10-31!</span><span class="hljs-comment">// Division</span><span class="hljs-variable">$x3</span>:=<span class="hljs-number">10</span><span class="hljs-variable">$x3</span>/=<span class="hljs-number">2</span> <span class="hljs-comment">// $x3=5</span><span class="hljs-comment">// Multiplication</span><span class="hljs-variable">$x2</span>:=<span class="hljs-number">10</span><span class="hljs-variable">$x2</span>*=<span class="hljs-number">5</span> <span class="hljs-comment">// $x2=10</span><span class="hljs-variable">$t2</span>:=<span class="hljs-string">"Hello"</span> <span class="hljs-variable">$t2</span>*=<span class="hljs-number">2</span> <span class="hljs-comment">// $t2="HelloHello"</span></code></pre><h2><a aria-hidden="true" class="anchor" id="operators.html_short-circuit-operators"></a><a aria-hidden="true"class="hash-link" href="#operators.html_short-circuit-operators"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Short-circuit operators</h2><p>The <strong>&amp;&amp;</strong> and <strong>||</strong>operators are <strong>short circuit operators</strong>. A shortcircuit operator is one that doesn't necessarily evaluate all ofits operands.</p><p>The difference with the single <a href="#operators.html_logical-operators"><strong>&amp;</strong> and<strong>|</strong> boolean operators</a> is that the short-circuitoperators <strong>&amp;&amp;</strong> and <strong>||</strong> don'treturn a boolean value. They evaluate expressions as <a href="#operators.html_truthy-and-falsy">truthy or falsy</a>, then returnone of the expressions.</p><h3><a aria-hidden="true" class="anchor" id="operators.html_short-circuit-and-operator-"></a><a aria-hidden="true" class="hash-link" href="#operators.html_short-circuit-and-operator-"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Short-circuit AND operator (&amp;&amp;)</h3><p>The rule is as follows:</p><p>Given <code>Expr1 &amp;&amp; Expr2</code>:</p><p>The short-circuit AND operator evaluates operands from left toright, returning immediately with the value of the first falsyoperand it encounters; if all values are <a href="#operators.html_truthy-and-falsy">truthy</a>, the value of thelast operand is returned.</p><p>The following table summarizes the different cases for the<strong>&amp;&amp;</strong> operator:</p><table><thead><tr><th>Expr1</th><th>Expr2</th><th>Value returned</th></tr></thead><tbody><tr><td>truthy</td><td>truthy</td><td>Expr2</td></tr><tr><td>truthy</td><td>falsy</td><td>Expr2</td></tr><tr><td>falsy</td><td>truthy</td><td>Expr1</td></tr><tr><td>falsy</td><td>falsy</td><td>Expr1</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="operators.html_exemple-1"></a><a aria-hidden="true" class="hash-link" href="#operators.html_exemple-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$v </span>: Variant<span class="hljs-variable">$v</span>:= <span class="hljs-string">"Hello"</span> &amp;&amp; <span class="hljs-string">"World"</span> <span class="hljs-comment">//"World"</span><span class="hljs-variable">$v</span>:=<span class="hljs-literal">False</span> &amp;&amp; <span class="hljs-number">0</span> <span class="hljs-comment">// False</span><span class="hljs-variable">$v</span>:=<span class="hljs-number">0</span> &amp;&amp; <span class="hljs-literal">False</span> <span class="hljs-comment">// False</span><span class="hljs-variable">$v</span>:=<span class="hljs-number">5</span> &amp;&amp; <span class="hljs-literal">!00-00-00!</span> <span class="hljs-comment">// 00/00/00</span><span class="hljs-variable">$v </span>:= <span class="hljs-number">5</span> &amp;&amp; <span class="hljs-number">10</span> &amp;&amp; <span class="hljs-string">"hello"</span> <span class="hljs-comment">//"hello"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="operators.html_exemple-2"></a><a aria-hidden="true" class="hash-link" href="#operators.html_exemple-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><p>Say you have an online store, and some products have a tax rateapplied, and others don't.</p><p>To calculate the tax, you multiply the price by the tax rate,which may not have been specified.</p><p>So you can write this:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$tax </span>: Variant<span class="hljs-variable">$tax</span>:=<span class="hljs-variable">$item</span>.taxRate &amp;&amp; (<span class="hljs-variable">$item</span>.price*<span class="hljs-variable">$item</span>.taxRate)</code></pre><p><code>$tax</code> will be NULL if taxRate is NULL (orundefined), otherwise it will store the result of thecalculation.</p><h4><a aria-hidden="true" class="anchor" id="operators.html_exemple-3"></a><a aria-hidden="true" class="hash-link" href="#operators.html_exemple-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 3</h4><p>Short-circuit operators are useful in tests such as:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span>((<span class="hljs-variable">$myObject</span>#<span class="hljs-literal">Null</span>) &amp;&amp; (<span class="hljs-variable">$myObject</span>.value&gt;<span class="hljs-number">10</span>))    <span class="hljs-comment">//code</span><span class="hljs-keyword">End if</span></code></pre><p>If $myObject is Null, the second argument is not executed, thusno error is thrown.</p><h3><a aria-hidden="true" class="anchor" id="operators.html_short-circuit-or-operator-"></a><a aria-hidden="true" class="hash-link" href="#operators.html_short-circuit-or-operator-"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Short-circuit OR operator (||)</h3><p>The || operator returns the value of one of the specifiedoperands. The expression is evaluated left to right and tested forpossible "short-circuit" evaluation using the following rule:</p><p>Given <code>Expr1 || Expr2</code>:</p><p>If Expr1 is <a href="#operators.html_truthy-and-falsy">truthy</a>, Expr2 is notevaluated and the calculation returns Expr1.</p><p>If Expr1 is <a href="#operators.html_truthy-and-falsy">falsy</a>, the calculationreturns Expr2.</p><p>The following table summarizes the different cases and the valuereturned for the <strong>||</strong> operator:</p><table><thead><tr><th>Expr1</th><th>Expr2</th><th>Value returned</th></tr></thead><tbody><tr><td>truthy</td><td>truthy</td><td>Expr1</td></tr><tr><td>truthy</td><td>falsy</td><td>Expr1</td></tr><tr><td>falsy</td><td>truthy</td><td>Expr2</td></tr><tr><td>falsy</td><td>falsy</td><td>Expr2</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="operators.html_exemple-1-1"></a><a aria-hidden="true" class="hash-link" href="#operators.html_exemple-1-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</h4><p>Say you have a table called Employee. Some employees haveentered a phone number, and others haven't. This means that<code>$emp.phone</code> could be NULL, and you cannot assign NULLto a Text variable. But you can write the following:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$phone </span>: Text<span class="hljs-variable">$phone</span>:=<span class="hljs-variable">$emp</span>.phone || <span class="hljs-string">"n/a"</span></code></pre><p>In which case <code>$phone</code> will store either a phonenumber or the "n/a" string.</p><h4><a aria-hidden="true" class="anchor" id="operators.html_exemple-2-1"></a><a aria-hidden="true" class="hash-link" href="#operators.html_exemple-2-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><p>Given a table called Person with a <em>name</em> field, as wellas a <em>maiden name</em> field for married women.</p><p>The following example checks if there is a maiden name andstores it in a variable, otherwise it simply stores the person'sname:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$name</span>: Text<span class="hljs-variable">$name</span>:=<span class="hljs-variable">$person</span>.maidenName || <span class="hljs-variable">$person</span>.name</code></pre><h3><a aria-hidden="true" class="anchor" id="operators.html_priorit%C3%A9"></a><a aria-hidden="true" class="hash-link" href="#operators.html_priorit%25C3%25A9"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Priorité</h3><p>The <code>&amp;&amp;</code> and <code>||</code> operators havethe same precedence as the logical operators <code>&amp;</code> and<code>|</code>, and are evaluated left to right.</p><p>This means that <code>a || b &amp;&amp; c</code> is evaluated as<code>(a || b) &amp;&amp; c</code>.</p><h2><a aria-hidden="true" class="anchor" id="operators.html_op%C3%A9rateur-ternaire"></a><a aria-hidden="true"class="hash-link" href="#operators.html_op%25C3%25A9rateur-ternaire"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Opérateur ternaire</h2><p>L'opérateur conditionnel ternaire vous permet d'écrire desexpressions conditionnelles sur une seule ligne. Par exemple, ilpeut remplacer une séquence complète d'instructions <a href="#operators.html_ifelseend-if">If...Else</a>.</p><p>Il prend trois opérandes dans l'ordre suivant :</p><ul><li>une condition suivie d'un point d'interrogation (?)</li><li>une expression à exécuter si la condition est <a href="#operators.html_truthy-and-falsy">truthy</a>, suivie de deuxpoints (:)</li><li>une expression à exécuter si la condition est <a href="#operators.html_truthy-and-falsy">falsy</a></li></ul><h3><a aria-hidden="true" class="anchor" id="operators.html_syntaxe"></a><a aria-hidden="true" class="hash-link" href="#operators.html_syntaxe"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntaxe</h3><p>La syntaxe est la suivante :</p><p><code>condition ? exprIfTruthy : exprIfFalsy</code></p><blockquote><p>Since the <a href="https://doc.4d.com/4Dv19R3/4D/19-R3/Using-tokens-in-formulas.300-5583062.en.html">token syntax</a> uses colons, we recommend inserting a space afterthe colon <code>:</code> or enclosing tokens using parentheses toavoid any conflicts.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="operators.html_exemples-1"></a><a aria-hidden="true" class="hash-link" href="#operators.html_exemples-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemples</h3><h4><a aria-hidden="true" class="anchor" id="operators.html_a-simple-example"></a><a aria-hidden="true" class="hash-link" href="#operators.html_a-simple-example"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>A simple example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$age </span>: Integer<span class="hljs-keyword">var</span> <span class="hljs-variable">$beverage </span>: Text<span class="hljs-variable">$age</span>:=<span class="hljs-number">26</span><span class="hljs-variable">$beverage</span>:=(<span class="hljs-variable">$age</span>&gt;=<span class="hljs-number">21</span>) ? <span class="hljs-string">"Beer"</span> : <span class="hljs-string">"Juice"</span><span class="hljs-function">ALERT</span>(<span class="hljs-variable">$beverage</span>) <span class="hljs-comment">// "Beer"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="operators.html_handling-data-from-a-table"></a><a aria-hidden="true" class="hash-link" href="#operators.html_handling-data-from-a-table"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Handling data from a table</h4><p>This example stores a person's full name in a variable, andhandles the case when no first name or last name has beenspecified:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$fullname </span>: Text<span class="hljs-comment">// If one of the names is missing, store the one that exists, otherwise store an empty string</span><span class="hljs-variable">$fullname</span>:=(<span class="hljs-variable">$person</span>.firstname &amp;&amp; <span class="hljs-variable">$person</span>.lastname)<span class="hljs-function"> ? </span>(<span class="hljs-variable">$person</span>.firstname+<span class="hljs-string">" "</span>+<span class="hljs-variable">$person</span>.lastname) : (<span class="hljs-variable">$person</span>.lastname || <span class="hljs-variable">$person</span>.firstname) || <span class="hljs-string">""</span></code></pre><h2><a aria-hidden="true" class="anchor" id="operators.html_truthy-et-falsy"></a><a aria-hidden="true" class="hash-link" href="#operators.html_truthy-et-falsy"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Truthy et falsy</h2><p>En plus d'un type, chaque valeur possède également une valeurbooléenne inhérente, généralement connue sous le nom de<strong>truthy</strong> ou <strong>falsy</strong>.</p><blockquote><p><strong>truthy</strong> and <strong>falsy</strong> values areonly evaluated by <a href="#operators.html_short-circuit-operators">short-circuit</a> and<a href="#operators.html_ternary-operator">ternary</a>operators.</p></blockquote><p>Les valeurs suivantes sont <strong>falsy</strong>:</p><ul><li>false</li><li>Null</li><li>indéfini</li><li>Null object</li><li>Null collection</li><li>Null pointer</li><li>Null picture</li><li>Null date !00-00-00!</li><li>"" - Chaînes vides</li><li>[] - Collections vides</li><li>{} - Objets vides</li></ul><p>Toutes les autres valeurs sont considérées comme<strong>truthy</strong>, y compris :</p><ul><li>0 - zéro numérique (Entier ou autre)</li></ul><p>In 4D, <strong>truthy</strong> and <strong>falsy</strong>evaluation reflects the <strong>usability</strong> of a value,which means that a truthy value exists and can be processed by thecode without generating errors or unexpected results. The rationalebehind this is to provide a convenient way to handle<em>undefined</em> and <em>null</em> values in objects andcollections, so that a reduced number of <a href="#operators.html_ifelseend-if">If…Else</a> statements are necessaryto avoid runtime errors.</p><p>For example, when you use a <a href="#operators.html_short-circuit-or-operator-">short-circuit ORoperator</a>:</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$value</span>:=<span class="hljs-variable">$object</span>.value || <span class="hljs-variable">$defaultValue</span></code></pre><p>... you get the default value whenever <em>$object</em> does notcontain the <code>value</code> property OR when it is<em>null</em>. So this operator checks the existence or usabilityof the value instead of a specific value. Note that because thenumerical value 0 exists and is usable, it is not treatedspecially, thus it is <strong>truthy</strong>.</p><p>Regarding values representing collections, objects, or strings,"empty" values are considered <strong>falsy</strong>. It is handywhen you want to assign a default value whenever an empty one isencountered.</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$phone</span>:=<span class="hljs-variable">$emp</span>.phone || <span class="hljs-string">"n/a"</span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#quick-tour.html"><span class="arrow-prev">←</span> <span>Tourd'horizon</span></a><a class="docs-next button" href="#data-types.html"><span>Types de données</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#operators.html_terminologie">Terminologie</a></li><li><a href="#operators.html_assignation">Assignation</a></li><li><a href="#operators.html_op%25C3%25A9rateurs-basiques">Opérateursbasiques</a></li><li><a href="#operators.html_op%25C3%25A9rateurs-daffectation-compos%25C3%25A9s">Opérateurs d'affectation composés</a></li><li><a href="#operators.html_short-circuit-operators">Short-circuitoperators</a><ul class="toc-headings"><li><a href="#operators.html_short-circuit-and-operator-">Short-circuit ANDoperator (&amp;&amp;)</a></li><li><a href="#operators.html_short-circuit-or-operator-">Short-circuit ORoperator (||)</a></li><li><a href="#operators.html_priorit%25C3%25A9">Priorité</a></li></ul></li><li><a href="#operators.html_op%25C3%25A9rateur-ternaire">Opérateurternaire</a><ul class="toc-headings"><li><a href="#operators.html_syntaxe">Syntaxe</a></li><li><a href="#operators.html_exemples-1">Exemples</a></li></ul></li><li><a href="#operators.html_truthy-et-falsy">Truthy etfalsy</a></li></ul></nav></div></div></body></html>