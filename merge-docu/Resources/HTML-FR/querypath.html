<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>$querypath · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Retourne la requête telle qu'elle a été exécutée par 4D Server (par exemple, `$querypath=true`)"name="description" /><meta content="fr" name="docsearch:language" /><meta content="$querypath · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Retourne la requête telle qu'elle a été exécutée par 4D Server (par exemple, `$querypath=true`)"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#%24querypath.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">$querypath<a aria-hidden="true" class="anchor" id="querypath.html"></a></h1></header><article><div><p><span>Retourne la requête telle qu'elle a été exécutée par 4DServer (par exemple, <code>$querypath=true</code>)</span></p><h2><span><a aria-hidden="true" class="anchor" id="querypath.html_description"></a><a aria-hidden="true" class="hash-link" href="#querypath.html_description"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</span></h2><p><span><code>$querypath</code> retourne la requête telle qu'ellea été exécutée par 4D Server. Si, par exemple, une partie de larequête passée ne retourne aucune entité, le reste de la requêten'est pas exécuté. La requête lancée est optimisée, comme vouspouvez le voir dans ce $ <code>$querypath</code>.</span></p><p><span>Pour plus d'informations sur les chemins de requête,reportez-vous à <a href="#querypath.html_querypath-and-queryplan">queryPlan etequeryPath</a>.</span></p><p><span>Dans la collection d'étapes, il existe un objet avec lespropriétés suivantes qui définissent la requête exécutée:</span></p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>description</td><td>Chaine</td><td>Requête exécutée ou "AND" lorsqu'il existe plusieursétapes</td></tr><tr><td>time</td><td>Nombre</td><td>Nombre de millisecondes nécessaires pour exécuter larequête</td></tr><tr><td>recordsfounds</td><td>Nombre</td><td>Nombre d'enregistrements trouvés</td></tr><tr><td>steps</td><td>Collection</td><td>Une collection avec un objet définissant l'étape suivante duchemin de la requête</td></tr></tbody></table><h2><span><a aria-hidden="true" class="anchor" id="querypath.html_exemple"></a><a aria-hidden="true" class="hash-link" href="#querypath.html_exemple"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</span></h2><p><span>Si vous exécutez la requête suivante :</span></p><p><span><code>GET /rest/Employee/$filter="employer.name=acme ANDlastName=Jones"&amp;$querypath=true</code></span></p><p><span>Et si aucune entité n'a été trouvée, le chemin de larequête suivant sera retourné si vous saisissez ce qui suit:</span></p><p><span><code>GET /rest/$querypath</code></span></p><p><span><strong>Réponse</strong> :</span></p><pre><span><code class="hljs"><span class="hljs-attribute">__queryPath</span>: {<span class="yaml">    <span class="hljs-attr">steps:</span> <span class="hljs-string">[</span>        <span class="hljs-string">{</span>            <span class="hljs-attr">description:</span> <span class="hljs-string">"AND"</span><span class="hljs-string">,</span>            <span class="hljs-attr">time:</span> <span class="hljs-number">0</span><span class="hljs-string">,</span>            <span class="hljs-attr">recordsfounds:</span> <span class="hljs-number">0</span><span class="hljs-string">,</span>            <span class="hljs-attr">steps:</span> <span class="hljs-string">[</span>                <span class="hljs-string">{</span>                    <span class="hljs-attr">description:</span> <span class="hljs-string">"Join on Table : Company : People.employer = Company.ID"</span><span class="hljs-string">,</span>                    <span class="hljs-attr">time:</span> <span class="hljs-number">0</span><span class="hljs-string">,</span>                    <span class="hljs-attr">recordsfounds:</span> <span class="hljs-number">0</span><span class="hljs-string">,</span>                    <span class="hljs-attr">steps:</span> <span class="hljs-string">[</span>                        <span class="hljs-string">{</span>                            <span class="hljs-attr">steps:</span> <span class="hljs-string">[</span>                                <span class="hljs-string">{</span>                                    <span class="hljs-attr">description:</span> <span class="hljs-string">"Company.name = acme"</span><span class="hljs-string">,</span>                                    <span class="hljs-attr">time:</span> <span class="hljs-number">0</span><span class="hljs-string">,</span>                                    <span class="hljs-attr">recordsfounds:</span> <span class="hljs-number">0</span>                                <span class="hljs-string">}</span>                            <span class="hljs-string">]</span>                        <span class="hljs-string">}</span>                    <span class="hljs-string">]</span>                <span class="hljs-string">}</span>            <span class="hljs-string">]</span>        <span class="hljs-string">}</span>    <span class="hljs-string">]</span><span class="hljs-string">}</span></span></code></span></pre><p>En revanche, si la première requête retourne plus d'une entité,la seconde sera exécutée. Si nous exécutons la requête suivante:</p><p><code>GET /rest/Employee/$filter="employer.name=a* ANDlastName!=smith"&amp;$querypath=true</code></p><p>Si au moins une entité a été trouvée, le chemin de la requêtesuivant sera retourné si vous saisissez ce qui suit :</p><p><code>GET /rest/$querypath</code></p><p><strong>Réponse</strong> :</p><pre><code class="hljs"><span class="hljs-string">"__queryPath"</span>: {    <span class="hljs-string">"steps"</span>: [        {            <span class="hljs-string">"description"</span>: <span class="hljs-string">"AND"</span>,            <span class="hljs-string">"time"</span>: <span class="hljs-number">1</span>,            <span class="hljs-string">"recordsfounds"</span>: <span class="hljs-number">4</span>,            <span class="hljs-string">"steps"</span>: [                {                    <span class="hljs-string">"description"</span>: <span class="hljs-string">"Join on Table : Company : Employee.employer = Company.ID"</span>,                    <span class="hljs-string">"time"</span>: <span class="hljs-number">1</span>,                    <span class="hljs-string">"recordsfounds"</span>: <span class="hljs-number">4</span>,                    <span class="hljs-string">"steps"</span>: [                        {                            <span class="hljs-string">"steps"</span>: [                                {                                    <span class="hljs-string">"description"</span>: <span class="hljs-string">"Company.name LIKE a*"</span>,                                    <span class="hljs-string">"time"</span>: <span class="hljs-number">0</span>,                                    <span class="hljs-string">"recordsfounds"</span>: <span class="hljs-number">2</span>                                }                            ]                        }                    ]                },                {                    <span class="hljs-string">"description"</span>: <span class="hljs-string">"Employee.lastName # smith"</span>,                    <span class="hljs-string">"time"</span>: <span class="hljs-number">0</span>,                    <span class="hljs-string">"recordsfounds"</span>: <span class="hljs-number">4</span>                }            ]        }    ]}</code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#orderby.html"><span class="arrow-prev">←</span><span>$orderby</span></a><a class="docs-next button" href="#queryplan.html"><span>$queryplan</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#querypath.html_description">Description</a></li><li><a href="#querypath.html_exemple">Exemple</a></li></ul></nav></div></div></body></html>