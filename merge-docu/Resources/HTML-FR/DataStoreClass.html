<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>DataStore · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Un [Datastore](/docs/Rx/fr/ORDA/dsmapping.html#datastore) correspond à l'objet d'interface fourni par ORDA pour référencer et accéder à une base de données. Les objets `Datastore` sont retournés par les commandes suivantes :"name="description" /><meta content="fr" name="docsearch:language" /><meta content="DataStore · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Un [Datastore](/docs/Rx/fr/ORDA/dsmapping.html#datastore) correspond à l'objet d'interface fourni par ORDA pour référencer et accéder à une base de données. Les objets `Datastore` sont retournés par les commandes suivantes :"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#DataStoreClass.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">DataStore<a aria-hidden="true" class="anchor" id="DataStoreClass.html"></a></h1></header><article><div><p><span>Un <a href="#DataStoreClass.html_datastore">Datastore</a>correspond à l'objet d'interface fourni par ORDA pour référencer etaccéder à une base de données. Les objets <code>Datastore</code>sont retournés par les commandes suivantes :</span></p><ul><li><span><a href="#DataStoreClass.html_ds">ds</a> : un raccourcivers le datastore principal</span></li><li><span><a href="#DataStoreClass.html_open-datastore">Opendatastore</a> : pour ouvrir n'importe quel datastoredistant</span></li></ul><h3><span><a aria-hidden="true" class="anchor" id="DataStoreClass.html_sommaire"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_sommaire"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Sommaire</span></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#DataStoreClass.html_canceltransaction"><strong>.cancelTransaction()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;annule la transaction</p></td></tr><tr><td><a href="#DataStoreClass.html_clearallremotecontexts"><strong>.clearAllRemoteContexts()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;efface tous les attributs pour tous lescontextes actifs dans le datastore</p></td></tr><tr><td><a href="#DataStoreClass.html_dataclassname"><strong><em>.dataclassName</em></strong>: 4D.DataClass</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient la description de ladataclass</p></td></tr><tr><td><a href="#DataStoreClass.html_encryptionstatus"><strong>.encryptionStatus()</strong>:Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp;retourne un objet qui fournit le statutde chiffrement du fichier de données courant</p></td></tr><tr><td><a href="#DataStoreClass.html_getallremotecontexts"><strong>.getAllRemoteContexts()</strong>: Collection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;retourne une collection d'objetscontenant des informations sur tous les contextes d'optimisationactifs dans le datastore</p></td></tr><tr><td><a href="#DataStoreClass.html_getinfo"><strong>.getInfo()</strong>:Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp;retourne un objet qui fournit desinformations sur le datastore</p></td></tr><tr><td><a href="#DataStoreClass.html_getremotecontextinfo"><strong>.getRemoteContextInfo</strong>(<em>contextName</em>: Text) : Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp; retourne un objet qui contient desinformations sur le contexte d'optimisation <em>contextName</em>dans le datastore.</p></td></tr><tr><td><a href="#DataStoreClass.html_getrequestlog"><strong>.getRequestLog()</strong>: Collection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;retourne les requêtes ORDA enregistréesen mémoire sur le poste client</p></td></tr><tr><td><a href="#DataStoreClass.html_makeselectionsalterable"><strong>.makeSelectionsAlterable()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;définit toutes les nouvelles sélectionsd'entités comme altérables par défaut dans tous les datastores del'application</p></td></tr><tr><td><a href="#DataStoreClass.html_providedatakey"><strong>.provideDataKey</strong>(<em>curPassPhrase</em> : Text ) : Object<br /><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) :Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp;permet de fournir une clé de chiffrementdes données pour le fichier de données courant du datastore etdétecte si la clé correspond aux données chiffrées</p></td></tr><tr><td><a href="#DataStoreClass.html_setadminprotection"><strong>.setAdminProtection</strong>(<em>status</em> : Boolean )</a><p>&nbsp;&nbsp;&nbsp;&nbsp;permet de désactiver tout accès auxdonnées sur le <a href="#DataStoreClass.html_http-port">port webadmin</a>, y compris via le <a href="#dataExplorer.html">DataExplorer</a> dans les sessions <code>WebAdmin</code></p></td></tr><tr><td><a href="#DataStoreClass.html_setremotecontextinfo"><strong>.setRemoteContextInfo</strong>(<em>contextName</em> : Text ; <em>dataClassName</em> : Text ;<em>attributes</em> : Text {; <em>contextType</em> : Text { ;<em>pageLength</em> : Integer}})<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassName</em> : Text; <em>attributesColl</em> :Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer }} )<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassObject</em> : 4D.DataClass ; <em>attributes</em> :Text {; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer }})<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassObject</em> : 4D.DataClass ; <em>attributesColl</em>: Collection {; <em>contextType</em> : Text { ; <em>pageLength</em>: Integer }} )</a><p>&nbsp;&nbsp;&nbsp;&nbsp;relie les attributs de dataclassspécifiés au contexte d'optimisation <em>contextName</em></p></td></tr><tr><td><a href="#DataStoreClass.html_startrequestlog"><strong>.startRequestLog</strong>()<br /><strong>.startRequestLog</strong>( <em>file</em> : 4D.File )<br /><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</a><p>&nbsp;&nbsp;&nbsp;&nbsp;lance l'enregistrement des requêtes ORDAsur le poste client</p></td></tr><tr><td><a href="#DataStoreClass.html_starttransaction"><strong>.startTransaction()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;démarre une transaction dans le processcourant sur la base de données du datastore</p></td></tr><tr><td><a href="#DataStoreClass.html_stoprequestlog"><strong>.stopRequestLog()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;stoppe tout enregistrement des requêtesORDA sur le poste client</p></td></tr><tr><td><a href="#DataStoreClass.html_validatetransaction"><strong>.validateTransaction()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;valide la transaction</p></td></tr></tbody></table><h2><span><a aria-hidden="true" class="anchor" id="DataStoreClass.html_ds"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_ds"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ds</span></h2><details><summary><span>Historique</span></summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18</td><td>Prise en charge du paramètre localID</td></tr><tr><td>v17</td><td>Ajout</td></tr></tbody></table></details><p><span><strong>ds</strong> { ( <em>localID</em> : Text ) } :cs.DataStore</span></p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>localID</td><td>Text</td><td>-&gt;</td><td>Identifiant local du datastore distant</td></tr><tr><td>Résultat</td><td>cs.DataStore</td><td>&lt;-</td><td>Nouvelle référence de datastore</td></tr></tbody></table><h4><span><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_description"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</span></h4><p><span>La commande<code>ds</code> retourne une nouvelle référencevers le datastore correspondant à la base de données 4D courante ouà la base désignée par <em>localID</em>.</span></p><p><span>Si vous omettez le paramètre <em>localID</em> (ou si vouspassez une chaîne vide ""), la commande renvoie une référence audatastore correspondant à la base de données 4D locale (ou à labase 4D Server en cas d'ouverture d'une base de données distantesur 4D Server). Le datastore est ouvert automatiquement et estdisponible directement via <code>ds</code>.</span></p><p><span>Vous pouvez également obtenir une référence sur undatastore distant ouvert en passant son identifiant local dans leparamètre <em>localID</em>. Le datastore doit avoir étépréalablement ouvert avec la commande <a href="#DataStoreClass.html_open-datastore"><code>Opendatastore</code></a> par la base de données courante (hôte oucomposant). L'identifiant local est défini lors de l'utilisation decette commande.</span></p><blockquote><p><span>La portée de l'identifiant local est la base de donnéesdans laquelle le datastore a été ouvert.</span></p></blockquote><p><span>Si aucun datastore nommé <em>localID</em> n'est trouvé, lacommande renvoie <strong>Null</strong>.</span></p><p><span>Les objets disponibles dans le <code>cs.Datastore</code>sont créés à partir de la base de données cible en fonction des<a href="#DataStoreClass.html_r%25C3%25A8gles-g%25C3%25A9n%25C3%25A9rales">règlesgénérales</a> de correspondance d'ORDA.</span></p><h4><span><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-1"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</span></h4><p><span>Utilisation du datastore principal de la base 4D:</span></p><pre><span><code class="hljs css language-4d"> <span class="hljs-variable">$result</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName = :1"</span>;<span class="hljs-string">"S@"</span>)</code></span></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-2"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo</span>; <span class="hljs-variable">$firstFrench</span>; <span class="hljs-variable">$firstForeign </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$frenchStudents</span>; <span class="hljs-variable">$foreignStudents </span>: cs.DataStore <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"4D Server"</span>;<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"192.168.18.11:8044"</span>) <span class="hljs-variable">$frenchStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"french"</span>) <span class="hljs-variable">$connectTo</span>.hostname:=<span class="hljs-string">"192.168.18.11:8050"</span> <span class="hljs-variable">$foreignStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"foreign"</span>)  <span class="hljs-comment">//...</span>  <span class="hljs-comment">//...</span> <span class="hljs-variable">$firstFrench</span>:=<span class="hljs-function">getFirst</span>(<span class="hljs-string">"french"</span>;<span class="hljs-string">"Students"</span>) <span class="hljs-variable">$firstForeign</span>:=<span class="hljs-function">getFirst</span>(<span class="hljs-string">"foreign"</span>;<span class="hljs-string">"Students"</span>)</code></pre><pre><code class="hljs css language-4d">  <span class="hljs-comment">//méthode getFirst</span>  <span class="hljs-comment">//getFirst(localID;dataclass) -&gt; entity</span> #<span class="hljs-function">DECLARE</span>( <span class="hljs-variable">$localId </span>: Text; <span class="hljs-variable">$dataClassName </span>: Text ) -&gt; <span class="hljs-variable">$entity </span>: 4D.Entity <span class="hljs-variable">$0</span>:=ds(<span class="hljs-variable">$localId</span>)[<span class="hljs-variable">$dataClassName</span>].<span class="hljs-function">all</span>().<span class="hljs-function">first</span>()</code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_open-datastore"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_open-datastore"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Open datastore</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18</td><td>Ajout</td></tr></tbody></table></details><p><strong>Open datastore</strong>( <em>connectionInfo</em> :Object ; <em>localID</em> : Text ) : cs.DataStore</p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>connectionInfo</td><td>Object</td><td>-&gt;</td><td>Propriétés de connexion utilisées pour joindre le datastoredistant</td></tr><tr><td>localID</td><td>Text</td><td>-&gt;</td><td>Identifiant à affecter au datastore ouvert sur l'applicationlocale (obligatoire)</td></tr><tr><td>Résultat</td><td>cs.DataStore</td><td>&lt;-</td><td>Objet datastore</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-1"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La commande <code>Open datastore</code> connecte l'application àla base de données 4D identifiée par le paramètre<em>connectionInfo</em> et retourne un objet<code>cs.DataStore</code> associé à l'alias local<em>localID</em>.</p><p>La base de données <em>connectionInfo</em> 4D doit êtredisponible en tant que datastore distant, c'est-à-dire :</p><ul><li>son serveur Web doit être lancé avec http et/ou httpsactivé,</li><li>son option <a href="#DataStoreClass.html_starting-the-rest-server"><strong>Activer leservice REST</strong></a> doit être cochée,</li><li>au moins une licence client est disponible.</li></ul><p>Si aucune base de données correspondante n'est trouvée,<code>Open datastore</code> retourne <strong>Null</strong>.</p><p><em>localID</em> est un alias local de la session ouverte sur ledatastore distant. Si <em>localID</em> existe déjà dansl'application, il est utilisé. Sinon, une nouvelle session<em>localID</em> est créée lors de l’utilisation de l’objetdatastore.</p><p>Les objets disponibles dans le <code>cs.Datastore</code> sontcréés à partir de la base de données cible en fonction des <a href="#DataStoreClass.html_r%25C3%25A8gles-g%25C3%25A9n%25C3%25A9rales">règlesgénérales</a> de correspondance d'ORDA.</p><p>Une fois la session ouverte, les instructions suivantesdeviennent équivalentes et renvoient une référence sur le mêmeobjet datastore :</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$myds</span>:=<span class="hljs-function">Open datastore</span>(connectionInfo;<span class="hljs-string">"myLocalId"</span>) <span class="hljs-variable">$myds2</span>:=ds(<span class="hljs-string">"myLocalId"</span>)  <span class="hljs-comment">//$myds et $myds2 sont équivalents</span></code></pre><p>Passez dans <em>connectionInfo</em> un objet décrivant ledatastore distant auquel vous souhaitez vous connecter. Il peutcontenir les propriétés suivantes (toutes les propriétés sontoptionnelles, à l'exception de <em>hostname</em>) :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>hostname</td><td>Text</td><td>Nom ou adresse IP de la base de données distante + " :" +numéro de port (le numéro de port est obligatoire)</td></tr><tr><td>user</td><td>Text</td><td>Nom d'utilisateur</td></tr><tr><td>password</td><td>Text</td><td>Mot de passe de l'utilisateur</td></tr><tr><td>idleTimeout</td><td>Longint</td><td>Délai d'inactivité de la session (exprimé en minutes), au termeduquel la session est automatiquement fermée par 4D. Si cettepropriété est omise, la valeur par défaut est 60 (1h). La valeur nepeut pas être &lt; 60 (si une valeur inférieure est passée, letimeout est fixé à 60). Pour plus d'informations, voir<strong>Fermeture des sessions</strong>.</td></tr><tr><td>tls</td><td>Boolean</td><td>Utilisez une connexion sécurisée(*). Si cette propriété estomise, "false" par défaut. L'utilisation d'une connexion sécuriséeest recommandée dans la mesure du possible.</td></tr><tr><td>type</td><td>Text</td><td>Doit être "4D Server"</td></tr></tbody></table><p>(*) Si tls est vrai, le protocole HTTPS est utilisé si :</p><ul><li>HTTPS est activé sur le datastore distant</li><li>Le port donné correspond au port HTTPS configuré dans lespropriétés</li><li>Un certificat valide et une clé de chiffrement privée sontinstallés dans la base. Sinon, l'erreur "1610 - Une requête versl’hôte: "{xxx}" a échoué" est générée</li></ul><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-1-1"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-1-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</h4><p>Connexion à un datastore distant sans utilisateur/mot de passe:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$remoteDS </span>: cs.DataStore <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"4D Server"</span>;<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"192.168.18.11:8044"</span>) <span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"students"</span>)<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"This remote datastore contains "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$remoteDS</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" students"</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-2-1"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-2-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><p>Connexion à un datastore distant avec utilisateur/mot depasse/timeout/tls :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$remoteDS </span>: cs.DataStore <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"4D Server"</span>;<span class="hljs-string">"hostname"</span>;\<span class="hljs-string">"192.168.18.11:4443"</span>;\      <span class="hljs-string">"user"</span>;<span class="hljs-string">"marie"</span>;<span class="hljs-string">"password"</span>;<span class="hljs-variable">$pwd</span>;<span class="hljs-string">"idleTimeout"</span>;<span class="hljs-number">70</span>;<span class="hljs-string">"tls"</span>;<span class="hljs-literal">True</span>) <span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"students"</span>)<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"This remote datastore contains "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$remoteDS</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" students"</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-3"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 3</h4><p>Travailler avec plusieurs datastores distants :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$frenchStudents</span>; <span class="hljs-variable">$foreignStudents </span>: cs.DataStore <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"192.168.18.11:8044"</span>) <span class="hljs-variable">$frenchStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"french"</span>) <span class="hljs-variable">$connectTo</span>.hostname:=<span class="hljs-string">"192.168.18.11:8050"</span> <span class="hljs-variable">$foreignStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"foreign"</span>)<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"They are "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$frenchStudents</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" French students"</span>)<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"They are "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$foreignStudents</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" foreign students"</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_gestion-des-erreurs"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_gestion-des-erreurs"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Gestion des erreurs</h4><p>En cas d'erreur, la commande retourne <strong>Null</strong>. Sile datastore distant ne peut pas être joint (adresse incorrecte,web serveur non lancé, http et https non activés, etc.), l'erreur1610 "Une requête vers l’hôte: {xxx} a échoué" est générée. Vouspouvez intercepter cette erreur avec une méthode installée par<code>ON ERR CALL</code>.</p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_dataclassname"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_dataclassname"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><em>.dataclassName</em></h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></details><p><strong><em>.dataclassName</em></strong> : 4D.DataClass</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-2"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>Chaque dataclass d'un datastore est disponible en tant quepropriété de l'objet <a href="#DataStoreClass.html_datastore">DataStore</a>. L'objet retournécontient la description de la dataclass.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$emp </span>: cs.Employee<span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs.EmployeeSelection <span class="hljs-variable">$emp</span>:=ds.Employee <span class="hljs-comment">//$emp contient la dataclass Employee </span> <span class="hljs-variable">$sel</span>:=<span class="hljs-variable">$emp</span>.<span class="hljs-function">all</span>() <span class="hljs-comment">//obtient une entity selection de tous les employés</span>  <span class="hljs-comment">//vous poubez également saisir directement :</span> <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">all</span>()</code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_canceltransaction"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_canceltransaction"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.cancelTransaction()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18</td><td>Ajout</td></tr></tbody></table></details><p><strong>.cancelTransaction()</strong> | Paramètres | Type | |Description | | ---------- | ---- |::| ---------------------------| | | | | Ne requiert aucun paramètre |</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-3"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.cancelTransaction()</code> annule latransaction ouverte par la fonction <a href="#DataStoreClass.html_starttransaction"><code>.startTransaction()</code></a>au niveau correspondant dans le process courant du datastorespécifié.</p><p>La fonction <code>.cancelTransaction()</code> annule toutes lesmodifications apportées aux données durant la transaction.</p><p>Vous pouvez imbriquer plusieurs transactions(sous-transactions). Si la transaction principale est annulée,toutes ses sous-transactions sont également annulées, même si ellesont été validées individuellement à l'aide de la fonction <a href="#DataStoreClass.html_validatetransactions"><code>.validateTransaction()</code></a>.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-4"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Voir l'exemple de la fonction <a href="#DataStoreClass.html_starttransaction"><code>.startTransaction()</code></a>.</p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_clearallremotecontexts"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_clearallremotecontexts"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.clearAllRemoteContexts()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R5</td><td>Ajout</td></tr></tbody></table></details><p><strong>.clearAllRemoteContexts()</strong> | Paramètres | Type || Description | | ---------- | ---- |::|--------------------------- | | | | | Ne requiert aucun paramètre|</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-4"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.clearAllRemoteContexts()</code> efface tousles attributs pour tous les contextes actifs dans le datastore.</p><p>Cette fonction est utile principalement dans le contexte dudébogage. Gardez à l'esprit que lorsque vous ouvrez le débogueur,il envoie des requêtes au serveur et récupère tous les attributs dela dataclass pour les afficher. Cela peut surcharger vos contextesavec des données inutiles.</p><p>Si cela se produit, vous pouvez utiliser<code>.clearAllRemoteContexts()</code> pour réinitialiser voscontextes.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_voir-aussi"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_voir-aussi"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Voir aussi</h4><p><a href="#DataStoreClass.html_getremotecontextinfo">.getRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_getallremotecontexts">.getAllRemoteContexts()</a><br /><a href="#DataStoreClass.html_setremotecontextinfo">.setRemoteContextInfo()</a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_encryptionstatus"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_encryptionstatus"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.encryptionStatus()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R5</td><td>Ajout</td></tr></tbody></table></details><p><strong>.encryptionStatus()</strong>: Object</p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Informations sur le chiffrement du datastore courant et dechaque table</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-5"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-5"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.encryptionStatus()</code> retourne un objetqui fournit le statut de chiffrement du fichier de données courant(i.e., le fichier de données du datastore <code>ds</code>). Lestatut de chiffrement pour chaque table est également fourni.</p><blockquote><p>Utilisez la commande <code>Data file encryption status</code>pour déterminer l'état de cryptage de tout autre fichier dedonnées.</p></blockquote><p><strong>Valeur retournée</strong></p><p>L'objet retourné contient les propriétés suivantes :</p><table><thead><tr><th>Propriété</th><th></th><th></th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>isEncrypted</td><td></td><td></td><td>Boolean</td><td>Vrai si le fichier de données est chiffré</td></tr><tr><td>keyProvided</td><td></td><td></td><td>Boolean</td><td>Vrai si la clé de chiffrement correspondant au fichier dedonnées chiffré est fournie(*).</td></tr><tr><td>tables</td><td></td><td></td><td>Object</td><td>Objet contenant autant de propriétés que de tables chiffrablesou chiffrées.</td></tr><tr><td></td><td><em>tableName</em></td><td></td><td>Object</td><td>Table chiffrable ou chiffrée</td></tr><tr><td></td><td></td><td>name</td><td>Text</td><td>Nom de la table</td></tr><tr><td></td><td></td><td>num</td><td>Number</td><td>Numéro de la table</td></tr><tr><td></td><td></td><td>isEncryptable</td><td>Boolean</td><td>Vrai si la table est déclarée chiffrable dans le fichier destructure</td></tr><tr><td></td><td></td><td>isEncrypted</td><td>Boolean</td><td>Vrai si les enregistrements de la table sont chiffrés dans lefichier de données</td></tr></tbody></table><p>(*) La clé de chiffrement peut être fournie :</p><ul><li>via la fonction <code>.provideDataKey()</code>,</li><li>à la racine d'un appareil connecté avant l'ouverture dudatastore,</li><li>via la commande <code>Discover data key</code>.</li></ul><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-5"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-5"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Vous souhaitez connaitre le nombre de tables chiffrées dans lefichier de données courant :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$status </span>: Object <span class="hljs-variable">$status</span>:=dataStore.<span class="hljs-function">encryptionStatus</span>()<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$status</span>.isEncrypted) <span class="hljs-comment">//the database is encrypted</span><span class="hljs-function">    C_LONGINT</span>(<span class="hljs-variable">$vcount</span>)<span class="hljs-function">    C_TEXT</span>(<span class="hljs-variable">$tabName</span>)<span class="hljs-keyword">    For each</span>(<span class="hljs-variable">$tabName</span>;<span class="hljs-variable">$status</span>.tables)<span class="hljs-keyword">       If</span>(<span class="hljs-variable">$status</span>.tables[<span class="hljs-variable">$tabName</span>].isEncrypted)          <span class="hljs-variable">$vcount</span>:=<span class="hljs-variable">$vcount</span>+<span class="hljs-number">1</span><span class="hljs-keyword">       End if</span><span class="hljs-keyword">    End for each</span><span class="hljs-function">    ALERT</span>(<span class="hljs-function">String</span>(<span class="hljs-variable">$vcount</span>)+<span class="hljs-string">" table(s) chiffrée(s) dans ce datastore."</span>)<span class="hljs-keyword"> Else</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"This database is not encrypted."</span>)<span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_getallremotecontexts"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_getallremotecontexts"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getAllRemoteContexts()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R5</td><td>Ajout</td></tr></tbody></table></details><p><strong>.getAllRemoteContexts()</strong> : Collection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Object</td><td>&lt;-</td><td>Collection d'objets contextes d'optimisation</td></tr></tbody></table><blockquote><p><strong>Mode avancé :</strong> Cette fonction est destinée auxdéveloppeurs qui souhaitent personnaliser les fonctionnalités pardéfaut de ORDA dans le cadre de configurations spécifiques. Dans laplupart des cas, vous n'aurez pas besoin de l'utiliser.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-6"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-6"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.getAllRemoteContexts()</code> functionretourne une collection d'objets contenant des informations surtous les contextes d'optimisation actifs dans le datastore.</p><blockquote><p>Pour plus d'informations sur la création des contextes, voir<a href="#DataStoreClass.html_optimisation-clientserveur">Optimisationclient/serveur</a>.</p></blockquote><p>Chaque objet de la collection retournée contient les propriétéslistées dans la section <a href="#DataStoreClass.html_objet-retourn%25C3%25A9"><code>.getRemoteContextInfo()</code></a>.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-6"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-6"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Le code suivant définit deux contextes et les récupère à l'aidede <code>.getAllRemoteContexts()</code> :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-keyword">var</span> <span class="hljs-variable">$persons </span>: cs.PersonsSelection<span class="hljs-keyword">var</span> <span class="hljs-variable">$addresses </span>: cs.AddressSelection<span class="hljs-keyword">var</span> <span class="hljs-variable">$p </span>: cs.PersonsEntity<span class="hljs-keyword">var</span> <span class="hljs-variable">$a </span>: cs.AddressEntity<span class="hljs-keyword">var</span> <span class="hljs-variable">$contextA</span>; <span class="hljs-variable">$contextB </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$info </span>: Collection<span class="hljs-keyword">var</span> <span class="hljs-variable">$text </span>: Text<span class="hljs-comment">// Accès datastore distant</span><span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)<span class="hljs-comment">// définition contexte A</span><span class="hljs-variable">$contextA</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>; <span class="hljs-string">"contextA"</span>)<span class="hljs-variable">$persons</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">all</span>(<span class="hljs-variable">$contextA</span>)<span class="hljs-variable">$text</span>:=<span class="hljs-string">""</span><span class="hljs-keyword"> For each</span> (<span class="hljs-variable">$p</span>; <span class="hljs-variable">$persons</span>)    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$p</span>.firstname+<span class="hljs-string">" lives in "</span>+<span class="hljs-variable">$p</span>.address.city+<span class="hljs-string">" / "</span><span class="hljs-keyword"> End for each</span> <span class="hljs-comment">// définition contexte B</span><span class="hljs-variable">$contextB</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>; <span class="hljs-string">"contextB"</span>)<span class="hljs-variable">$addresses</span>:=<span class="hljs-variable">$ds</span>.Address.<span class="hljs-function">all</span>(<span class="hljs-variable">$contextB</span>)<span class="hljs-variable">$text</span>:=<span class="hljs-string">""</span><span class="hljs-keyword"> For each</span> (<span class="hljs-variable">$a</span>; <span class="hljs-variable">$addresses</span>)    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$a</span>.zipCode<span class="hljs-keyword">End for each</span> <span class="hljs-comment">// récupérer tous les contextes distants (dans ce cas, contextA et contextB)</span><span class="hljs-variable">$info</span>:=<span class="hljs-variable">$ds</span>.<span class="hljs-function">getAllRemoteContexts</span>()<span class="hljs-comment">//$info = [{name:"contextB"; dataclass:"Address"; main:"zipCode"},</span>{name:<span class="hljs-string">"contextA"</span>;dataclass:<span class="hljs-string">"Persons"</span>;main:<span class="hljs-string">"firstname,address.city"</span>}]</code></pre><blockquote><p>Cet exemple est à but de démonstration, il n'est pas destiné àune implémentation réelle.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_voir-aussi-1"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_voir-aussi-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Voir aussi</h4><p><a href="#DataStoreClass.html_getremotecontextinfo">.getRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_setremotecontextinfo">.setRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_clearallremotecontexts">.clearAllRemoteContexts()</a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_getinfo"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_getinfo"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getInfo()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17</td><td>Ajout</td></tr></tbody></table></details><p><strong>.getInfo()</strong>: Object</p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Propriétés du datastore</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-7"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-7"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.getInfo()</code> function retourne un objetqui fournit des informations sur le datastore. Cette fonction estutile pour l'écriture de code générique.</p><p><strong>Objet retourné</strong></p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>type</td><td>string</td><td><ul><li>"4D" : datastore principal, disponible via ds</li><li>"4D Server" : datastore distant ouvert avec Open datastore</li></ul></td></tr><tr><td>networked</td><td>boolean</td><td><ul><li>Vrai : le datastore est accessible via une connexionréseau.</li><li>Faux : le datastore n'est pas accessible via une connexionréseau (base locale)</li></ul></td></tr><tr><td>localID</td><td>text</td><td>Identifiant du datastore sur la machine. Correspond à la chaînelocalID donnée avec la commande <code>Open datastore</code>. Chaînevide ("") pour le datastore principal.</td></tr><tr><td>connection</td><td>object</td><td>Objet décrivant la connexion au datastore distant (non retournépour le datastore principal). Propriétés disponibles :<table><tr><th>Propriété</th><th>Type</th><th>Description</th></tr><tr><td>hostname</td><td>text</td><td>Adresse IP ou nom du datastore distant + ":" + numéro deport</td></tr><tr><td>tls</td><td>boolean</td><td>Vrai si une connexion sécurisée est utilisée avec le datastoredistant</td></tr><tr><td>idleTimeout</td><td>number</td><td>Delai d'inactivité autorisé de la session (en minutes)</td></tr><tr><td>user</td><td>text</td><td>Utilisateur authentifié sur le datastore distant</td></tr></table></td></tr></tbody></table><ul><li>Si la fonction <code>.getInfo()</code> est exécutée sur un 4DServer ou un 4D monoposte, <code>networked</code> est Faux.</li><li>Si la fonction <code>.getInfo()</code> est exécutée sur un 4Ddistant, <code>networked</code> est Vrai</li></ul><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-1-2"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-1-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$info </span>: Object <span class="hljs-variable">$info</span>:=ds.<span class="hljs-function">getInfo</span>() <span class="hljs-comment">//Exécuté sur 4D Server ou 4D</span>  <span class="hljs-comment">//{"type":"4D","networked":false,"localID":""}</span> <span class="hljs-variable">$info</span>:=ds.<span class="hljs-function">getInfo</span>() <span class="hljs-comment">// Exécuté sur 4D distant</span>  <span class="hljs-comment">//{"type":"4D","networked":true,"localID":""}</span></code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-2-2"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-2-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><p>Sur un datastore distant :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">  var</span> <span class="hljs-variable">$remoteDS </span>: cs.DataStore<span class="hljs-keyword">  var</span> <span class="hljs-variable">$info</span>; <span class="hljs-variable">$connectTo </span>: Object <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"111.222.33.44:8044"</span>;<span class="hljs-string">"user"</span>;<span class="hljs-string">"marie"</span>;<span class="hljs-string">"password"</span>;<span class="hljs-string">"aaaa"</span>) <span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"students"</span>) <span class="hljs-variable">$info</span>:=<span class="hljs-variable">$remoteDS</span>.<span class="hljs-function">getInfo</span>()  <span class="hljs-comment">//{"type":"4D Server",</span>  <span class="hljs-comment">//"localID":"students",</span>  <span class="hljs-comment">//"networked":true,</span>  <span class="hljs-comment">//"connection":{hostname:"111.222.33.44:8044","tls":false,"idleTimeout":2880,"user":"marie"}}</span></code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_getremotecontextinfo"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_getremotecontextinfo"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getRemoteContextInfo()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R5</td><td>Ajout</td></tr></tbody></table></details><p><strong>.getRemoteContextInfo</strong>(<em>contextName</em> :Text) : Object</p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>contextName</td><td>Text</td><td>-&gt;</td><td>Nom du contexte</td></tr><tr><td>Résultat</td><td>Object</td><td>&lt;-</td><td>Description du contexte</td></tr></tbody></table><blockquote><p><strong>Mode avancé :</strong> Cette fonction est destinée auxdéveloppeurs qui souhaitent personnaliser les fonctionnalités pardéfaut de ORDA dans le cadre de configurations spécifiques. Dans laplupart des cas, vous n'aurez pas besoin de l'utiliser.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-8"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-8"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.getRemoteContextInfo()</code> retourne unobjet qui contient des informations sur le contexte d'optimisation<em>contextName</em> dans le datastore..</p><p>Pour plus d'informations sur la création des contextes, voir<a href="#DataStoreClass.html_optimisation-clientserveur">Optimisationclient/serveur</a>.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_objet-retourn%C3%A9"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_objet-retourn%25C3%25A9"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Objet retourné</h4><p>L'objet retourné contient les propriétés suivantes :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td>Text</td><td>Nom du contexte</td></tr><tr><td>main</td><td>Text</td><td>Attribut(s) associé(s) au contexte (les noms d'attributs sontséparés par des virgules)</td></tr><tr><td>dataclass</td><td>Text</td><td>Nom de la dataclass</td></tr><tr><td>currentItem (optionnel)</td><td>Text</td><td>Attributs du <a href="#DataStoreClass.html_listbox-bas%25C3%25A9e-sur-une-s%25C3%25A9lection-dentit%25C3%25A9s">mode page</a> si le contexte est lié à une list box. Retourn<code>Null</code> ou un élément de texte vide si le contexte n'estpas utilisé pour une list box, ou s'il n'y a pas de contexte pourl'élément courant (currentItem)</td></tr></tbody></table><p>Comme les contextes se comportent comme des filtres d'attributs,si <em>main</em> est retourné vide, cela signifie qu'aucun filtren'est appliqué et que le serveur donc retourne tous les attributsde la dataclass.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-7"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-7"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Voir l'exemple de la section <a href="#DataStoreClass.html_example-1-3">.setRemoteContextInfo()</a>.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_voir-aussi-2"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_voir-aussi-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Voir aussi</h4><p><a href="#DataStoreClass.html_setremotecontextinfo">.setRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_getallremotecontexts">.getAllRemoteContexts()</a><br /><a href="#DataStoreClass.html_clearallremotecontexts">.clearAllRemoteContexts()</a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_getrequestlog"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_getrequestlog"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getRequestLog()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R6</td><td>Ajout</td></tr></tbody></table></details><p><strong>.getRequestLog()</strong> : Collection</p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Collection d'objets décrivant les requêtes</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-9"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-9"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.getRequestLog()</code> retourne les requêtesORDA enregistrées en mémoire sur le poste client. L'enregistrementdes requêtes ORDA doit avoir été préalablement activé à l'aide dela fonction <a href="#DataStoreClass.html_startrequestlog"><code>.startRequestLog()</code></a>.</p><p>Cette fonction doit être appelée sur un client 4D distant, sinonelle retourne une collection vide. Elle est conçue à des fins dedébogage dans les configurations client/serveur.</p><p><strong>Valeur retournée</strong></p><p>Collection d'objets requête empilés. La requête la plus récenteporte l'indice 0.</p><p>Pour plus de détails sur le format d'enregistrement des requêtesORDA, veuillez consulter la section <a href="#DataStoreClass.html_4385373"><strong>ORDA clientrequests</strong></a>.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-8"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-8"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Voir l'exemple 2 de <a href="#DataStoreClass.html_startrequestlog"><code>.startRequestLog()</code></a>.</p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_isadminprotected"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_isadminprotected"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.isAdminProtected()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18 R6</td><td>Ajout</td></tr></tbody></table></details><p><strong>.isAdminProtected()</strong> : Boolean</p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>Booléen</td><td style="text-align:center">&lt;-</td><td>Vrai si l'accès au Data Explorer est désactivé, Faux s'il estactivé (défaut)</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-10"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-10"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.isAdminProtected()</code> retourne<code>Vrai</code> si l'accès au <a href="#dataExplorer.html">DataExplorer</a> est désactivé pour la session courante.</p><p>Par défaut, l'accès au Data Explorer est autorisé pour lessessions <code>webAdmin</code>, mais il peut être désactivé pourempêcher que les administrateurs puissent accéder aux données (cf.fonction <a href="#DataStoreClass.html_setadminprotection"><code>.setAdminProtection()</code></a>).</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_voir-aussi-3"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_voir-aussi-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Voir aussi</h4><p><a href="#DataStoreClass.html_setadminprotection"><code>.setAdminProtection()</code></a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_makeselectionsalterable"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_makeselectionsalterable"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.makeSelectionsAlterable()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18 R5</td><td>Ajout</td></tr></tbody></table></details><p><strong>.makeSelectionsAlterable()</strong> | Paramètres | Type| | Description | | ---------- | ---- |::|--------------------------- | | | | | Ne requiert aucun paramètre|</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-11"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-11"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.makeSelectionsAlterable()</code> définittoutes les nouvelles sélections d'entités comme altérables pardéfaut dans tous les datastores de l'application (y compris les<a href="#datastores.html">datastores distants</a>). Elle estdestinée à être appelée une fois, par exemple dans la méthode base<code>On Startup</code>.</p><p>Lorsque cette méthode n'est pas appelée, les nouvellessélections d'entités peuvent être partageables, selon la nature deleur "parent" ou la façon dont elles sont créées (voir la section<a href="#DataStoreClass.html_entity-selections-partageables-et-non-partageables">Entity selections partageables et non partageables</a>).</p><blockquote><p>Cette fonction ne modifie pas les sélections d'entités crééespar <a href="#DataStoreClass.html_copy"><code>.copy(</code></a>) ou<code>OB Copy</code> lorsque l'option explicite <code>ckshared</code> est utilisée.</p></blockquote><blockquote><p><strong>Compatibilité</strong> : Cette fonction doit êtreutilisée uniquement dans des projets convertis à partir de versionsde 4D antérieures à 4D v18 R5 et contenant des appels <a href="#DataStoreClass.html_add">.add()</a>. Dans ce contexte,l'utilisation de <code>.makeSelectionsAlterable()</code> peut fairegagner du temps en restaurant instantanément le précédentcomportement 4D dans les projets existants. En revanche,l'utilisation de cette méthode dans les nouveaux projets créés dans4D v18 R5 et les versions plus récentes <strong>n'est pasrecommandée</strong>, car elle empêche le partage des entityselections, ce qui offre de meilleures performances et une plusgrande évolutivité.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_providedatakey"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_providedatakey"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.provideDataKey()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R5</td><td>Ajout</td></tr></tbody></table></details><p><strong>.provideDataKey</strong>( <em>curPassPhrase</em> : Text) : Object<br /><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) :Object</p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>curPassPhrase</td><td>Text</td><td>-&gt;</td><td>Phrase secrète courante</td></tr><tr><td>curDataKey</td><td>Object</td><td>-&gt;</td><td>Clé de chiffrement des données courante</td></tr><tr><td>Résultat</td><td>Object</td><td>&lt;-</td><td>Résultat de la mise en correspondance de la clé dechiffrement</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-12"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-12"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.provideDataKey()</code> permet de fournir uneclé de chiffrement des données pour le fichier de données courantdu datastore et détecte si la clé correspond aux données chiffrées.Cette fonction peut être utilisée à l'ouverture d'une basechiffrée, ou à l'exécution de n'importe quelle opération dechiffrement qui nécessite la clé de chiffrement, telle que lere-chiffrement du fichier de données.</p><blockquote><ul><li>La fonction <code>.provideDataKey()</code> doit être appeléedans une base de données chiffrée. Si elle est appelée dans unebase de données non chiffrée, l'erreur 2003 (la clé de cryptage necorrespond pas aux données.) est retournée. Utilisez la commande<code>Data file encryption status</code> pour déterminer si la basede données est chiffrée.</li><li>La fonction <code>.provideDataKey()</code> ne peut pas êtreappelée depuis un 4D distant ou un datastore distant chiffré.</li></ul></blockquote><p>Si vous utilisez le paramètre <em>curPassPhrase</em>, passez lachaîne utilisée pour générer la clé de chiffrement des données.Lorsque vous utilisez ce paramètre, une clé de chiffrement estgénérée.</p><p>Si vous utilisez le paramètre <em>curDataKey</em>, passez unobjet (avec la propriété <em>encodedKey</em>) contenant la clé dechiffrement des données. Cette clé peut avoir été générée à l'aidede la commande <code>New data key</code>.</p><p>Si une clé de chiffrement des données valide est fournie, elleest ajoutée à la <em>keyChain</em> dans la mémoire et le modechiffrement est activé :</p><ul><li>toutes les modifications de données apportées dans les tableschiffrables sont chiffrées sur le disque (fichiers .4DD, .journal,. 4Dindx).</li><li>toutes les données chargées à partir de tables chiffrables sontdéchiffrées dans la mémoire</li></ul><p><strong>Résultat</strong></p><p>Le résultat de la commande est décrit dans l'objet retourné:</p><table><thead><tr><th>Propriété</th><th></th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>success</td><td></td><td>Booléen</td><td>Vrai si la clé de chiffrement fournie correspond aux donnéeschiffrées, sinon Faux</td></tr><tr><td></td><td></td><td></td><td>Les propriétés ci-dessous sont retournées uniquement si successest à <em>Faux</em></td></tr><tr><td>status</td><td></td><td>Nombre</td><td>Code d'erreur (4 si la clé de chiffrement fournie esterronée)</td></tr><tr><td>statusText</td><td></td><td>Text</td><td>Message d'erreur</td></tr><tr><td>errors</td><td></td><td>Collection</td><td>Pile d'erreurs. La première erreur possède l'indice le plusélevé.</td></tr><tr><td></td><td>[ ].componentSignature</td><td>Text</td><td>Nom du composant interne</td></tr><tr><td></td><td>[ ].errCode</td><td>Nombre</td><td>Numéro de l'erreur</td></tr><tr><td></td><td>[ ].message</td><td>Text</td><td>Message d'erreur</td></tr></tbody></table><p>Si aucun paramètre <em>curPassphrase</em> ou <em>curDataKey</em>n'est fourni, <code>.provideDataKey()</code> retourne<strong>null</strong> (aucune erreur n'est générée).</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-9"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-9"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$keyStatus </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$passphrase </span>: Text <span class="hljs-variable">$passphrase</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Enter the passphrase"</span>)<span class="hljs-keyword"> If</span>(OK=<span class="hljs-number">1</span>)    <span class="hljs-variable">$keyStatus</span>:=ds.<span class="hljs-function">provideDataKey</span>(<span class="hljs-variable">$passphrase</span>)<span class="hljs-keyword">    If</span>(<span class="hljs-variable">$keyStatus</span>.success)<span class="hljs-function">       ALERT</span>(<span class="hljs-string">"You have provided a valid encryption key"</span>)<span class="hljs-keyword">    Else</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"You have provided an invalid encryption key, you will not be able to work with encrypted data"</span>)<span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_setadminprotection"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_setadminprotection"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.setAdminProtection()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18 R6</td><td>Ajout</td></tr></tbody></table></details><p><strong>.setAdminProtection</strong>( <em>status</em> : Boolean)</p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>status</td><td>Booléen</td><td>-&gt;</td><td>Vrai pour désactiver l'accès au Data Explorer sur le port<code>webAdmin</code>, Faux (défaut) pour permettre l'accès</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-13"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-13"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.setAdminProtection()</code> permet dedésactiver tout accès aux données sur le <a href="#DataStoreClass.html_http-port">port web admin</a>, y compris viale <a href="#dataExplorer.html">Data Explorer</a> dans les sessions<code>WebAdmin</code>.</p><p>Par défaut lorsque la fonction n'est pas appelée, l'accès auxdonnées est possible via le Data Explorer sur le portd'administration web pour une session avec le privilège<code>WebAdmin</code> . Dans certaines configurations, par exemplelorsque le serveur d'application est hébergé sur la machine d'unprestataire de service, vous pouvez souhaiter que l'administrateurne puisse pas visualiser vos données, même s'il peut accéder à laconfiguration du serveur, y compris au paramétrage de l'<a href="#DataStoreClass.html_access-key">access key</a>.</p><p>Dans ce cas, vous pouvez appeler cette fonction pour désactiverl'accès aux données depuis le Data Explorer sur le port web adminde la machine, même pour les sessions utilisateurs ayant leprivilège <code>WebAdmin</code>. Lorsque cette fonction estexécutée, le fichier de données est immédiatement protégé et lestatut est sauvegardé sur disque : le fichier de données seraprotégé même si l'application est redémarrée.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-10"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-10"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Vous créez une méthode projet <em>protectDataFile</em> à appelerpar exemple avant le déploiement :</p><pre><code class="hljs css language-4d"> ds.<span class="hljs-function">setAdminProtection</span>(<span class="hljs-literal">True</span>) <span class="hljs-comment">//Désactive l'accès aux données de l'Explorateur de données</span></code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_voir-aussi-4"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_voir-aussi-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Voir aussi</h4><p><a href="#DataStoreClass.html_isadminprotected"><code>.isAdminProtected()</code></a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_setremotecontextinfo"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_setremotecontextinfo"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.setRemoteContextInfo()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R5</td><td>Ajout</td></tr></tbody></table></details><p><strong>.setRemoteContextInfo</strong>( <em>contextName</em> :Text ; <em>dataClassName</em> : Text ; <em>attributes</em> : Text{; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer}})<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassName</em> : Text; <em>attributesColl</em> :Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer }} )<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassObject</em> : 4D.DataClass ; <em>attributes</em> :Text {; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer }})<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassObject</em> : 4D.DataClass ; <em>attributesColl</em>: Collection {; <em>contextType</em> : Text { ; <em>pageLength</em>: Integer }} )</p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>contextName</td><td>Text</td><td>-&gt;</td><td>Nom du contexte</td></tr><tr><td>dataClassName</td><td>Text</td><td>-&gt;</td><td>Nom de la dataclass</td></tr><tr><td>dataClassObject</td><td>4D.DataClass</td><td>-&gt;</td><td>Objet dataclass (e.g datastore.Employee)</td></tr><tr><td>attributes</td><td>Text</td><td>-&gt;</td><td>Liste d'attributs séparés par des virgules</td></tr><tr><td>attributesColl</td><td>Collection</td><td>-&gt;</td><td>Collection de noms d'attributs (text)</td></tr><tr><td>contextType</td><td>Text</td><td>-&gt;</td><td>Si passé, "main" ou "currentItem"</td></tr><tr><td>pageLength</td><td>Integer</td><td>-&gt;</td><td>Taille de page de l'entity selection associée au contexte (80par défaut)</td></tr></tbody></table><blockquote><p><strong>Mode avancé :</strong> Cette fonction est destinée auxdéveloppeurs qui souhaitent personnaliser les fonctionnalités pardéfaut de ORDA dans le cadre de configurations spécifiques. Dans laplupart des cas, vous n'aurez pas besoin de l'utiliser.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-14"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-14"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.setRemoteContextInfo()</code> relie lesattributs de dataclass spécifiés au contexte d'optimisation<em>contextName</em>. Si un contexte d'optimisation existe déjàpour les attributs spécifiés, la commande le remplace.</p><p>Lorsque vous passez un contexte aux fonctions de classe ORDA,l'optimisation des requêtes REST est déclenchée immédiatement :</p><ul><li>la première entité n'est pas chargée intégralement, à ladifférence du mode automatique</li><li>des pages de 80 entités (ou de <code>pageLength</code> entités)sont imméditament demandées au serveur avec uniquement lesattributs du contexte</li></ul><blockquote><p>Pour plus d'informations sur la création des contextes, voir<a href="#DataStoreClass.html_optimisation-clientserveur">Optimisationclient/serveur</a></p></blockquote><p>Dans <em>contextName</em>, passez le nom du contexted'optimisation à lier aux attributs de la dataclass.</p><p>Pour désigner la dataclass qui doit recevoir le contexte, vouspouvez passer un <em>dataClassName</em> ou un<em>dataClassObject</em>.</p><p>Pour désigner les attributs à lier au contexte, passez soit uneliste d'attributs séparés par des virgules dans <em>attributes</em>(Text), soit une collection de noms d'attributs dans<em>attributesColl</em> (collection de textes).</p><p>Si <em>attributes</em> est un texte vide, ou si<em>attributesColl</em> est une collection vide, tous les attributsscalaires de la dataclass sont intégrés au contexte d'optimisation.Si vous passez un attribut qui n'existe pas dans la dataclass, lafonction l'ignore et une erreur est générée.</p><p>Vous pouvez passer un <em>contextType</em> pour spécifier si lecontexte est standard ou s'il s'agit du contexte de l'élémentcourant de l'entity selection affichée dans une list box :</p><ul><li>Si sa valeur est "main" (défaut), <em>contextName</em> désigneun contexte standard.</li><li>Si sa valeur est "currentItem", les attributs passés sontintégrés dans le contexte de l'élément courant. Voir <a href="#DataStoreClass.html_listbox-bas%25C3%25A9e-sur-une-s%25C3%25A9lection-dentit%25C3%25A9s">Listbox basée sur une sélection d'entités</a>.</li></ul><p>Dans <em>pageLength</em>, spécifiez le nombre d'entités dedataclass à demander au serveur.</p><p>Vous pouvez passer une <em>pageLength</em> pour un attributrelationnel qui est une entity selection (1-vers-N). La syntaxe est<code>relationAttributeName:pageLength</code> (e.gemployees:20).</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-1-3"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-1-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-keyword">var</span> <span class="hljs-variable">$persons </span>: cs.PersonsSelection<span class="hljs-keyword">var</span> <span class="hljs-variable">$p </span>: cs.PersonsEntity<span class="hljs-keyword">var</span> <span class="hljs-variable">$contextA </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$info </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$text </span>: Text<span class="hljs-comment">// Ouvrir datastore distant</span><span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)<span class="hljs-comment">// définir le contexte</span><span class="hljs-variable">$contextA</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>; <span class="hljs-string">"contextA"</span>)<span class="hljs-variable">$ds</span>.<span class="hljs-function">setRemoteContextInfo</span>(<span class="hljs-string">"contextA"</span>; <span class="hljs-variable">$ds</span>.Persons; <span class="hljs-string">"firstname, lastname"</span>)<span class="hljs-comment">// envoi de requêtes au serveur dans une boucle</span><span class="hljs-variable">$persons</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">all</span>(<span class="hljs-variable">$contextA</span>)<span class="hljs-variable">$text</span>:=<span class="hljs-string">""</span><span class="hljs-keyword"> For each</span> (<span class="hljs-variable">$p</span>; <span class="hljs-variable">$persons</span>)    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$p</span>.firstname + <span class="hljs-string">" "</span> + <span class="hljs-variable">$p</span>.lastname<span class="hljs-keyword">End for each</span> <span class="hljs-comment">// vérifier le contenu du contexte</span><span class="hljs-variable">$info</span>:=<span class="hljs-variable">$ds</span>.<span class="hljs-function">getRemoteContextInfo</span>(<span class="hljs-string">"contextA"</span>)<span class="hljs-comment">// $info = {name:"contextA";dataclass:"Persons";main:"firstname, lastname"} </span></code></pre><blockquote><p>Cet exemple est à but de démonstration, il n'est pas destiné àune implémentation réelle.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-2-3"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-2-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><p>Le code suivant demande des pages de 30 entités de la dataclass<code>Address</code> au serveur. Les entités retournées contiennentuniquement l'attribut <code>zipCode</code>.</p><p>Pour chaque entité <code>Address</code>, 20 entités Persons sontretournées, et elles contiennent uniquement les attributs<code>lastname</code> et <code>firstname</code> :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)<span class="hljs-variable">$ds</span>.<span class="hljs-function">setRemoteContextInfo</span>(<span class="hljs-string">"contextA"</span>; <span class="hljs-variable">$ds</span>.Address; <span class="hljs-string">"zipCode, persons:20,\persons.lastname, persons.firstname"</span>; <span class="hljs-string">"main"</span>; <span class="hljs-number">30</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_example-3---listbox"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_example-3---listbox"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 3 - Listbox</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// Au chargement du formulaire</span><span class="hljs-keyword">Case of</span>     : (Form event code=On Load)        Form.ds:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)       <span class="hljs-comment">// définir les attributs du contexte de page</span>        Form.ds.<span class="hljs-function">setRemoteContextInfo</span>(<span class="hljs-string">"LB"</span>; Form.ds.Persons; <span class="hljs-string">"age, gender,\        children"</span>; <span class="hljs-string">"currentItem"</span>)        Form.settings:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>; <span class="hljs-string">"LB"</span>)        Form.persons:=Form.ds.Persons.<span class="hljs-function">all</span>(Form.settings)         <span class="hljs-comment">// Form.persons est affiché dans une list box</span><span class="hljs-keyword">End case</span> <span class="hljs-comment">// lorsque vous récupérez les attributs dans le contexte de l'élément courant :</span>Form.currentItemLearntAttributes:=Form.selectedPerson.<span class="hljs-function">getRemoteContextAttributes</span>()<span class="hljs-comment">// Form.currentItemLearntAttributes = "age, gender, children" </span></code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_voir-aussi-5"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_voir-aussi-5"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Voir aussi</h4><p><a href="#DataStoreClass.html_getremotecontextinfo">.getRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_getallremotecontexts">.getAllRemoteContexts()</a><br /><a href="#DataStoreClass.html_clearallremotecontexts">.clearAllRemoteContexts()</a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_startrequestlog"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_startrequestlog"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.startRequestLog()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R6</td><td>Ajout</td></tr></tbody></table></details><p><strong>.startRequestLog</strong>()<br /><strong>.startRequestLog</strong>( <em>file</em> : 4D.File )<br /><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</p><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>file</td><td>4D.File</td><td>-&gt;</td><td>Objet File</td></tr><tr><td>reqNum</td><td>Integer</td><td>-&gt;</td><td>Nombre de requêtes à conserver en mémoire</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-15"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-15"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.startRequestLog()</code> function lancel'enregistrement des requêtes ORDA sur le poste client.</p><p>Cette fonction doit être appelée sur un 4D distant, sinon ellene fait rien. Elle est conçue à des fins de débogage dans lesconfigurations client/serveur.</p><p>L'enregistrement des requêtes ORDA peut être effectué dans unfichier ou dans la mémoire, en fonction du type de paramètre :</p><ul><li>Si vous avez passé un objet <em>file</em> créé à l'aide de lacommande <code>File</code>, les données de l'enregistrement sontécrites dans ce fichier sous forme de collection d'objets (formatJSON). Chaque objet représente une requête.<br />Si le fichier n'existe pas encore, il est créé. Sinon, s'il existedéjà, les nouvelles données d'enregistrement y sont ajoutées. Si lafonction <code>.startRequestLog( )</code> est appelée avec unfichier alors qu'un enregistrement des requêtes est déjà en coursen mémoire, l'enregistrement en mémoire est stoppé et vidé.</li></ul><blockquote><p>Un caractère ] doit être ajouté manuellement à la fin du fichierpour effectuer une validation JSON</p></blockquote><ul><li><p>Si vous avez passé un numéro <em>reqNum</em>, l'enregistrementen mémoire est vidé (le cas échéant) et un nouvel enregistrementest lancé. Il gardera en mémoire les requêtes jusqu'à atteindre lenombre <em>reqNum</em>, auquel cas les entrées précédentes sontvidées (pile FIFO).<br />Si la fonction <code>.startRequestLog()</code> est appelée avec un<em>reqNum</em> alors qu'un enregistrement des requêtes dans unfichier est déjà en cours, l'enregistrement dans le fichier eststoppé.</p></li><li><p>Si vous n'avez passé aucun paramètre, l'enregistrement est lancédans la mémoire. Si <code>.startRequestLog()</code> a étépréalablement appelée avec un <em>reqNum</em> (avant un<code>.stopRequestLog()</code>), les données enregistrées sontempilées dans la mémoire jusqu'au prochain vidage ou appel de<code>.stopRequestLog()</code>.</p></li></ul><p>Pour plus de détails sur le format d'enregistrement des requêtesORDA, veuillez consulter la section <a href="#DataStoreClass.html_4385373"><strong>ORDA clientrequests</strong></a>.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-1-4"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-1-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</h4><p>Vous souhaitez enregistrer des requêtes ORDA clientes dans unfichier et utiliser le numéro de séquence de l'enregistrement :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$file </span>: 4D.File<span class="hljs-keyword"> var</span> <span class="hljs-variable">$e </span>: cs.PersonsEntity <span class="hljs-variable">$file</span>:=<span class="hljs-function">File</span>(<span class="hljs-string">"/LOGS/ORDARequests.txt"</span>) <span class="hljs-comment">//dossier logs</span><span class="hljs-function"> SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">1</span>) <span class="hljs-comment">//pour déclencher le numéro de séquence log global </span> ds.<span class="hljs-function">startRequestLog</span>(<span class="hljs-variable">$file</span>) <span class="hljs-variable">$e</span>:=ds.Persons.<span class="hljs-function">get</span>(<span class="hljs-number">30001</span>) <span class="hljs-comment">//envoyer une requête</span> ds.<span class="hljs-function">stopRequestLog</span>()<span class="hljs-function"> SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">0</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-2-4"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-2-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><p>Vous souhaitez enregistrer des requêtes ORDA clientes dans lamémoire :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.PersonsSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$log </span>: Collection ds.<span class="hljs-function">startRequestLog</span>(<span class="hljs-number">3</span>) <span class="hljs-comment">//garde 3 requêtes dans la mémoire</span> <span class="hljs-variable">$es</span>:=ds.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"name=:1"</span>;<span class="hljs-string">"Marie"</span>) <span class="hljs-variable">$es</span>:=ds.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"name IN :1"</span>;<span class="hljs-function">New collection</span>(<span class="hljs-string">"Marie"</span>)) <span class="hljs-variable">$es</span>:=ds.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"name=:1"</span>;<span class="hljs-string">"So@"</span>) <span class="hljs-variable">$log</span>:=ds.<span class="hljs-function">getRequestLog</span>()<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"The longest request lasted: "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$log</span>.<span class="hljs-function">max</span>(<span class="hljs-string">"duration"</span>))+<span class="hljs-string">" ms"</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_starttransaction"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_starttransaction"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.startTransaction()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18</td><td>Ajout</td></tr></tbody></table></details><p><strong>.startTransaction()</strong> | Paramètres | Type | |Description | | ---------- | ---- | | --------------------------- || | | | Ne requiert aucun paramètre |</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-16"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-16"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.startTransaction()</code> démarre unetransaction dans le process courant sur la base de données dudatastore. Toute modification apportée aux entités du datastoredans le process de la transaction est temporairement stockéejusqu'à ce que la transaction soit validée ou annulée.</p><blockquote><p>Si cette méthode est appelée sur le datastore principal(c'est-à-dire le datastore retourné par la commande<code>ds</code>), la transaction est appliquée à toutes lesopérations effectuées sur le datastore principal et sur la base dedonnées sous-jacente, incluant donc le langage ORDA et le langageclassique.</p></blockquote><p>Vous pouvez imbriquer plusieurs transactions(sous-transactions). Chaque transaction ou sous-transaction doitêtre annulée ou validée. A noter que si la transaction principaleest annulée, toutes ses sous-transactions le sont également, mêmesi elles avaient été validées individuellement à l'aide de lafonction <code>.validateTransaction()</code>.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-11"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-11"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connect</span>; <span class="hljs-variable">$status </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$person </span>: cs.PersonsEntity<span class="hljs-keyword"> var</span> <span class="hljs-variable">$ds </span>: cs.DataStore<span class="hljs-keyword"> var</span> <span class="hljs-variable">$choice </span>: Text<span class="hljs-keyword"> var</span> <span class="hljs-variable">$error </span>: Boolean<span class="hljs-keyword"> Case of</span>    :(<span class="hljs-variable">$choice</span>=<span class="hljs-string">"local"</span>)       <span class="hljs-variable">$ds</span>:=ds    :(<span class="hljs-variable">$choice</span>=<span class="hljs-string">"remote"</span>)       <span class="hljs-variable">$connect</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"111.222.3.4:8044"</span>)       <span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connect</span>;<span class="hljs-string">"myRemoteDS"</span>)<span class="hljs-keyword"> End case</span> <span class="hljs-variable">$ds</span>.<span class="hljs-function">startTransaction</span>() <span class="hljs-variable">$person</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname=:1"</span>;<span class="hljs-string">"Peters"</span>).<span class="hljs-function">first</span>()<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$person</span>#<span class="hljs-literal">Null</span>)    <span class="hljs-variable">$person</span>.lastname:=<span class="hljs-string">"Smith"</span>    <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$person</span>.<span class="hljs-function">save</span>()<span class="hljs-keyword"> End if</span> ... ...<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$error</span>)    <span class="hljs-variable">$ds</span>.<span class="hljs-function">cancelTransaction</span>()<span class="hljs-keyword"> Else</span>    <span class="hljs-variable">$ds</span>.<span class="hljs-function">validateTransaction</span>()<span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_stoprequestlog"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_stoprequestlog"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.stopRequestLog()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17 R6</td><td>Ajout</td></tr></tbody></table></details><p><strong>.stopRequestLog()</strong><br />| Paramètres | Type | | Description | | ---------- | ---- | |--------------------------- | | | | | Ne requiert aucun paramètre|</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-17"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-17"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.stopRequestLog()</code> stoppe toutenregistrement des requêtes ORDA sur le poste client (dans unfichier ou dans la mémoire). Elle est particulièrement utile en casd'enregistrement dans un fichier, étant donné qu'elle ferme ledocument ouvert sur le disque.</p><p>Cette fonction doit être appelée sur un 4D distant, sinon ellene fait rien. Elle est conçue à des fins de débogage dans lesconfigurations client/serveur.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-12"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-12"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Voir les exemples de <a href="#DataStoreClass.html_startrequestlog"><code>.startRequestLog()</code></a>.</p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_validatetransaction"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_validatetransaction"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.validateTransaction()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18</td><td>Ajout</td></tr></tbody></table></details><p><strong>.validateTransaction()</strong><br />| Paramètres | Type | | Description | | ---------- | ---- | |--------------------------- | | | | | Ne requiert aucun paramètre|</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_description-18"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_description-18"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.validateTransaction()</code> valide latransaction démarrée avec <a href="#DataStoreClass.html_starttransaction"><code>.startTransaction()</code></a>auniveau correspondant dans le datastore.</p><p>La fonction sauvegarde les modifications apportées aux donnéessur le datastore durant la transaction.</p><p>Vous pouvez imbriquer plusieurs transactions(sous-transactions). Si la transaction principale est annulée,toutes ses sous-transactions sont également annulées, même si ellesont été validées individuellement à l'aide de cette fonction.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_exemple-13"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_exemple-13"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Voir l'exemple de <a href="#DataStoreClass.html_starttransaction"><code>.startTransaction()</code></a>.</p><style><![CDATA[ h2 { background: #d9ebff;}]]></style></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#DataClassAttributeClass.html"><span class="arrow-prev">←</span><span class="function-name-prevnext">DataClassAttribute</span></a><a class="docs-next button" href="#EmailObjectClass.html"><span>Email</span><span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#DataStoreClass.html_ds">ds</a></li><li><a href="#DataStoreClass.html_open-datastore">Opendatastore</a></li><li><a href="#DataStoreClass.html_dataclassname"><em>.dataclassName</em></a></li><li><a href="#DataStoreClass.html_canceltransaction">.cancelTransaction()</a></li><li><a href="#DataStoreClass.html_clearallremotecontexts">.clearAllRemoteContexts()</a></li><li><a href="#DataStoreClass.html_encryptionstatus">.encryptionStatus()</a></li><li><a href="#DataStoreClass.html_getallremotecontexts">.getAllRemoteContexts()</a></li><li><a href="#DataStoreClass.html_getinfo">.getInfo()</a></li><li><a href="#DataStoreClass.html_getremotecontextinfo">.getRemoteContextInfo()</a></li><li><a href="#DataStoreClass.html_getrequestlog">.getRequestLog()</a></li><li><a href="#DataStoreClass.html_isadminprotected">.isAdminProtected()</a></li><li><a href="#DataStoreClass.html_makeselectionsalterable">.makeSelectionsAlterable()</a></li><li><a href="#DataStoreClass.html_providedatakey">.provideDataKey()</a></li><li><a href="#DataStoreClass.html_setadminprotection">.setAdminProtection()</a></li><li><a href="#DataStoreClass.html_setremotecontextinfo">.setRemoteContextInfo()</a></li><li><a href="#DataStoreClass.html_startrequestlog">.startRequestLog()</a></li><li><a href="#DataStoreClass.html_starttransaction">.startTransaction()</a></li><li><a href="#DataStoreClass.html_stoprequestlog">.stopRequestLog()</a></li><li><a href="#DataStoreClass.html_validatetransaction">.validateTransaction()</a></li></ul></nav></div></div></body></html>