<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Générateur d'application · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="4D inclut un générateur d’application pour créer un package de projet (version finale). Ce générateur simplifie le processus de finalisation et de déploiement des applications compilées 4D. Il gère automatiquement les fonctionnalités spécifiques de différents systèmes d'exploitation et facilite le déploiement d'applications client-serveur."name="description" /><meta content="fr" name="docsearch:language" /><meta content="Générateur d'application · 4D Documentation"property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="4D inclut un générateur d’application pour créer un package de projet (version finale). Ce générateur simplifie le processus de finalisation et de déploiement des applications compilées 4D. Il gère automatiquement les fonctionnalités spécifiques de différents systèmes d'exploitation et facilite le déploiement d'applications client-serveur."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#building.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Générateurd'application<a aria-hidden="true" class="anchor" id="building.html"></a></h1></header><article><div><p><span>4D inclut un générateur d’application pour créer unpackage de projet (version finale). Ce générateur simplifie leprocessus de finalisation et de déploiement des applicationscompilées 4D. Il gère automatiquement les fonctionnalitésspécifiques de différents systèmes d'exploitation et facilite ledéploiement d'applications client-serveur.</span></p><p><span>Le générateur d'applications vous permet de :</span></p><ul><li><span>Générer une structure compilée, sans codeinterprété,</span></li><li><span>Générer une application autonome exécutable, c'est-à-direfusionnée avec 4D Volume Desktop, le moteur de base de données4D,</span></li><li><span>Générer différentes applications à partir de la mêmestructure compilée via un projet XML,</span></li><li><span>Générer des applications client-serveurhomogènes,</span></li><li><span>Générer des applications client-serveur avec mise à jourautomatique des composants client et serveur.</span></li><li><span>Enregistrer vos paramètres de génération pour uneutilisation ultérieure (bouton <em>Enregistrer lesparamètres</em>).</span></li></ul><blockquote><p><span>Les applications compilées sont basées sur des <a href="#building.html_build-compiled-structure">fichiers .4dz files</a>qui sont en <strong>lecture seule</strong>. A noter quel'utilisation de commandes ou de fonctions qui modifient lesfichiers sources (telles que <code>CREATE INDEX</code> ou<code>CREATE TABLE</code> (SQL)) n'est pas possible par défaut dansles applications compilées. Vous pouvez néanmoins créer desapplications spécifiques qui prennent en charge les modificationslocales en utilisant la clé XML du <code>PackProject</code> (voir<a href="https://doc.4d.com">doc.4d.com</a>).</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="building.html_aper%C3%A7u"></a><a aria-hidden="true" class="hash-link" href="#building.html_aper%25C3%25A7u"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Aperçu</span></h2><p><span>Générer un package de projet peut être réalisée à l'aidede :</span></p><ul><li><span>soit la commande <a href="https://doc.4d.com/4dv19/help/command/en/page871.html"><code>BUILDAPPLICATION</code></a>,</span></li><li><span>Utiliser la <a href="#building.html_application">PageApplication</a> ou la <a href="#building.html_client-server">PageClient/Serveur</a> de boîte de dialogue du Générateurd'applications.</span></li></ul><h3><span><a aria-hidden="true" class="anchor" id="building.html_construire-application-cliente"></a><a aria-hidden="true" class="hash-link" href="#building.html_construire-application-cliente"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Construire application cliente</span></h3><p><span>Cochez l'option <strong>Créer une applicationautonome</strong> et cliquez sur <strong>Générer</strong> pourcréer une application autonome (double-cliquable) directement àpartir de votre projet d'application.</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/buildappProj.png" /></span></p><p><span>La boîte de dialogue du générateur d'application comprendplusieurs pages accessibles via des onglets :</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/appbuilderProj.png" /></span></p><p><span>La génération ne peut s'effectuer qu'une fois le projetcompilé. Si vous sélectionnez cette commande sans avoirpréalablement compilé le projet ou si le code compilé ne correspondpas au code interprété, une boîte de dialogue d'avertissementapparaît indiquant que le projet doit être (re)compilé.</span></p><h3><span><a aria-hidden="true" class="anchor" id="building.html_buildapp4dsettings"></a><a aria-hidden="true" class="hash-link" href="#building.html_buildapp4dsettings"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>buildApp.4DSettings</span></h3><p><span>Chaque paramètre de génération de l'application estsauvegardé en tant que clé XML dans le fichier XML de l'applicationnommé <code>buildApp.4DSettings</code>, situé dans le dossier<a href="#building.html_settings-1"><code>Settings</code> duprojet</a>.</span></p><p><span>Les paramètres par défaut sont utilisés lors de lapremière utilisation de la boîte de dialogue du Générateurd'application. Le contenu du fichier est mis à jour, si nécessaire,lorsque vous cliquez sur <strong>Construire</strong> ou<strong>Enregistrer les paramètres</strong>. Vous pouvez définirplusieurs autres fichiers de paramètres XML pour le même projet etles utiliser à l'aide de la commande <a href="https://doc.4d.com/4dv19/help/command/en/page871.html">BUILDAPPLICATION</a>.</span></p><p><span>Les clés XML fournissent des options supplémentaires àcelles affichées dans la boîte de dialogue du Générateurd'application. La description de ces clés est détaillée dans lemanuel <a href="https://doc.4d.com/4Dv19/4D/19/4D-XML-Keys-BuildApplication.100-5447429.en.html">4D Clés XML BuildApplication</a>.</span></p><h3><span><a aria-hidden="true" class="anchor" id="building.html_fichier-dhistorique"></a><a aria-hidden="true"class="hash-link" href="#building.html_fichier-dhistorique"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Fichier d'historique</span></h3><p><span>Lorsqu'une application est créée, 4D génère un fichierjournal nommé <em>BuildApp.log.xml</em> dans le dossier<strong>Logs</strong> du projet. Le fichier d'historique stocke lesinformations suivantes pour chaque génération :</span></p><ul><li><span>Le début et la fin de la génération descibles,</span></li><li><span>Le nom et le chemin d'accès complet des fichiersgénérés,</span></li><li><span>La date et l'heure de la génération,</span></li><li><span>Toutes les erreurs qui se sont produites,</span></li><li><span>Tout problème de signature (par exemple, un plug-in nonsigné).</span></li></ul><p><span>La vérification de ce fichier peut vous aider à gagner dutemps lors des prochaines étapes de déploiement, si vous avezl'intention, par exemple, de notariser votreapplication.</span></p><blockquote><p><span>Utilisez la commande <code>Get 4D file (Build applicationlog file)</code> pour obtenir l'emplacement du fichierjournal.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="building.html_nom-de-lapplication-et-dossier-de-destination"></a><a aria-hidden="true"class="hash-link" href="#building.html_nom-de-lapplication-et-dossier-de-destination"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Nom de l'application et dossier dedestination</span></h2><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/buidappstructureProj.png" /></span></p><p><span>Entrez le nom de l'application dans <strong>Nom del'application</strong>.</span></p><p><span>Spécifiez le dossier de l'application générée dansle<strong>Dossier de destination</strong>. Si le dossier spécifién'existe pas déjà, 4D vous créera un dossier<em>Build</em>.</span></p><h2><span><a aria-hidden="true" class="anchor" id="building.html_page-de-structure-compil%C3%A9e"></a><a aria-hidden="true" class="hash-link" href="#building.html_page-de-structure-compil%25C3%25A9e"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Page de structure compilée</span></h2><p><span>Cet onglet vous permet de générer un fichier de structurecompilé standard et/ou un composant compilé :</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/appbuilderProj.png" /></span></p><h3><span><a aria-hidden="true" class="anchor" id="building.html_g%C3%A9n%C3%A9rer-une-structure-compil%C3%A9e"></a><a aria-hidden="true"class="hash-link" href="#building.html_g%25C3%25A9n%25C3%25A9rer-une-structure-compil%25C3%25A9e"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Générer une structure compilée</span></h3><p><span>Génère une application contenant uniquement du codecompilé.</span></p><p><span>Cette fonctionnalité crée un fichier <em>.4dz</em> dans undossier <em>Compiled Database/&lt;project name&gt;</em>. Parexemple, si vous avez nommé votre application «MyProject», 4Dcréera :</span></p><p><span><em>&lt;destination&gt;/CompiledDatabase/MyProject/MyProject.4dz</em></span></p><p><span>Un fichier .4dz est essentiellement une version compresséedu dossier du projet. Les fichiers .4dz peuvent être utilisés par4D Server, 4D Volume Desktop (applications fusionnées) et 4D. Lataille compacte et optimisée des fichiers .4dz facilite ledéploiement des packages de projet.</span></p><blockquote><p><span>Lors de la génération de fichiers .4dz, 4D utilise pardéfaut un format zip <strong>standard</strong>. L'avantage de ceformat est qu'il est facilement lisible par tout outil dedézippage. Si vous ne souhaitez pas utiliser ce format standard,ajoutez la clé XML <code>UseStandardZipFormat</code> avec la valeur<code>False</code> dans votre fichier <a href="#building.html_build-application-settings"><code>buildApp.4DSettings</code></a>(pour plus d'informations, voir le manuel <a href="https://doc.4d.com/4Dv19/4D/19/4D-XML-Keys-BuildApplication.100-5447429.en.html">4D XML Keys Backup</a>).</span></p></blockquote><h4><span><a aria-hidden="true" class="anchor" id="building.html_inclure-les-dossiers-associ%C3%A9s"></a><a aria-hidden="true"class="hash-link" href="#building.html_inclure-les-dossiers-associ%25C3%25A9s"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Inclure les dossiers associés</span></h4><p><span>Lorsque vous cochez cette option, tous les dossiers liésau projet sont recopiés dans le dossier Build en tant que dossiers<em>Components</em> et <em>Resources</em>. Pour plus d'informationssur ces dossiers, veuillez vous reporter à la <a href="#architecture.html">description de l'architecture duprojet</a>.</span></p><h3><span><a aria-hidden="true" class="anchor" id="building.html_g%C3%A9n%C3%A9rer-un-composant"></a><a aria-hidden="true" class="hash-link" href="#building.html_g%25C3%25A9n%25C3%25A9rer-un-composant"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Générer un composant</span></h3><p><span>Génère un composant compilé à partir de lastructure.</span></p><p><span>Un composant est un fichier de structure 4D standard danslequel des fonctionnalités spécifiques ont été développées. Unefois le composant configuré et installé dans un autre projet 4D (leprojet d'application hôte), ses fonctionnalités sont accessiblesdepuis le projet hôte.</span></p><p><span>Si vous avez nommé votre application<em>Moncomposant</em>, 4D créera un dossier <em>Component</em>contenant le dossier <em>MyComponent.4dbase</em> :</span></p><p><span><em>&lt;destination&gt;/Components/MyComponent.4dbase/MyComponent.4DZ</em>.</span></p><p><span>Le dossier <em>MyComponent.4dbase</em> contient:</span></p><ul><li><span>fichier <em>MyComponent.4DZ</em></span></li><li><span>Un dossier <em>Resources</em> - toutes les ressourcesassociées sont automatiquement copiées dans ce dossier. Les autrescomposants et/ou dossiers de plugins ne sont pas copiés (uncomposant ne peut pas utiliser de plug-ins ou d'autrescomposants).</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="building.html_page-application"></a><a aria-hidden="true" class="hash-link" href="#building.html_page-application"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Page Application</span></h2><p><span>Cet onglet vous permet de créer une version autonome etmonoposte de votre application :</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/standaloneProj.png" /></span></p><h3><span><a aria-hidden="true" class="anchor" id="building.html_cr%C3%A9er-une-application-autonome"></a><a aria-hidden="true"class="hash-link" href="#building.html_cr%25C3%25A9er-une-application-autonome"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Créer une application autonome</span></h3><p><span>Cochez l'option <strong>Créer une applicationautonome</strong> et cliquez sur <strong>Générer</strong> pourcréer une application autonome (double-cliquable) directement àpartir de votre projet d'application.</span></p><p><span>Les éléments suivants sont requis pour la création:</span></p><ul><li><span>4D Volume Desktop (le moteur de base de données4D),</span></li><li><span>une <a href="#building.html_licenses">licenceappropriée</a></span></li></ul><p><span>Sous Windows, cette fonctionnalité crée un fichierexécutable (.exe). Sous macOS, il gère la création deprogiciels.</span></p><p><span>Le principe consiste à fusionner le fichier 4D VolumeDesktop avec votre fichier de structure compilé. Lesfonctionnalités offertes par le fichier 4D Volume Desktop sontliées à l’offre commerciale à laquelle vous avez souscrite. Pourplus d’informations sur ce point, reportez-vous à la documentationcommerciale et au site Internet de <a href="http://www.4d.com/">4DSas (http://www.4d.com/)</a>.</span></p><p><span>Vous pouvez définir un fichier de données par défaut oupermettre à l'utilisateur de créer et d'utiliser son propre fichierde données (cf. section <a href="https://doc.4d.com/4Dv17R6/4D/17-R6/Data-file-management-in-final-applications.300-4354729.en.html">Gestion du fichier de données dans les applicationsfinales</a>).</span></p><p><span>Il est possible d'automatiser la mise à jour desapplications monopostes fusionnées moyennant l'utilisation d'uneséquence de commandes du langage (cf. section <a href="https://doc.4d.com/4Dv17R6/4D/17-R6/Automatic-updating-of-server-or-single-user-applications.300-4354721.en.html">Mise à jour auto des applications serveur oumonopostes</a>).</span></p><h4><span><a aria-hidden="true" class="anchor" id="building.html_emplacement-du-4d-volume-desktop"></a><a aria-hidden="true"class="hash-link" href="#building.html_emplacement-du-4d-volume-desktop"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Emplacement du 4D Volume Desktop</span></h4><p><span>Afin de créer une application autonome, il convientd'abord de désigner le dossier contenant le fichier 4D VolumeDesktop :</span></p><ul><li><span><em>sous Windows</em>, le dossier contient notamment lesfichiers 4D Volume Desktop.4DE, 4D Volume Desktop.RSR ainsi quedifférents fichiers et dossiers nécessaires à son fonctionnement.Ces éléments doivent être placés au premier niveau du dossiersélectionné.</span></li><li><span><em>sous macOS</em>, 4D Volume Desktop est fourni sous laforme d’un progiciel structuré contenant divers fichiers etdossiers génériques.</span></li></ul><p><span>Pour sélectionner le dossier de 4D Volume Desktop, cliquezsur le bouton <strong>[...]</strong>. Une boîte de dialogue vouspermettant de désigner le dossier (Windows) ou le progiciel (macOS)de 4D Volume Desktop apparaît.</span></p><p><span>Une fois le dossier sélectionné, son chemin d’accèscomplet est affiché et, s’il contient effectivement 4D VolumeDesktop, l’option de génération d’application exécutable estactivée.</span></p><blockquote><p><span>Le numéro de version de 4D Volume Desktop doitcorrespondre à celui du 4D Developer Edition. Par exemple, si vousutilisez 4D Developer v18, vous devez sélectionner un 4D VolumeDesktop v18.</span></p></blockquote><h4><span><a aria-hidden="true" class="anchor" id="building.html_mode-de-liaison-des-donn%C3%A9es"></a><a aria-hidden="true"class="hash-link" href="#building.html_mode-de-liaison-des-donn%25C3%25A9es"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Mode de liaison des données</span></h4><p><span>Cette option vous permet de sélectionner le mode deliaison entre l'application fusionnée et le fichier de donnéeslocal. Deux modes de liaison sont disponibles :</span></p><ul><li><p><span><strong>Nom de l'application</strong> (défaut) - Dans cemode, l'application 4D ouvre automatiquement le dernier fichier dedonnées ouvert correspondant à la structure. Cela vous permet dedéplacer librement le dossier de l'application sur le disque. Ilest conseillé en général pour les applications fusionnées, à moinsque vous n'ayez spécifiquement besoin de dupliquerl'application.</span></p></li><li><p><span><strong>Chemin de l'application</strong> - Dans ce mode,l'application 4D fusionnée va lire le contenu du fichier<em>lastDataPath.xml</em> et tenter d'ouvrir le fichier de donnéesdont l'attribut "executablePath" correspond au chemin d'accès del'application. Si cette clé est trouvée, son fichier de donnéescorrespondant (défini via son attribut "dataFilePath") est ouvert.Sinon, le dernier fichier de données utilisé est ouvert (mode pardéfaut).</span></p></li></ul><p><span>Pour plus d'informations sur le mode de liaison desdonnées, reportez-vous au paragraphe <a href="#building.html_last-data-file-opened">Dernier fichier de donnéesouvert</a>.</span></p><h4><span><a aria-hidden="true" class="anchor" id="building.html_fichiers-g%C3%A9n%C3%A9r%C3%A9s"></a><a aria-hidden="true" class="hash-link" href="#building.html_fichiers-g%25C3%25A9n%25C3%25A9r%25C3%25A9s"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Fichiers générés</span></h4><p><span>Lorsque vous cliquez sur le bouton<strong>Générer</strong>, 4D crée automatiquement un dossier<strong>Final Application</strong> dans le <strong>Dossier dedestination</strong> défini. Dans le dossier Final Application, setrouve un sous-dossier contenant le nom de l'applicationspécifiée.</span></p><p><span>Si vous avez nommé votre application "MyProject", voustrouverez les fichiers suivants dans ce sous-dossier(MyProject):</span></p><ul><li><p><span><em>Sous Windows</em></span></p><ul><li><span>MonAppli.exe qui est votre exécutable et MonAppli.Rsr quicontient les ressources de l’application</span></li><li><span>Les dossiers 4D Extensions et Resources ainsi que lesdiverses librairies (DLL), le dossier Native Components et SASPlugins -fichiers nécessaires au fonctionnement del’application</span></li><li><span>Un dossier Database contenant notamment un dossierResources et un fichier MyProject.4DZ. Ils constituent la structurecompilée du projet et son dossier Resources. <strong>Note</strong>: Ce dossier contient également le dossier <em>Default Data</em>,s'il a été défini (cf. <a href="#building.html_data-file-management-in-final-applicatons">Gestiondu fichier de données dans les applicationsfinales</a>).</span></li><li><span>(Facultatif) Un dossier Components et/ou un dossierPlugins contenant les fichiers des composants et/ou des plug-inséventuellement inclus dans le projet. Pour plus d’informations surce point, reportez-vous à la section <a href="#building.html_plugins-and-components">Plugins etcomposants</a>.</span></li><li><span>Un dossier Licences contenant, sous forme de fichier XML,la liste des numéros de licence ayant été intégrés dansl’application. Pour plus d’informations sur ce point, reportez-vousà la section <a href="#building.html_licenses-and-certificate">Licences &amp;Certificat</a>.</span></li><li><span>Les éléments supplémentaires éventuellement ajoutés dansle dossier 4D Volume Desktop (cf. paragraphe <a href="#building.html_customizing-4d-volume-desktop-folder">Personnaliserle dossier 4D Volume Desktop</a>).</span></li></ul><p><span>Tous ces éléments doivent être conservés dans le mêmedossier afin que l’exécutable fonctionne.</span></p></li><li><p><span><em>macOS</em></span></p><ul><li><span>Un progiciel (package) nommé MyProject.app contenantvotre application et tous les éléments nécessaires à sonfonctionnement, y compris les plug-ins, composants et licences.Pour plus d’informations sur l’intégration des composants et desplug-ins, reportez-vous à la section <a href="#building.html_plugins-and-components">Page Plugins etcomposants</a>. Pour plus d’informations sur l’intégration deslicences, reportez-vous à la <a href="#building.html_licenses-and-certificate">Page Licences &amp;Certificat</a>. **Note **: Sous Mac Os, la commande <a href="https://doc.4d.com/4Dv18R4/4D/18-R4/Application-file.301-4982855.en.html">Fichier application</a> du langage 4D retourne le chemin d’accès dufichier NomApplication (situé dans le dossier Contents:macOS duprogiciel) et non celui du fichier .comp (dossierContents:Resources du progiciel).</span></li></ul></li></ul><h4><span><a aria-hidden="true" class="anchor" id="building.html_personnaliser-le-dossier-4d-volume-desktop"></a><a aria-hidden="true"class="hash-link" href="#building.html_personnaliser-le-dossier-4d-volume-desktop"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Personnaliser le dossier 4D Volume Desktop</span></h4><p><span>Lors de la construction de l’application exécutable, 4Dduplique le contenu du dossier 4D Volume Desktop dans le dossier<em>Final Application</em>. Vous pouvez donc parfaitementpersonnaliser le contenu du dossier 4D Volume Desktop d’origine enfonction de vos besoins. Vous pouvez, par exemple :</span></p><ul><li><span>Installer une version de 4D Volume Desktop correspondantà une langue spécifique ;</span></li><li><span>Ajouter un dossier <em>PlugIns</em> personnalisé;</span></li><li><span>Personnaliser le contenu du dossier<em>Resources</em>.</span></li></ul><blockquote><p><span>Sous Mac Os, 4D Volume Desktop est fourni sous forme deprogiciel. Vous devrez tout d’abord afficher son contenu (effectuez<strong>Control+clic</strong> sur son icône) afin de pouvoir lemodifier.</span></p></blockquote><h4><span><a aria-hidden="true" class="anchor" id="building.html_emplacements-des-fichiers-web"></a><a aria-hidden="true" class="hash-link" href="#building.html_emplacements-des-fichiers-web"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Emplacements des fichiers Web</span></h4><p><span>Si votre application exécutable est utilisée en tant queserveur Web, les fichiers et dossiers requis par le serveur doiventêtre installés à des emplacements spécifiques. Ces éléments sontles suivants :</span></p><ul><li><span>fichiers <em>cert.pem</em> et <em>key.pem</em>(facultatifs) : ces fichiers sont utilisés pour les connexions TLSainsi que par les commandes de cryptage des données,</span></li><li><span>dossier racine Web par défaut.</span></li></ul><p><span>Des éléments doivent être installée :</span></p><ul><li><span><strong>Sous Windows</strong> : dans le sous-dossier<em>Final Application\MonAppli\Database</em>.</span></li><li><span><strong>Sous macOS</strong> : à côté du progiciel<em>MonProjet.app</em>.</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="building.html_page-clientserveur"></a><a aria-hidden="true" class="hash-link" href="#building.html_page-clientserveur"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Page Client/Serveur</span></h2><p><span>4D vous permet de générer des applications client/serveurpersonnalisées, homogènes, multi-plateformes et avec option de miseà jour automatique.</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Desktop/client-server-buildapp.png" /></span></p><h3><span><a aria-hidden="true" class="anchor" id="building.html_quest-ce-quune-application-clientserveur-"></a><a aria-hidden="true"class="hash-link" href="#building.html_quest-ce-quune-application-clientserveur-"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Qu'est-ce qu'une application Client/Serveur ?</span></h3><p><span>Une application client/serveur est issue de la combinaisonde trois éléments :</span></p><ul><li><span>Un projet 4D compilé,</span></li><li><span>L’application 4D Server,</span></li><li><span>L’application 4D Volume Desktop (macOS et/ouWindows).</span></li></ul><p><span>Une fois générée, une application client/serveur secompose de deux parties homogènes : la partie Serveur (unique), etla partie Cliente (à installer sur chaque poste client).</span></p><blockquote><p><span>Si vous voulez déployer une application client/server dansun environnement hétérogène (applications clientes exécutées surdes machines Intel/AMD et Apple Silicon), il est recommandé de<a href="#building.html_compilation-target">compiler le projet pourtous les processeurs</a> sur une machine macOS, afin que toutes lesapplications clientes s'exécutent en code natif.</span></p></blockquote><p><span>En outre, l’application client/serveur est personnaliséeet son maniement est simplifié :</span></p><ul><li><span>Pour lancer la partie serveur, l’utilisateurdouble-clique simplement sur l’application serveur : il n’est pasnécessaire de sélectionner le fichier projet.</span></li><li><span>Pour lancer la partie cliente, l’utilisateurdouble-clique simplement sur l’application cliente, qui se connectedirectement à l’application serveur : il n’est pas nécessaire dechoisir un serveur dans une boîte de dialogue de connexion. Leclient cible le serveur soit via son nom, lorsque client et serveursont sur le même sous-réseau, soit via son adresse IP, à définirvia la clé XML <code>IPAddress</code> dans le fichierbuildapp.4DSettings. Si la connexion échoue, <a href="#building.html_management-of-client-connections">des mécanismesalternatifs spécifiques peuvent être mis en place</a>. Il estégalement possible de “forcer” l’affichage de la boîte de dialoguede connexion standard en maintenant la touche<strong>Option</strong> (macOS) ou <strong>Alt</strong> (Windows)enfoncée lors du lancement de l’application cliente. Seule lapartie cliente peut se connecter à la partie serveurcorrespondante. Si un utilisateur tente de se connecter à la partieserveur à l’aide d’une application 4D standard, un message d’erreurest retourné et la connexion est impossible.</span></li><li><span>Une application client/serveur peut être paramétrée detelle sorte que la partie cliente <a href="#building.html_copy-of-client-applications-in-the-server-application">puisse être mise à jour automatiquement via le réseau</a>. Il voussuffit de créer et de distribuer une version initiale del'application cliente, les mises à jour ultérieures sont gérées àl'aide du mécanisme de mise à jour automatique.</span></li><li><span>Il est également possible d'automatiser la mise à jour dela partie serveur moyennant une séquence de commandes du langage(<a href="https://doc.4d.com/4dv19/help/command/en/page1291.html">SET UPDATEFOLDER</a> et <a href="(https://doc.4d.com/4dv19/help/command/en/page1292.html)">RESTART4D</a>.</span></li></ul><h3><span><a aria-hidden="true" class="anchor" id="building.html_construire-application-serveur"></a><a aria-hidden="true" class="hash-link" href="#building.html_construire-application-serveur"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Construire application serveur</span></h3><p><span>Cochez cette option pour générer la partie serveur devotre application pendant la phase de construction. Vous devezdésigner sur votre disque l’emplacement de l’application 4D Serverà utiliser. Ce 4D Server doit correspondre à la plate-formecourante (qui sera également la plate-forme de l’application duserveur).</span></p><h4><span><a aria-hidden="true" class="anchor" id="building.html_emplacement-de-4d-server"></a><a aria-hidden="true"class="hash-link" href="#building.html_emplacement-de-4d-server"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Emplacement de 4D Server</span></h4><p><span>Cliquez sur le bouton <strong>[...]</strong> et utilisezla boîte de dialogue <em>Rechercher un dossier</em> pour localiserl'application 4D Server. Sous macOS, vous devez sélectionnerdirectement le package 4D Server.</span></p><h4><span><a aria-hidden="true" class="anchor" id="building.html_version-courante"></a><a aria-hidden="true" class="hash-link" href="#building.html_version-courante"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Version courante</span></h4><p><span>Utilisée pour indiquer le numéro de version courante del'application générée. Vous pourrez par la suite accepter ourefuser les connexions des applications clientes en fonction deleur numéro de version. L'intervalle de compatibilité pour lesapplications client/serveur est défini à l'aide de <a href="#building.html_buildapp4dsettings">clés XML</a>spécifiques).</span></p><h4><span><a aria-hidden="true" class="anchor" id="building.html_int%C3%A9grer-le-projet-groupe-et-utilisateurs-dans-une-application-serveur"></a><a aria-hidden="true" class="hash-link" href="#building.html_int%25C3%25A9grer-le-projet-groupe-et-utilisateurs-dans-une-application-serveur"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Intégrer le projet Groupe et Utilisateurs dans uneapplication serveur</span></h4><p><span><strong>Note préliminaire :</strong> Les termes suivantssont utilisés dans cette section :</span></p><table><thead><tr><th>Nom</th><th>Définition</th></tr></thead><tbody><tr><td>Fichier de répertoire du projet</td><td>fichier <a href="#building.html_directoryjson-file">directory.json</a> situé dansle <a href="#building.html_settings-1">dossier Settings</a> duprojet</td></tr><tr><td>Fichier de répertoire de l'application</td><td>fichier <a href="#building.html_directoryjson-file">directory.json</a> situé dansle <a href="#building.html_settings-1">dossier Settings</a> duserveur 4D</td></tr><tr><td>Fichier de répertoire des données</td><td>fichier <a href="#building.html_directoryjson-file">directory.json</a> situé dansle dossier <a href="#building.html_settings">Data &gt;Settings</a></td></tr></tbody></table><p><span>Lorsque vous cochez cette option, le fichier du répertoiredu projet est copié dans le fichier du répertoire de l'applicationau moment de la génération.</span></p><p><span>Lorsque vous exécutez une application 4D Server générée:</span></p><ul><li><span>Si le serveur possède un fichier de répertoire dedonnées, il est chargé.</span></li><li><span>Si le serveur ne possède pas de fichier de répertoire dedonnées, le fichier de répertoire de l'application estchargé.</span></li></ul><p><span>Le fichier du répertoire d'application est en lectureseule. Les modifications apportées aux utilisateurs, aux groupes etaux autorisations pendant l'exécution du serveur sont sauvegardéesdans le fichier du répertoire des données. Si aucun fichier derépertoire de données n'existe déjà, il est automatiquement créé.Si le fichier de répertoire de l'application a été incorporé, ilest dupliqué en tant que fichier de répertoire desdonnées.</span></p><p><span>L'incorporation du fichier de répertoire du projet vouspermet de déployer une application client/serveur avec uneconfiguration de base de la sécurité des utilisateurs et desgroupes. Les modifications ultérieures sont ajoutées au fichier derépertoire des données.</span></p><h4><span><a aria-hidden="true" class="anchor" id="building.html_chemin-dacc%C3%A8s-%C3%A0-la-structure-compil%C3%A9e-de-lapplication-cliente-apple-siliconintel-utilis%C3%A9e-pour-cr%C3%A9er-un-serveur-windows-voir-autoriser-la-connexion-des-clients-silicon-macallow-connection-of-silicon-mac-clients"></a><a aria-hidden="true" class="hash-link" href="#building.html_chemin-dacc%25C3%25A8s-%25C3%25A0-la-structure-compil%25C3%25A9e-de-lapplication-cliente-apple-siliconintel-utilis%25C3%25A9e-pour-cr%25C3%25A9er-un-serveur-windows-voir-autoriser-la-connexion-des-clients-silicon-macallow-connection-of-silicon-mac-clients"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Chemin d'accès à la structure compilée de l'applicationcliente Apple Silicon/Intel utilisée pour créer un serveur Windows(voir <a href="#building.html_allow-connection-of-silicon-mac-clients">Autoriserla connexion des clients Silicon Mac</a>).</span></h4><p><span>Lorsque vous créez un serveur sous Windows, cochez cetteoption pour permettre aux clients Apple Silicon de se connecter àvotre application serveur. Vous pouvez alors spécifier un chemind'accès à la structure compilée pour AppleSilicon/Intel.</span></p><p><span>Pour permettre aux clients Apple Silicon de se connecter àune application serveur créée sous Windows, vous devez d'abordcréer une application cliente sous macOS, avec un projet compilépour Apple Silicon et Intel. Cela crée automatiquement unestructure compilée, identique à celle créée avec l'option<strong><a href="#building.html_build-compiled-structure">Buildcompiled structure</a></strong> (sans les dossiersassociés).</span></p><p><span>Vous pouvez ensuite copier cette structure sur votremachine Windows, et l'utiliser pour construire l'applicationserveur :</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Desktop/allow-mac-clients.png" /></span></p><h4><span><a aria-hidden="true" class="anchor" id="building.html_autoriser-la-connexion-des-clients-silicon-mac"></a><a aria-hidden="true"class="hash-link" href="#building.html_autoriser-la-connexion-des-clients-silicon-mac"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Autoriser la connexion des clients SiliconMac</span></h4><p><span>Si vous voulez déployer une application client/server dansun environnement hétérogène (applications clientes exécutées surdes machines Intel/AMD et Apple Silicon), il est recommandé de<a href="#building.html_compilation-target">compiler le projet pourtous les processeurs</a> sur une machine macOS, afin que toutes lesapplications clientes s'exécutent en code natif.</span></p><h4><span><a aria-hidden="true" class="anchor" id="building.html_mode-de-liaison-des-donn%C3%A9es-1"></a><a aria-hidden="true"class="hash-link" href="#building.html_mode-de-liaison-des-donn%25C3%25A9es-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Mode de liaison des données</span></h4><p><span>Cette option vous permet de sélectionner le mode deliaison entre l'application fusionnée et le fichier de donnéeslocal. Deux modes de liaison sont disponibles :</span></p><ul><li><p><span><strong>Nom de l'application</strong> (défaut) - Dans cemode, l'application 4D ouvre automatiquement le dernier fichier dedonnées ouvert correspondant à la structure. Cela vous permet dedéplacer librement le dossier de l'application sur le disque. Ilest conseillé en général pour les applications fusionnées, à moinsque vous n'ayez spécifiquement besoin de dupliquerl'application.</span></p></li><li><p><span><strong>Chemin de l'application</strong> - Dans ce mode,l'application 4D fusionnée va lire le contenu du fichier<em>lastDataPath.xml</em> et tenter d'ouvrir le fichier de donnéesdont l'attribut "executablePath" correspond au chemin d'accès del'application. Si cette clé est trouvée, son fichier de donnéescorrespondant (défini via son attribut "dataFilePath") est ouvert.Sinon, le dernier fichier de données utilisé est ouvert (mode pardéfaut).</span></p></li></ul><p><span>Pour plus d'informations sur le mode de liaison desdonnées, reportez-vous au paragraphe <a href="#building.html_last-data-file-opened">Dernier fichier de donnéesouvert</a>.</span></p><h3><span><a aria-hidden="true" class="anchor" id="building.html_construire-application-cliente-1"></a><a aria-hidden="true"class="hash-link" href="#building.html_construire-application-cliente-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Construire application cliente</span></h3><p><span>Cochez cette option pour générer la partie cliente devotre application lors de la phase de construction.</span></p><p><span>Vous pouvez cocher cette option :</span></p><ul><li><span>avec l'option <a href="#building.html_build-server-application"><strong>Build serverapplication</strong></a> pour créer des parties serveur et clientcorrespondantes pour la plate-forme courante et (éventuellement)inclure les fichiers d'archive de mise à jourautomatique,</span></li><li><span>sans sélectionner l'option <a href="#building.html_build-server-application"><strong>Build serverapplication</strong></a>, généralement pour créer le fichierd'archive de mise à jour à sélectionner à partir de la plate-forme"concurrente" lors de la génération de la partieserveur.</span></li></ul><h4><span><a aria-hidden="true" class="anchor" id="building.html_emplacement-du-4d-volume-desktop-1"></a><a aria-hidden="true"class="hash-link" href="#building.html_emplacement-du-4d-volume-desktop-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Emplacement du 4D Volume Desktop</span></h4><p><span>Désigne l'emplacement sur votre disque de l'application 4DVolume Desktop à utiliser pour construire la partie cliente devotre application.</span></p><blockquote><p><span>Le numéro de version de 4D Volume Desktop doitcorrespondre à celui du 4D Developer Edition. Le numéro de versionde 4D Volume Desktop doit correspondre à celui du 4D DeveloperEdition.</span></p></blockquote><p><span>Ce 4D Volume Desktop doit correspondre à la plate-formecourante (qui sera également la plate-forme de l’applicationcliente). Si vous souhaitez générer une version de l’applicationcliente pour la plate-forme “concurrente”, vous devez répéterl'opération en utilisant une application 4D tournant sur cetteplate-forme.</span></p><p><span>Si vous souhaitez que l'application cliente se connecte auserveur via une adresse spécifique (autre que le nom du serveurpublié sur le sous-réseau), vous devez utiliser la clé XML<code>IPAddress</code> dans le fichier buildapp.4DSettings. Si voussouhaitez que l'application cliente se connecte au serveur via uneadresse spécifique (autre que le nom du serveur publié sur lesous-réseau), vous devez utiliser la clé XML <code>IPAddress</code>dans le fichier buildapp.4DSettings. Vous pouvez également mettreen place des mécanismes spécifiques en cas d'échec de la connexion.Les différents scénarios proposés sont décrits dans la section<a href="#building.html_management-of-client-connections">Gestionde la connexion des applications clientes</a>.</span></p><h4><span><a aria-hidden="true" class="anchor" id="building.html_copie-des-applications-clientes-dans-lapplication-serveur"></a><a aria-hidden="true" class="hash-link" href="#building.html_copie-des-applications-clientes-dans-lapplication-serveur"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Copie des applications clientes dans l'applicationserveur</span></h4><p><span>Les options de cette zone permettent de mettre en place lemécanisme de mise à jour des parties clientes de vos applicationsclient/serveur via le réseau à chaque nouvelle version del’application générée. Ces options sont actives uniquement lorsquel'option <strong>Construire application cliente</strong> estcochée.</span></p><ul><li><span><strong>Permettre la mise à jour automatique del'application cliente Windows</strong> - Cochez cette option pourconstruire un fichier <code>.4darchive</code> qui sera envoyé à vosapplications clientes sur la plate-forme Windows en cas de mise àjour.</span></li><li><span><strong>Permettre la mise à jour automatique del'application cliente Macintosh</strong> - Cochez cette option pourconstruire un fichier <code>.4darchive</code> qui sera envoyé à vosapplications clientes sur la plate-forme Macintosh en cas de mise àjour.</span></li></ul><p><span>Le fichier <code>.4darchive</code> est copié àl'emplacement suivant :</span></p><pre><span><code class="hljs">&lt;ApplicationName&gt;_Build<span class="hljs-built_in">/Client Server </span>executable/Upgrade4DClient/</code></span></pre><h4><a aria-hidden="true" class="anchor" id="building.html_s%C3%A9lectionner-larchive-cliente-pour-la-plate-forme-concurrente"></a><a aria-hidden="true" class="hash-link" href="#building.html_s%25C3%25A9lectionner-larchive-cliente-pour-la-plate-forme-concurrente"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Sélectionner l'archive cliente pour la plate-formeconcurrente</h4><p>Vous pouvez cocher l'option <strong>Permettre la mise à jourautomatique...</strong> pour les applications clientes exécutéessur la plate-forme concurrente. Cette option est disponibleseulement si :</p><ul><li>l'option <strong>Construire application serveur</strong> estcochée,</li><li>l'option <strong>Permettre la mise à jourautomatique...</strong> pour les applications clientes exécutéessur la plate-forme actuelle est cochée.</li></ul><p>Pour cela, vous devez cliquer sur le bouton<strong>[...]</strong> et désigner l'emplacement sur votre disquedu fichier à utiliser pour la mise à jour. Le fichier àsélectionner dépend de la plate-forme courante du serveur :</p><table><thead><tr><th>Plateforme du serveur courant</th><th>Fichier requis</th><th>Détails</th></tr></thead><tbody><tr><td>macOS</td><td>Windows 4D Volume Desktop <em>ou</em> Windows client updatearchive</td><td>Par défaut, sélectionnez l'application <code>4D VolumeDesktop</code> pour Windows. Pour sélectionner un fichier<code>.4darchive</code> précédemment créé sur Windows, appuyez surla touche <strong>Shift</strong> tout en cliquant sur [...]</td></tr><tr><td>Sous Windows</td><td>macOS client update archive</td><td>Sélectionnez un fichier <code>.4darchive</code> signé,précédemment créé sur macOS</td></tr></tbody></table><p>Vous pouvez construire un fichier <code>.4darchive</code>spécifique pour la plate-forme concurrente en sélectionnantuniquement <a href="#building.html_build-client-application"><strong>Construireapplication cliente</strong></a> et l'option <a href="#building.html_copie-des-applications-clientes-dans-lapplication-serveur"><strong>Permettre la mise à jour automatique...</strong></a>adéquate.</p><h4><a aria-hidden="true" class="anchor" id="building.html_comment-proposer-une-mise-%C3%A0-jour-"></a><a aria-hidden="true"class="hash-link" href="#building.html_comment-proposer-une-mise-%25C3%25A0-jour-"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Comment proposer une mise à jour ?</h4><p>Dans la pratique, la proposition de mise à jour des applicationsclientes découle automatiquement de la mise à jour de l’applicationserveur.</p><p>Le principe est le suivant : lors de la génération d’unenouvelle version de l’application client-serveur depuis legénérateur d’applications, la nouvelle partie cliente est copiéesous forme compressée dans le sous-dossier<strong>Upgrade4DClient</strong> du dossier<strong>NomApplication</strong> Server (sous macOS, ces dossierssont inclus dans le progiciel serveur). Si vous avez suivi leprocessus de génération d’une application clientemulti-plate-forme, un fichier <em>. 4darchive</em> de mise à jourest disponible pour chaque plate-forme :</p><p>Pour provoquer la mise à jour des applications clientes, ilsuffit de remplacer l’ancienne version de l’application serveur parla nouvelle puis de l’exécuter. Le reste du processus estautomatique.</p><p>Côté client, au moment où l’“ancienne” application cliente tentede se connecter à l’application serveur mise à jour, une boîte dedialogue s’affiche sur le poste client, lui indiquant qu’unenouvelle version est disponible. L’utilisateur peut mettre saversion à jour ou annuler la boîte de dialogue.</p><ul><li>Si l’utilisateur clique sur <strong>OK</strong>, la nouvelleversion est téléchargée sur le poste client via le réseau. Al’issue du téléchargement, l’ancienne application client quitte, lanouvelle est lancée et se connecte au serveur. A l’issue dutéléchargement, l’ancienne application client quitte, la nouvelleest lancée et se connecte au serveur.</li><li>Si l’utilisateur clique sur <strong>Annuler</strong>, la mise àjour est annulée ; si l’ancienne version de l’application clienten’appartient pas à l’intervalle des numéros de version acceptés parle serveur (cf. paragraphe suivant), l’application quitte et laconnexion est impossible. Sinon (par défaut), la connexion estétablie.</li></ul><h4><a aria-hidden="true" class="anchor" id="building.html_comment-forcer-la-mise-%C3%A0-jour-"></a><a aria-hidden="true"class="hash-link" href="#building.html_comment-forcer-la-mise-%25C3%25A0-jour-"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Comment forcer la mise à jour ?</h4><p>Dans certains cas, vous pourrez souhaiter que les applicationsclientes ne puissent pas annuler le téléchargement des mises àjour. Par exemple, si vous avez utilisé une nouvelle version del’application source 4D Server, il est impératif que la nouvelleversion de l’application cliente soit installée sur chaque posteclient.</p><p>Pour forcer la mise à jour, il vous suffit d’exclure lesversions courantes des applications clientes (N-1 et précédentes)de l’intervalle des numéros de version compatibles avecl’application serveur. Dans ce cas, le mécanisme de mise à journ’autorisera pas la connexion des applications clientes non mises àjour. Par exemple, si la nouvelle version de l’applicationclient-serveur est 6, vous pouvez stipuler que toute applicationcliente ayant un numéro de version strictement inférieur à 6 nesera pas autorisé à se connecter.</p><p>Le <a href="#building.html_current_version">numéro de versioncourante</a> est défini dans la page Client/Serveur du générateurd’application. Les intervalles de numéros autorisés sont définisdans le projet d’application via des <a href="#building.html_buildapp4dsettings">clés XML</a> spécifiques.</p><h4><a aria-hidden="true" class="anchor" id="building.html_en-cas-derreur"></a><a aria-hidden="true" class="hash-link" href="#building.html_en-cas-derreur"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>En cas d’erreur</h4><p>Si 4D ne peut pas effectuer la mise à jour de l’applicationcliente, le poste client affiche le message d’erreur suivant : “Lamise à jour de l’application cliente a échoué. L’application vamaintenant quitter."</p><p>Les causes possibles de cette erreur sont multiples. Lorsquevous rencontrez ce message, il est conseillé de contrôler enpremier lieu les paramètres suivants :</p><ul><li><strong>Chemins d’accès</strong> : vérifiez la validité deschemins d’accès définis dans le projet d’application via la boîtede dialogue du Générateur d’applications ou via des clés XML (parexemple <em>ClientMacFolderToWin</em>). Vérifiez en particulier leschemins d’accès aux versions de 4D Volume Desktop.</li><li><strong>Privilèges lecture/écriture</strong> : sur la machinecliente, vérifiez que l’utilisateur courant dispose de droitsd’accès en écriture pour l’application cliente mise à jour.</li></ul><h3><a aria-hidden="true" class="anchor" id="building.html_fichiers-g%C3%A9n%C3%A9r%C3%A9s-1"></a><a aria-hidden="true"class="hash-link" href="#building.html_fichiers-g%25C3%25A9n%25C3%25A9r%25C3%25A9s-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Fichiers générés</h3><p>A l’issue du processus de génération d’une applicationclient-serveur, vous devez trouver dans le dossier de destinationun nouveau dossier nommé <strong>Client Server executable</strong>.Ce dossier contient deux sous-dossiers,<em>&lt;ApplicationName&gt;Client</em> et<em>&lt;ApplicationName&gt;Server</em>.</p><blockquote><p>Ces dossiers ne sont pas générés si une erreur est survenue.Dans ce cas, ouvrez le <a href="#building.html_log-file">fichierd’historique</a> pour connaître la cause de l’erreur.</p></blockquote><p>Le dossier <em>&lt;ApplicationName&gt;Client</em> contient lapartie cliente de l’application correspondant à la plate-formed’exécution du générateur d’application. Ce dossier doit êtreinstallé sur chaque poste client. Le dossier<em>&lt;ApplicationName&gt;Server</em> contient la partie serveurde l'application.</p><p>Le contenu de ces dossiers diffère en fonction de la plate-formecourante :</p><ul><li><p><em>Sous Windows</em>, chaque dossier contient le fichierexécutable de l’application, nommé<em>&lt;ApplicationName&gt;Client.exe</em> pour la partie clienteet <em>&lt;ApplicationName&gt;Server.exe</em> pour la partieserveur, ainsi que les fichiers .rsr correspondants. Les dossierscontiennent également divers fichiers et dossiers nécessaires aufonctionnement des applications et les éléments personnaliséséventuellement placés dans les dossiers 4D Volume Desktop et 4DServer d’origine.</p></li><li><p><em>Sous macOS</em>, chaque dossier contient uniquement leprogiciel de l’application, nommé &lt;ApplicationName&gt; Clientpour la partie cliente et &lt;ApplicationName&gt; Server pour lapartie serveur. Chaque progiciel contient tous les élémentsnécessaires à son fonctionnement. Sous macOS, un progiciel estlancé via un double-clic.</p><blockquote><p>Les progiciels macOS générés contiennent les mêmes éléments queles sous-dossiers Windows. You can display their contents(<strong>Control+click</strong> on the icon) in order to be able tomodify them.</p></blockquote></li></ul><p>If you checked the “Allow automatic update of clientapplication” option, an additional subfolder called<em>Upgrade4DClient</em> is added in the<em>&lt;ApplicationName&gt;Server</em> folder/package.</p><p>Si vous avez coché l’option “Permettre la mise à jourautomatique de l’application cliente”, un sous-dossiersupplémentaire nommé <em>Upgrade4DClient</em> est ajouté dans ledossier/progiciel <em>&lt;ApplicationName&gt;Server</em>. Cesous-dossier contient l’application cliente au format macOS et/ouWindows sous forme de fichier compressé. Ce fichier est utilisélors de la mise à jour automatique des applications clientes.</p><h4><a aria-hidden="true" class="anchor" id="building.html_emplacements-des-fichiers-web-1"></a><a aria-hidden="true" class="hash-link" href="#building.html_emplacements-des-fichiers-web-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Emplacements des fichiers Web</h4><p>Si la partie serveur et/ou la partie cliente de votreapplication exécutable est utilisée en tant que serveur Web, lesfichiers et dossiers requis par le serveur doivent être installés àdes emplacements spécifiques. Ces éléments sont les suivants :</p><ul><li>fichiers <em>cert.pem</em> et <em>key.pem</em> (facultatifs) :ces fichiers sont utilisés pour les connexions TLS ainsi que parles commandes de cryptage des données,</li><li>Dossier racine Web (DossierWeb) par défaut.</li></ul><p>Des éléments doivent être installée :</p><ul><li><p><strong>Sous Windows</strong></p><ul><li><strong>Application serveur</strong> : dans le sous-dossier<em>Client Server executable/&lt;ApplicationName&gt;Server\ServerDatabase</em>.</li><li><strong>Application cliente</strong> : dans le sous-dossier<em>Client Serverexecutable/&lt;ApplicationName&gt;Client</em>.</li></ul></li><li><p><strong>sous macOS</strong></p><ul><li><strong>Application serveur</strong> : à côté du progiciel<em>&lt;ApplicationName&gt;Server</em>.</li><li><strong>Application cliente</strong> : à côté du progiciel<em>&lt;ApplicationName&gt;Client</em>.</li></ul></li></ul><h3><a aria-hidden="true" class="anchor" id="building.html_int%C3%A9grer-une-structure-compil%C3%A9e-dans-la-partie-cliente"></a><a aria-hidden="true" class="hash-link" href="#building.html_int%25C3%25A9grer-une-structure-compil%25C3%25A9e-dans-la-partie-cliente"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Intégrer une structure compilée dans la partiecliente</h3><p>4D permet d'intégrer une structure compilée dans une applicationcliente. Cette fonctionnalité peut être utilisée, par exemple, pourfournir aux utilisateurs une application "portail" donnant accèsaux différentes applications serveur, via la commande <code>OPENDATABASE</code> exécutant un fichier <code>.4dlink</code>.</p><p>Pour activer cette fonctionnalité, ajoutez les clés<code>DatabaseToEmbedInClientWinFolder</code> et/ou<code>DatabaseToEmbedInClientMacFolder</code> dans le fichier deconfiguration <em>buildApp</em>. Lorsque l'une de ces clés estprésente, le processus de génération de l'application clientegénère une application monoposte : la structure compilée, au lieudu fichier <em>EnginedServer.4Dlink</em>, est placée dans ledossier "Database".</p><ul><li>Si un dossier "Data" par défaut existe dans l'applicationmonoposte, une licence est intégrée.</li><li>Si un dossier "Data" par défaut n'existe pas dans l'applicationmonoposte, elle sera exécutée sans le fichier de données et sanslicence.</li></ul><p>Le scénario standard est le suivant :</p><ol><li>Dans la boîte de dialogue du Générateur d'application,sélectionnez l'option "Générer une structure compilée" pourproduire un .4DC ou un .4DZ pour utiliser l'application enmonoposte.</li><li>Dans le fichier <em>buildApp.4DSettings</em> de l'applicationclient-serveur, utilisez la ou les clés xml suivantes pour indiquerle chemin du dossier contenant l'application compilée monoposte :<ul><li><code>DatabaseToEmbedInClientWinFolder</code></li><li><code>DatabaseToEmbedInClientMacFolder</code></li></ul></li><li>Générez l'application client-serveur. Cela produira les effetssuivants :<ul><li>le dossier de l'application monoposte est copié intégralementdans le dossier "Database" du client fusionné</li><li>le fichier <em>EnginedServer.4Dlink</em> du dossier "Database"n'est pas généré</li><li>les fichiers .4DC, .4DZ, .4DIndy de la copie de l'applicationmonoposte sont renommés à l'aide du client fusionné</li><li>la clé <code>PublishName</code> n'est pas copiée dans le<em>info.plist</em> du client fusionné</li><li>si l'application monoposte ne possède pas de dossier "Data" pardéfaut, le client fusionné sera exécuté sans données.</li></ul></li></ol><p>Les fonctionnalités de mise à jour automatique de 4D Server (clé<a href="#building.html_current-version">CurrentVers</a>, commande<code>SET UPDATE FOLDER</code>, etc.) fonctionnent avec uneapplication monoposte, comme avec une application distantestandard. Lors de la connexion, l'application monoposte compare saclé <code>CurrentVers</code> à la plage de version 4D Server. Sielle se trouve en dehors de plage, l'application cliente monopostemise à jour est téléchargée depuis le serveur et l'Updater lance leprocessus de mise à jour locale.</p><h3><a aria-hidden="true" class="anchor" id="building.html_personnalisation-des-noms-de-dossier-de-cache-client-etou-serveur"></a><a aria-hidden="true" class="hash-link" href="#building.html_personnalisation-des-noms-de-dossier-de-cache-client-etou-serveur"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Personnalisation des noms de dossier de cache clientet/ou serveur</h3><p>Les dossiers de cache client et serveur sont utilisés pourstocker des éléments partagés tels que des ressources ou descomposants. Ils sont nécessaires pour gérer les échanges entre leserveur et les clients distants. Les applications client/serveurutilisent les chemins d'accès par défaut pour les dossiers de cachesystème client et serveur.</p><p>Dans certains cas spécifiques, vous devrez personnaliser lesnoms de ces dossiers pour implémenter des architectures spécifiques(voir ci-dessous). 4D vous fournit les clés<code>ClientServerSystemFolderName</code> et<code>ServerStructureFolderName</code> à définir dans le fichier deparamètres <em>buildApp</em>.</p><h4><a aria-hidden="true" class="anchor" id="building.html_dossier-de-cache-client"></a><a aria-hidden="true"class="hash-link" href="#building.html_dossier-de-cache-client"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Dossier de cache client</h4><p>La personnalisation du nom du dossier de cache côté client peutêtre utile lorsque votre application cliente est utilisée pour seconnecter à plusieurs serveurs fusionnés qui sont similaires maisqui utilisent des ensembles de données différents. Dans ce cas,pour enregistrer plusieurs téléchargements inutiles de ressourceslocales identiques, vous pouvez utiliser le même dossier de cachelocal personnalisé.</p><ul><li>Configuration par défaut (<em>pour chaque connexion à unserveur, un dossier cache spécifique est téléchargé/mis àjour</em>) :</li></ul><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Admin/cachea.png" /></p><ul><li>À l'aide de la clé <code>ClientServerSystemFolderName</code>(<em>un seul dossier de cache est utilisé pour tous lesserveurs</em>) :</li></ul><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Admin/cacheb.png" /></p><h4><a aria-hidden="true" class="anchor" id="building.html_dossier-de-cache-du-serveur"></a><a aria-hidden="true" class="hash-link" href="#building.html_dossier-de-cache-du-serveur"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Dossier de cache du serveur</h4><p>La personnalisation du nom du dossier de cache côté serveur estutile lorsque vous exécutez plusieurs applications serveuridentiques créées avec différentes versions de 4D sur le mêmeordinateur. Si vous souhaitez que chaque serveur utilise son propreensemble de ressources, vous devez personnaliser le dossier decache du serveur.</p><ul><li>Configuration par défaut (<em>les mêmes applications serveurpartagent le même dossier de cache</em>) :</li></ul><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Admin/cacheServera.png" /></p><ul><li>À l'aide de la clé <code>ServerStructureFolderName</code>(<em>un dossier de cache dédié est utilisé pour chaque applicationserveur</em>) :</li></ul><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Admin/cacheServerb.png" /></p><h2><a aria-hidden="true" class="anchor" id="building.html_page-plugins-et-composants"></a><a aria-hidden="true" class="hash-link" href="#building.html_page-plugins-et-composants"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Page Plugins et composants</h2><p>On this tab, you set each <a href="#plug-ins.html"><strong>plug-in</strong></a>, <a href="#components.html"><strong>component</strong></a>, and <a href="#building.html_deselecting-modules"><strong>module</strong></a>that you will use in your stand-alone or client/serverapplication.</p><p>La page liste les éléments chargés par l'application 4D courante:</p><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Desktop/buildappcomps.png" /></p><ul><li><p>La colonne <strong>Actif</strong> indique les éléments quiseront intégrés dans l’application générée. Par défaut, tous leséléments sont inclus. To exclude a plug-in, a component, or amodule, deselect the check box next to it.</p></li><li><p><strong>Plugins and components</strong> column - Displays thename of the plug-in/component/module.</p></li><li><p><strong>ID</strong> column - Displays the element'sidentification number (if any).</p></li><li><p><strong>Type</strong> column - Indicates the type of item:Plug-in, Component, or Module.</p></li></ul><h3><a aria-hidden="true" class="anchor" id="building.html_adding-plug-ins-or-components"></a><a aria-hidden="true" class="hash-link" href="#building.html_adding-plug-ins-or-components"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Adding plug-ins or components</h3><p>Si vous souhaitez intégrer d’autres plug-ins ou composants dansl’application exécutable, il vous suffit de les placer dans undossier <strong>PlugIns</strong> ou <strong>Components</strong> àcôté de l’application 4D Volume Desktop ou de l’application 4DServer. Le mécanisme de copie du contenu du dossier del’application source (cf. paragraphe <a href="#building.html_customizing-4d-volume-desktop-folder">Personnaliserle dossier 4D Volume Desktop</a>) permet d’intégrer tout type defichier à l’application exécutable.</p><p>En cas de conflit entre deux versions différentes d’un mêmeplug-in (l’une chargée par 4D et l’autre placée dans le dossier del’application source), la priorité revient au plug-in installé dansle dossier de 4D Volume Desktop/4D Server. En revanche, la présencede deux instances d’un même composant empêchera l’ouverture del’application.</p><blockquote><p>The use of plug-ins and/or components in a deployment versionmay require license numbers.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="building.html_deselecting-modules"></a><a aria-hidden="true"class="hash-link" href="#building.html_deselecting-modules"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Deselecting modules</h3><p>A module is a built-in code library used by 4D to controlspecific features. If you know that your built application does notuse any of the features covered by a module, you can deselect it inthe list to reduce the size of your application files.</p><blockquote><p><strong>Warning:</strong> Deselecting a module could preventyour built application from working as expected. If you are not100% certain that a module is never called by your application, itis recommended to keep it selected.</p></blockquote><p>The following optional modules can be deselected:</p><ul><li><strong>CEF</strong>: Chromium embedded library. It isnecessary to run <a href="#webAreaOverview.html">Web areas</a> thatuse the embedded rendering engine and <a href="#viewProAreaOverview.html">4D View Pro areas</a>. Calling suchareas when CEF is deselected will display blank areas and/orgenerate errors.</li><li><strong>MeCab</strong>: Library used for text indexing inJapanese language (see this <a href="#building.html_support-of-mecab-japanese-version">settingsparagraph</a>). Deselecting this module will force text indexes tobe rebuilt in Japanese language.</li></ul><blockquote><p>If you deselect MeCab for an application in Japanese languageused on heterogeneous platforms, make sure to deselect it on bothclient/server build and <a href="#building.html_build-client-application">client applicationbuild</a> (for the concurrent platform), otherwise majormalfunctions will occur in the application.</p></blockquote><ul><li><strong>PHP</strong>: Necessary to use PHP features andcommands in 4D (see this <a href="#php.html">settingsparagraph</a>).</li><li><strong>SpellChecker</strong>: Used for built-in <a href="#building.html_auto-spellcheck">spellchecking features</a> andcommands available for input areas and 4D Write Pro areas.</li><li><strong>4D Updater</strong>: Controls the <a href="#building.html_what-is-a-clientserver-application">automaticupdate</a> of client parts and is used by the <code>SET UPDATEFOLDER</code> command for <a href="#building.html_automatic-updating-of-server-or-single-user-applications">automated server updates</a>.</li></ul><h2><a aria-hidden="true" class="anchor" id="building.html_page-licences--certificat"></a><a aria-hidden="true"class="hash-link" href="#building.html_page-licences--certificat"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Page Licences &amp; Certificat</h2><p>La page Licences &amp; Certificat vous permet de :</p><ul><li>spécifier le ou les numéro(s) de licence que vous souhaitezintégrer dans votre application exécutable monoposte</li><li>signer l'application à l'aide d'un certificat sous macOS.</li></ul><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Admin/buildappCertif.png" /></p><h3><a aria-hidden="true" class="anchor" id="building.html_licences"></a><a aria-hidden="true" class="hash-link" href="#building.html_licences"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Licences</h3><p>Cet onglet affiche la liste des licences de déploiementdisponibles que vous pouvez intégrer dans votre application. Pardéfaut, la liste est vide. Vous devez explicitement ajouter votrelicence <em>4D Developer Professional</em> ainsi que chaquelicence* 4D Desktop Volume* liée à utiliser dans l’applicationgénérée. Vous pouvez ajouter un numéro 4D Developer Professional etses licences associées autres que ceux en cours d’utilisation.</p><p>Pour ajouter ou supprimer des licences, utilisez les boutons<strong>[+]</strong> et <strong>[-]</strong> situés en bas de lafenêtre.</p><p>Lorsque vous cliquez sur le bouton [+], une boîte de dialogued’ouverture de document apparaît, affichant par défaut le contenudu dossier <em>[Licenses]</em> de votre poste. Pour plusd'informations sur l'emplacement de ce dossier, reportez-vous à lacommande <a href="https://doc.4d.com/4Dv17R6/4D/17-R6/Get-4D-folder.301-4311294.en.html">Get 4D folder</a>.</p><p>Vous devez désigner les fichiers contenant votre licenceDeveloper et ainsi que vos licences de déploiement. Ces fichiersont été générés ou mis à jour au moment de l’acquisition de lalicence <em>4D Developer Professional</em> et des licences <em>4DDesktop Volume</em>.</p><p>Une fois que vous avez sélectionné un fichier, la liste indiqueles caractéristiques de la licence qu’il contient.</p><ul><li><strong>N° Licence</strong> : numéro de licence du produit</li><li><strong>Licence</strong> : nom du produit</li><li><strong>Date d'expiration</strong> : date d'expiration de lalicence (le cas échéant)</li><li><strong>Chemin d'accès</strong> : emplacement sur ledisque</li></ul><p>Si la licence est invalide, un message vous le signale.</p><p>Vous pouvez désigner autant de fichiers valides que vous voulez.Lors de la génération de l’application exécutable, 4D utilisera leslicences les plus appropriées.</p><blockquote><p>Des licences "R" dédiées sont requises pour générer desapplications basées sur des versions "R-release" (les numéros delicence des produits "R" débutent par "R-4DDP").</p></blockquote><p>A l’issue de la génération, un nouveau fichier de licence dedéploiement est automatiquement inclus dans un dossier Licencesplacé à côté de l’application exécutable (Windows) ou dans leprogiciel (macOS).</p><h3><a aria-hidden="true" class="anchor" id="building.html_certification-des-applications-sous-os-x"></a><a aria-hidden="true"class="hash-link" href="#building.html_certification-des-applications-sous-os-x"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Certification des applications sous OS X</h3><p>Le Générateur d’application permet de signer les applications 4Dfusionnées sous macOS (applications monoposte, composants, 4DServer et parties clientes sous macOS). Signer une applicationpermet d’autoriser son exécution par la fonctionnalité Gatekeeperde macOS lorsque l’option "Mac App Store et Développeursidentifiés" est sélectionnée (cf. "A propos de Gatekeeper"ci-dessous).</p><ul><li>Cochez l'option <strong>Signer l’application</strong> pourinclure la certification dans le processus de génération del’application pour macOS :</li></ul><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Admin/buildapposxcertProj.png" /></p><p>L'option est affichée sous Windows et macOS mais n’est prise encompte que pour les versions macOS.</p><ul><li><strong>Nom du certificat</strong> : saisissez dans cette zonele nom de votre certificat développeur validé par Apple. Le nomd’un certificat est généralement le nom du certificat dansl’utilitaire Trousseau d’accès (la partie en rouge dans l'exemplesuivant) :</li></ul><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/certificate.png" /></p><p>Pour obtenir un certificat de développeur auprès d’Apple, Inc.,vous pouvez utiliser les commandes du menu Trousseaux d’accès ouvous connecter à la page suivante : <a href="#building.html_documentation%2FSecurity%2FConceptual%2FCodeSigningGuide%2FProcedures%2FProcedures.html">http://developer.apple.com/library/mac/#documentation/Security/Conceptual/CodeSigningGuide/Procedures/Procedures.html</a>.</p><blockquote><p>Le certificat requiert la présence de l’utilitaire codesignd’Apple. Cet utilitaire est fourni par défaut et se trouvegénéralement dans le dossier "/usr/bin/". En cas d’erreur, vérifiezque cet utilitaire est présent sur votre disque.</p></blockquote><ul><li><strong>Générer un certificat auto-signé</strong> - exécute le«Certificate Assistant» qui vous permet de générer un certificatauto-signé. Si vous ne disposez pas d'un certificat de développeurApple, vous devez fournir un certificat auto-signé. Avec cecertificat, aucun message d'alerte ne s'affiche si l'applicationest déployée en interne. Si l'application est déployée en externe(c'est-à-dire via http ou e-mail), au lancement, macOS affiche unmessage d'alerte indiquant que le développeur de l'applicationn'est pas identifié. L'utilisateur peut "forcer" l'ouverture del'application.<p>Dans le «Certificate Assistant», veillez à sélectionner lesoptions appropriées : <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Admin/Cert1.png" /><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Admin/Cert2.png" /></p></li></ul><blockquote><p>4D recommande de souscrire au programme Apple Developer Programpour accéder aux "Developer Certificates" nécessaires à lanotarisation des applications (voir ci-dessous).</p></blockquote><h4><a aria-hidden="true" class="anchor" id="building.html_a-propos-de-gatekeeper"></a><a aria-hidden="true"class="hash-link" href="#building.html_a-propos-de-gatekeeper"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>A propos de Gatekeeper</h4><p>Gatekeeper est une fonction de sécurité d’OS X permettant decontrôler l’exécution des applications téléchargées depuisInternet. Si une application téléchargée ne provient pas de l’AppleStore ou n’est pas signée, elle est rejetée et ne peut êtrelancée.</p><blockquote><p>Sur les machines Apple Silicon, les <a href="#building.html_components">composants</a> 4D doivent être signés.Un composant non signé générera une erreur au démarrage del'application ("lib4d-arm64.dylib can't be opened...").</p></blockquote><p>L'option <strong>Signer l'application</strong> du Générateurd’application de 4D permet de générer des applications et descomposants compatibles avec cette option par défaut.</p><h4><a aria-hidden="true" class="anchor" id="building.html_%C3%A0-propos-de-la-notarisation"></a><a aria-hidden="true"class="hash-link" href="#building.html_%25C3%25A0-propos-de-la-notarisation"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>À propos de la notarisation</h4><p>La notarisation des applications est fortement recommandée parApple à partir de macOS 10.14.5 (Mojave) et 10.15 (Catalina), carles applications non notariées déployées via Internet sont bloquéespar défaut.</p><p>Les <a href="#building.html_os-x-signing-certificate">fonctionnalités designature intégrées</a> ont été mises à jour pour répondre à toutesles exigences d'Apple et permettre l'utilisation du service denotarisation d'Apple. La notarisation elle-même doit être réaliséepar le développeur et est indépendante de 4D (à noter égalementqu'elle nécessite l'installation de Xcode). Veuillez vous référer à<a href="https://blog.4d.com/how-to-notarize-your-merged-4d-application/">cepost du blog 4D</a> qui fournit une description, par étapes, duprocessus de notarisation.</p><p>Pour plus d'informations sur le concept de notarisation,veuillez consulter <a href="https://developer.apple.com/documentation/xcode/notarizing_your_app_before_distribution/customizing_the_notarization_workflow">cette page sur le site Apple developer</a>.</p><h2><a aria-hidden="true" class="anchor" id="building.html_personnaliser-les-ic%C3%B4nes-dune-application"></a><a aria-hidden="true"class="hash-link" href="#building.html_personnaliser-les-ic%25C3%25B4nes-dune-application"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Personnaliser les icônes d’une application</h2><p>4D associe une icône par défaut aux applications exécutables(monopostes et client-serveur). Vous pouvez cependant lapersonnaliser pour chaque application.</p><ul><li><strong>Sous macOS</strong> - La personnalisation de l’icône devotre application est prise en charge par 4D lors de laconstruction de l’application exécutable. Pour cela, vous devez,avant la construction du fichier de l’application, créer un fichierd’icône (type icns) et le placer à côté du dossier destructure.</li></ul><blockquote><p>Apple, Inc. fournit un outil spécifique pour générer lesfichiers d’icône <em>icns</em> (pour plus d'informations, veuillezconsulter la <a href="#building.html_%2F%2Fapple_ref%2Fdoc%2Fuid%2FTP40012302-CH7-SW2">documentationd'Apple</a>).</p></blockquote><pre><code class="hljs">Votre fichier d’icône doit avoir le même nom que le fichier du projet et comporter l’extension *.icns*. 4D prend automatiquement ce fichier en compte lors de la génération de l’application double-cliquable (le fichier *.icns* est renommé *NomApplication.icns* et recopié dans le dossier Resources ; l’entrée *CFBundleFileIcon* du fichier *info.plist* est mise à jour).</code></pre><ul><li><p><strong>Sous Windows</strong> - La personnalisation de l’icônede votre application est prise en charge par 4D lors de laconstruction de l’application exécutable. Pour cela, vous devez,avant la construction du fichier de l’application, créer un fichierd’icône (extension <em>.ico</em>) et le placer à côté du fichier destructure interprété (fichier du projet).</p><p>Votre fichier d’icône doit avoir le même nom que le fichier destructure interprété et comporter l’extension <em>.ico</em>. 4Dprend automatiquement ce fichier en compte lors de la génération del’application exécutable.</p></li></ul><p>Vous pouvez également définir des <a href="https://doc.4d.com/4Dv17R6/4D/17-R6/4D-XML-Keys-BuildApplication.100-4465602.en.html">clés XML</a> spécifiques dans le fichier buildApp.4DSettings pourdésigner chaque icône devant être utilisée. Les clés suivantes sontdisponibles :</p><ul><li>RuntimeVLIconWinPath</li><li>RuntimeVLIconMacPath</li><li>ServerIconWinPath</li><li>ServerIconMacPath</li><li>ClientMacIconForMacPath</li><li>ClientWinIconForMacPath</li><li>ClientMacIconForWinPath</li><li>ClientWinIconForWinPath</li></ul><h2><a aria-hidden="true" class="anchor" id="building.html_gestion-des-fichiers-de-donn%C3%A9es"></a><a aria-hidden="true"class="hash-link" href="#building.html_gestion-des-fichiers-de-donn%25C3%25A9es"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Gestion des fichiers de données</h2><h3><a aria-hidden="true" class="anchor" id="building.html_ouverture-du-fichier-de-donn%C3%A9es"></a><a aria-hidden="true"class="hash-link" href="#building.html_ouverture-du-fichier-de-donn%25C3%25A9es"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Ouverture du fichier de données</h3><p>Lorsqu'un utilisateur lance une application fusionnée ou unemise à jour (applications monopostes ou applicationsclient-serveur), 4D va tenter d'ouvrir un fichier de donnéesvalide. Plusieurs emplacements sont successivement examinés parl'application.</p><p>La séquence de lancement d'une application fusionnée est lasuivante :</p><ol><li>4D tente d'ouvrir le Dernier fichier de données ouvert,<a href="#building.html_last-data-file-opened">comme décritci-dessous</a> (non applicable lors du lancement initial).</li><li>S'il n'est pas trouvé, 4D tente d'ouvrir en mode lecture seulele fichier de données situé dans le dossier de données par défautau même niveau que le fichier .4DC.</li><li>S'il n'est pas trouvé, 4D tente d'ouvrir le fichier de donnéespar défaut standard (même nom et même emplacement que le fichier.4DZ).</li><li>S'il n'est pas trouvé, 4D affiche une boîte de dialoguestandard de sélection/création de fichier de données.</li></ol><h3><a aria-hidden="true" class="anchor" id="building.html_dernier-fichier-de-donn%C3%A9es-ouvert"></a><a aria-hidden="true"class="hash-link" href="#building.html_dernier-fichier-de-donn%25C3%25A9es-ouvert"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Dernier fichier de données ouvert</h3><h4><a aria-hidden="true" class="anchor" id="building.html_chemin-dacc%C3%A8s-du-dernier-fichier-de-donn%C3%A9es"></a><a aria-hidden="true" class="hash-link" href="#building.html_chemin-dacc%25C3%25A8s-du-dernier-fichier-de-donn%25C3%25A9es"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Chemin d'accès du dernier fichier de données</h4><p>Toute application autonome ou serveur générée avec 4D stocke lechemin d'accès du dernier fichier de données ouvert dans le dossierde préférences de l'utilisateur de l'application.</p><p>L'emplacement du dossier de préférences de l'utilisateur del'application correspond au chemin retourné par l'instructionsuivante :</p><pre><code class="hljs css language-4d">prefsUtilisateur:=<span class="hljs-function">Get 4D folder</span>(Dossier 4D actif)</code></pre><p>Le chemin d'accès du fichier de données est stocké dans unfichier dédié, nommé <em>lastDataPath.xml</em>.</p><p>Grâce à cette architecture, lorsque vous fournissez une mise àjour de votre application, le fichier de données de l'utilisateurlocal (le dernier fichier de données utilisé) est automatiquementouvert dès le premier lancement.</p><p>Ce mécanisme est généralement adapté aux déploiements standard.Cependant, dans des cas spécifiques, par exemple si vous dupliquezvos applications fusionnées, vous pouvez avoir besoin de modifierla manière dont le fichier de données est lié à l'application.</p><h4><a aria-hidden="true" class="anchor" id="building.html_configurer-le-mode-de-liaison-des-donn%C3%A9es"></a><a aria-hidden="true"class="hash-link" href="#building.html_configurer-le-mode-de-liaison-des-donn%25C3%25A9es"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Configurer le mode de liaison des données</h4><p>4D utilise automatiquement, avec vos applications compilées, ledernier fichier de données ouvert. Par défaut, le chemin d'accès dufichier de données est stocké dans le dossier de préférences del'utilisateur de l'application et est lié au <strong>nom del'application</strong>.</p><p>Ce fonctionnement peut s'avérer inadapté si vous souhaitezdupliquer une application fusionnée destinée à utiliser différentsfichiers de données. En effet, les applications dupliquées vont enfait partager le même dossier de préférences de l'utilisateur etdonc, toujours utiliser le même fichier de données -- même si lefichier de données est renommé, car l'application utiliseratoujours le dernier fichier de données ouvert parl'application.</p><p>4D vous permet donc de lier votre chemin de fichier de donnéesau chemin de l'application. Dans ce cas, le fichier de données serarelié via un chemin spécifique et ne sera plus simplement ledernier fichier utilisé. 4D vous permet donc de lier votre cheminde fichier de données au <strong>chemin del'application</strong>.</p><p>Ce mode vous permet de dupliquer vos applications fusionnéessans rompre le lien vers le fichier de données. Cependant, aveccette option, si le package d'application est déplacé sur ledisque, l'utilisateur sera invité à entrer un fichier de données,car le chemin de l'application ne correspondra plus à l'attribut"executablePath" (après qu'un utilisateur ait sélectionné unfichier de données, le fichier <em>lastDataPath.xml</em> est mis àjour en conséquence).</p><p><em>Duplication lorsque les données sont liées par le nom del'application :</em> <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/datalinking1.png" /></p><p><em>Duplication lorsque les données sont liées par le chemin del'application :</em> <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/datalinking2.png" /></p><p>Vous sélectionnez le mode de liaison des données lors de laphase de génération de l'application. Vous pouvez :</p><ul><li>Utiliser la <a href="#building.html_application">PageApplication</a> ou la <a href="#building.html_client-server">PageClient/Serveur</a> de boîte de dialogue du Générateurd'applications.</li><li>Utiliser la clé XML <strong>LastDataPathLookup</strong>(application monoposte ou application serveur).</li></ul><h3><a aria-hidden="true" class="anchor" id="building.html_d%C3%A9finir-un-dossier-de-donn%C3%A9es-par-d%C3%A9faut"></a><a aria-hidden="true" class="hash-link" href="#building.html_d%25C3%25A9finir-un-dossier-de-donn%25C3%25A9es-par-d%25C3%25A9faut"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Définir un dossier de données par défaut</h3><p>4D vous permet de définir un fichier de données par défaut lorsde la phase de construction de l'application. Au premier lancementde l'application, en l'absence de fichier local (cf. <a href="#building.html_opening-the-data-file">séquence de lancementdécrite ci-dessus</a>), le fichier de données par défaut estautomatiquement ouvert silencieusement en mode lecture seule par4D. Cela vous donne un meilleur contrôle sur la création et/oul'ouverture des fichiers de données lors du premier lancement d'uneapplication fusionnée.</p><p>Plus particulièrement, il permet de répondre aux besoinssuivants :</p><ul><li>Eviter l'affichage de la boîte de dialogue d'ouverture defichier de données de 4D au lancement d'une nouvelle applicationfusionnée ou d'une mise à jour. Vous pouvez détecter, par exempledans la , que le fichier de données par défaut a été ouvert etdonc, exécuter votre propre code et/ou boîtes de dialoguepermettant de créer ou de sélectionner un fichier de donnéeslocal.</li><li>Permettre la distribution d'applications fusionnées comportantdes données en lecture seulement (par exemple des applications dedémonstration).</li></ul><p>Pour définir et utiliser un fichier de données par défaut :</p><ul><li>Vous devez fournir un fichier de données par défaut (nommé"Default.4DD") et le stocker dans un dossier spécifique (nommé"Default Data") à l'intérieur du dossier du projet d'application.Ce fichier doit être accompagné de tous les fichiers nécessaires,en fonction de la configuration du projet : index (.4dIndx), blobsexternes, journal, etc. Il est de votre responsabilité de livrer unfichier de données par défaut valide. A noter que, comme le fichierde données par défaut est ouvert en mode lecture seule, il estrecommandé de désélectionner l'option "Utiliser le fichierd'historique" dans le fichier de structure original avant de créerle fichier de données.</li><li>Au moment de la génération de l'application, le dossier dedonnées par défaut est intégré dans l'application fusionnée. Tousles fichiers présents dans ce dossier par défaut sont égalementembarqués.</li></ul><p>Le schéma suivant illustre cette fonctionnalité :</p><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/DefaultData.png" /></p><p>Lorsque le fichier de données par défaut est détecté au premierlancement, il est silencieusement ouvert en mode lecture seulement,vous permettant ainsi d'exécuter toute opération personnalisée (àcondition qu'elle ne modifie pas le fichier de donnéeslui-même).</p><h2><a aria-hidden="true" class="anchor" id="building.html_gestion-de-la-connexion-des-applications-clientes"></a><a aria-hidden="true"class="hash-link" href="#building.html_gestion-de-la-connexion-des-applications-clientes"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Gestion de la connexion des applications clientes</h2><p>La gestion des connexions des applications clientes recouvre lesmécanismes par lesquels une application cliente fusionnée seconnectera au serveur cible, une fois en environnement deproduction.</p><h3><a aria-hidden="true" class="anchor" id="building.html_sc%C3%A9nario-de-connexion"></a><a aria-hidden="true" class="hash-link" href="#building.html_sc%25C3%25A9nario-de-connexion"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Scénario de connexion</h3><p>Le processus de connexion des applications clientes fusionnéesprend en charge les cas où le serveur dédié n'est pas disponible.Le scénario du démarrage d'une application cliente 4D est lesuivant :</p><ol><li><p>L'application cliente tente de se connecter au serveur via leservice de découverte (basé sur le nom du serveur, publié sur lemême sous-réseau que l'application cliente).<br />OU<br />Si des informations de connexion valides sont présentes dans lefichier "EnginedServer.4DLink" à l'intérieur de son dossier,l'application cliente tente de se connecter à l'adresse du serveurspécifiée dans ce fichier.</p></li><li><p>En cas d'échec, l'application cliente tente de se connecter auserveur à l'aide des informations présentes dans le dossier depréférences utilisateur de l'application (fichier "lastServer.xml",cf. dernière étape).</p></li><li><p>En cas d'échec, l'application cliente affiche une boîte dedialogue d'erreur de connexion.</p><ul><li>Si l'utilisateur clique sur le bouton<strong>Sélectionner...</strong> (lorsqu'il été autorisé par ledéveloppeur 4D au moment de la génération de l'application, voirci-dessous), la boîte de dialogue standard "Connexion au serveur"est affichée.</li><li>Si l'utilisateur clique sur le bouton <strong>Quitter</strong>,l'application client quitte.</li></ul></li><li><p>Si la connexion est établie avec succès, les paramètres de cetteconnexion sont sauvegardés dans le dossier de préférencesutilisateur de l'application cliente, ce qui permettra de lesréutiliser ultérieurement en cas de besoin.</p></li></ol><p>La procédure complète est décrite dans le diagramme suivant:</p><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Desktop/client-connect.png" /></p><h3><a aria-hidden="true" class="anchor" id="building.html_sauvegarde-du-chemin-du-dernier-serveur"></a><a aria-hidden="true"class="hash-link" href="#building.html_sauvegarde-du-chemin-du-dernier-serveur"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Sauvegarde du chemin du dernier serveur</h3><p>Le chemin du dernier serveur utilisé est automatiquementsauvegardé dans un fichier nommé "lastServer.xml" placé dans ledossier de préférences utilisateur de l'application cliente. Cedossier est situé à l'emplacement suivant :</p><pre><code class="hljs css language-4d">prefsUtilisateur:=<span class="hljs-function">Get 4D folder</span>(Dossier 4D actif)</code></pre><p>Ce mécanisme permet de prendre en charge le cas où le serveurcible primaire est temporairement indisponible pour une raisonquelconque (par exemple pour une opération de maintenance). Lorsquece cas se produit pour la première fois, la boîte de dialogue desélection de serveur est affichée (si elle est autorisée, cf.ci-dessous) et l'utilisateur peut manuellement sélectionner unserveur alternatif, dont le chemin est alors sauvegardé si laconnexion est établie et validée. Toute indisponibilité ultérieuresera alors automatiquement prise en charge à l'aide des paramètresde connexion présents dans le fichier "lastServer.xml".</p><blockquote><ul><li>Lorsque les applications clientes ne peuvent pas bénéficier duservice de découverte, par exemple à cause de la configurationréseau, il reste recommandé que le développeur indique un nomd'hôte au lors de la génération de l'application à l'aide de la clé<a href="https://doc.4d.com/4Dv17R6/4D/17-R6/IPAddress.300-4465710.en.html">IPAddress</a> dans le fichier "BuildApp.xml". Le mécanisme desauvegarde du chemin du dernier serveur est conçu pour les casd'indisponibilité temporaire uniquement.</li><li>Dans tous les cas, il est possible de maintenir la touche<strong>Alt/Option</strong> au démarrage de l'application clienteafin d'afficher la boîte de dialogue de sélection du serveur.</li></ul></blockquote><h3><a aria-hidden="true" class="anchor" id="building.html_acc%C3%A8s-%C3%A0-la-bo%C3%AEte-de-dialogue-de-s%C3%A9lection-de-serveur-en-cas-derreur"></a><a aria-hidden="true" class="hash-link" href="#building.html_acc%25C3%25A8s-%25C3%25A0-la-bo%25C3%25AEte-de-dialogue-de-s%25C3%25A9lection-de-serveur-en-cas-derreur"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Accès à la boîte de dialogue de sélection de serveur encas d'erreur</h3><p>Vous pouvez choisir d'afficher ou non la boîte de dialoguestandard de sélection de serveur sur les applications clientesfusionnées lorsque le serveur ne répond pas. La configuration dansce cas dépend de la valeur de la clé XML <a href="https://doc.4d.com/4Dv17R6/4D/17-R6/ServerSelectionAllowed.300-4465714.en.html">ServerSelectionAllowed</a> sur le poste qui génère l'applicationclient/serveur. Vous disposez de trois possibilités :</p><ul><li><p><strong>Affichage d'un message d'erreur sans accès possible à laboîte de dialogue de sélection de serveur</strong>. Fonctionnementpar défaut. L'application peut uniquement quitter.<br />Clé Xml <code>ServerSelectionAllowed</code> : valeur<strong>False</strong> ou clé omise <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/connect1.png" /></p></li><li><p><strong>Affichage d'un message d'erreur avec accès possible à laboîte de dialogue de sélection de serveur.</strong>. L'utilisateurpeut accéder à la fenêtre de sélection de serveur en cliquant surle bouton <strong>Sélectionner...</strong><br />Clé XML <code>ServerSelectionAllowed</code> : valeur<strong>True</strong> <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/connect2.png" /> <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Project/connect3.png" /></p></li></ul><h2><a aria-hidden="true" class="anchor" id="building.html_automatic-updating-of-server-or-single-user-applications"></a><a aria-hidden="true" class="hash-link" href="#building.html_automatic-updating-of-server-or-single-user-applications"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Automatic updating of server or single-userapplications</h2><p>In principle, updating server applications or merged single-userapplications require user intervention (or programming customsystem routines): whenever a new version of the merged applicationis available, you have to exit the application in production andmanually replace the old files with the new ones; then restart theapplication and select the current data file.</p><p>You can automate this procedure to a large extent using thefollowing language commands: <a href="https://doc.4d.com/4dv19/help/command/en/page1291.html"><code>SETUPDATE FOLDER</code></a>, <a href="https://doc.4d.com/4dv19/help/command/en/page1292.html"><code>RESTART4D</code></a>, and also <a href="https://doc.4d.com/4dv19/help/command/en/page1301.html"><code>Getlast update log path</code></a> for monitoring operations. The ideais to implement a function in your 4D application triggering theautomatic update sequence described below. It can be a menu commandor a process running in the background and checking at regularintervals for the presence of an archive on a server.</p><blockquote><p>You also have XML keys to elevate installation privileges sothat you can use protected files under Windows (see the <a href="https://doc.4d.com/4Dv19/4D/19/4D-XML-Keys-BuildApplication.100-5447429.en.html">4D XML Keys BuildApplication</a> manual).</p></blockquote><p>Here is the scenario for updating a server or merged single-userapplication:</p><ol><li>You transfer, for example using an HTTP server, the new versionof the server application or the merged single-user applicationonto the machine in production.</li><li>In the application in production, you call the <code>SET UPDATEFOLDER</code> command: this command designates the location of thefolder where the "pending" update of the current application isfound. Optionally, you can copy in this folder the custom elementsof the version in production (user files).</li><li>In the application in production, call the <code>RESTART4D</code> command: this command automatically triggers execution ofa utility program named "updater" that exits the currentapplication, replaces it using the "pending" update if one isspecified, and restarts the application with the current data file.The former version is renamed.</li></ol><blockquote><p>This sequence is compatible with Windows server applications runas a Service.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="building.html_update-log"></a><a aria-hidden="true" class="hash-link" href="#building.html_update-log"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Update log</h3><p>The installation procedure produces a log file detailing theupdate operations of merged applications (client, server orsingle-user) on the target machines. This file is useful foranalyzing any errors that occur during the installationprocess.</p><p>The update log is named<code>YYYY-MM-DD_HH-MM-SS_log_X.txt</code>, for example,<code>2021-08-25_14-23-00_log_1.txt</code> for a file created onAugust 25, 2021 at 14:23.</p><p>This file is created in the "Updater" application folder, withinthe system user folder. You can find out the location of this fileat any time using the <a href="https://doc.4d.com/4dv19/help/command/en/page1301.html"><code>Getlast update log path</code></a> command.</p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#user-settings.html"><span class="arrow-prev">←</span><span>Propriétés utilisateur</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#building.html_aper%25C3%25A7u">Aperçu</a><ul class="toc-headings"><li><a href="#building.html_construire-application-cliente">Construireapplication cliente</a></li><li><a href="#building.html_buildapp4dsettings">buildApp.4DSettings</a></li><li><a href="#building.html_fichier-dhistorique">Fichierd'historique</a></li></ul></li><li><a href="#building.html_nom-de-lapplication-et-dossier-de-destination">Nomde l'application et dossier de destination</a></li><li><a href="#building.html_page-de-structure-compil%25C3%25A9e">Page destructure compilée</a><ul class="toc-headings"><li><a href="#building.html_g%25C3%25A9n%25C3%25A9rer-une-structure-compil%25C3%25A9e">Générer une structure compilée</a></li><li><a href="#building.html_g%25C3%25A9n%25C3%25A9rer-un-composant">Générer uncomposant</a></li></ul></li><li><a href="#building.html_page-application">Page Application</a><ul class="toc-headings"><li><a href="#building.html_cr%25C3%25A9er-une-application-autonome">Créer uneapplication autonome</a></li></ul></li><li><a href="#building.html_page-clientserveur">PageClient/Serveur</a><ul class="toc-headings"><li><a href="#building.html_quest-ce-quune-application-clientserveur-">Qu'est-cequ'une application Client/Serveur ?</a></li><li><a href="#building.html_construire-application-serveur">Construireapplication serveur</a></li><li><a href="#building.html_construire-application-cliente-1">Construireapplication cliente</a></li><li><a href="#building.html_fichiers-g%25C3%25A9n%25C3%25A9r%25C3%25A9s-1">Fichiersgénérés</a></li><li><a href="#building.html_int%25C3%25A9grer-une-structure-compil%25C3%25A9e-dans-la-partie-cliente">Intégrer une structure compilée dans la partie cliente</a></li><li><a href="#building.html_personnalisation-des-noms-de-dossier-de-cache-client-etou-serveur">Personnalisation des noms de dossier de cache client et/ouserveur</a></li></ul></li><li><a href="#building.html_page-plugins-et-composants">PagePlugins et composants</a><ul class="toc-headings"><li><a href="#building.html_adding-plug-ins-or-components">Addingplug-ins or components</a></li><li><a href="#building.html_deselecting-modules">Deselectingmodules</a></li></ul></li><li><a href="#building.html_page-licences--certificat">PageLicences &amp; Certificat</a><ul class="toc-headings"><li><a href="#building.html_licences">Licences</a></li><li><a href="#building.html_certification-des-applications-sous-os-x">Certificationdes applications sous OS X</a></li></ul></li><li><a href="#building.html_personnaliser-les-ic%25C3%25B4nes-dune-application">Personnaliser les icônes d’une application</a></li><li><a href="#building.html_gestion-des-fichiers-de-donn%25C3%25A9es">Gestiondes fichiers de données</a><ul class="toc-headings"><li><a href="#building.html_ouverture-du-fichier-de-donn%25C3%25A9es">Ouverturedu fichier de données</a></li><li><a href="#building.html_dernier-fichier-de-donn%25C3%25A9es-ouvert">Dernierfichier de données ouvert</a></li><li><a href="#building.html_d%25C3%25A9finir-un-dossier-de-donn%25C3%25A9es-par-d%25C3%25A9faut">Définir un dossier de données par défaut</a></li></ul></li><li><a href="#building.html_gestion-de-la-connexion-des-applications-clientes">Gestionde la connexion des applications clientes</a><ul class="toc-headings"><li><a href="#building.html_sc%25C3%25A9nario-de-connexion">Scénario deconnexion</a></li><li><a href="#building.html_sauvegarde-du-chemin-du-dernier-serveur">Sauvegardedu chemin du dernier serveur</a></li><li><a href="#building.html_acc%25C3%25A8s-%25C3%25A0-la-bo%25C3%25AEte-de-dialogue-de-s%25C3%25A9lection-de-serveur-en-cas-derreur">Accès à la boîte de dialogue de sélection de serveur en casd'erreur</a></li></ul></li><li><a href="#building.html_automatic-updating-of-server-or-single-user-applications">Automatic updating of server or single-user applications</a><ul class="toc-headings"><li><a href="#building.html_update-log">Update log</a></li></ul></li></ul></nav></div></div></body></html>