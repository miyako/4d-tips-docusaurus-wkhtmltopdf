<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Sur avant frappe clavier · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="| Code | Peut être appelé par | Définition |" name="description" /><meta content="fr" name="docsearch:language" /><meta content="Sur avant frappe clavier · 4D Documentation"property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="| Code | Peut être appelé par | Définition |"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#onBeforeKeystroke.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Sur avant frappeclavier<a aria-hidden="true" class="anchor" id="onBeforeKeystroke.html"></a></h1></header><article><div><table><thead><tr><th>Code</th><th>Peut être appelé par</th><th>Définition</th></tr></thead><tbody><tr><td>17</td><td><a href="FormObjects/writeProArea_overview">4D Write Proarea</a> - <a href="#comboBoxOverview.html">Combo Box</a> - Form -<a href="#inputOverview.html">Input</a> - <a href="#listboxOverview.html">List Box</a> - <a href="#onBeforeKeystroke.html_list-box-columns">List Box Column</a></td><td>Un caractère est sur le point d'être saisi dans l'objet qui ale focus. <code>Get edited text</code> retourne le texte del'objet, <strong>sans</strong> ce caractère.</td></tr></tbody></table><details><summary><span>Historique</span></summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18 R5</td><td>- Support in non-enterable list boxes<p>- The event is now triggered after IME validation</p></td></tr></tbody></table></details><h2><span><a aria-hidden="true" class="anchor" id="onBeforeKeystroke.html_description"></a><a aria-hidden="true"class="hash-link" href="#onBeforeKeystroke.html_description"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</span></h2><p><span>Après avoir sélectionné les événements <code>On BeforeKeystroke</code> et <a href="#onAfterKeystroke.html"><code>On AfterKeystroke event</code></a> pour un objet, vous pouvez détecter etgérer les frappes au sein de l'objet, en utilisant la commande<code>Form event</code> qui retournera <code>On BeforeKeystroke</code> puis <a href="#onAfterKeystroke.html"><code>OnAfter Keystroke</code></a> (pour plus d'informations, veuillez vousreporter à la description de la commande <code>Get editedtext</code>). Dans l'événement <code>On Before Keystroke</code>, lacommande <code>FILTER KEYSTROKE</code> peut être utilisée pourfiltrer les caractères typés.</span></p><blockquote><p><span>Ces événements sont également activés par des commandes delangage qui simulent une action utilisateur telle que <code>POSTKEY</code>.</span></p></blockquote><p><span>L'événement <code>On Before Keystroke</code> n'est pasgénéré :</span></p><ul><li><span>dans une méthode <a href="#onBeforeKeystroke.html_list-box-columns">colonnes de listbox</a>, sauf lorsqu'une cellule est en cours d'édition (cependantelle est générée dans tous les cas dans la méthode de <a href="#listboxOverview.html">list box</a>),</span></li><li><span>lorsque les modifications utilisateur ne sont paseffectuées à l'aide du clavier (coller, glisser-déposer, case àcocher, liste déroulante, combo box). Pour traiter ces événements,vous devez utiliser <a href="#onAfterEdit.html"><code>On AfterEdit</code></a>.</span></li></ul><h3><span><a aria-hidden="true" class="anchor" id="onBeforeKeystroke.html_objets-non-saisissables"></a><a aria-hidden="true"class="hash-link" href="#onBeforeKeystroke.html_objets-non-saisissables"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Objets non saisissables</span></h3><p><span>L'événement <code>On Before Keystroke</code> peut êtregénéré dans des objets non saisissables, par exemple dans une listbox même si les cellules de la list box ne sont pas saisissables ousi les lignes ne peuvent pas être sélectionnées. Cela vous permetde créer des interfaces dans lesquelles l'utilisateur peut fairedéfiler dynamiquement jusqu'à une ligne spécifique dans une listbox en saisissant les premières lettres d'une valeur. Dans le casoù les cellules de la list box sont saisissables, vous pouvezutiliser la commande <code>Is editing text</code> pour savoir sil'utilisateur saisit réellement du texte dans une cellule ou s'ilutilise la fonction de saisie prédictive, puis exécutez le codeapproprié.</span></p><h3><span><a aria-hidden="true" class="anchor" id="onBeforeKeystroke.html_s%C3%A9quence-de-frappe"></a><a aria-hidden="true"class="hash-link" href="#onBeforeKeystroke.html_s%25C3%25A9quence-de-frappe"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Séquence de frappe</span></h3><p><span>Lorsqu'une entrée nécessite une séquence de frappesclavier, les événements ``On Before Keystroke<a href="#onAfterKeystroke.html"><code>et [</code>On After Keystroke</a>]sont générés uniquement lorsque la saisie est entièrement validéepar l'utilisateur. La commande <code>Keystroke</code> retourne lecaractère validé. Ce cas se produit principalement :</span></p><ul><li><span>lors de l'utilisation de touches "mortes" telles que ^ ou~: les événements ne sont générés que lorsque le caractère étenduest éventuellement saisi (par exemple "ê" ou ñ),</span></li><li><span>lorsqu'un IME (Input method editor) affiche une boîte dedialogue intermédiaire où l'utilisateur peut saisir une combinaisonde caractères : les événements sont générés uniquement lorsque laboîte de dialogue IME est validée.</span></li></ul><h3><span><a aria-hidden="true" class="anchor" id="onBeforeKeystroke.html_voir-aussi"></a><a aria-hidden="true"class="hash-link" href="#onBeforeKeystroke.html_voir-aussi"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Voir aussi</span></h3><p><span><a href="#onAfterKeystroke.html">On AfterKeystroke</a>.</span></p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#onBeforeDataEntry.html"><span class="arrow-prev">←</span><span>Sur avant saisie</span></a><a class="docs-next button" href="#onBeginDragOver.html"><span>Sur début survol</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#onBeforeKeystroke.html_description">Description</a><ul class="toc-headings"><li><a href="#onBeforeKeystroke.html_objets-non-saisissables">Objets nonsaisissables</a></li><li><a href="#onBeforeKeystroke.html_s%25C3%25A9quence-de-frappe">Séquence defrappe</a></li><li><a href="#onBeforeKeystroke.html_voir-aussi">Voiraussi</a></li></ul></li></ul></nav></div></div></body></html>