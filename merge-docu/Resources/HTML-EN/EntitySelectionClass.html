<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="en"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>EntitySelection · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="An entity selection is an object containing one or more reference(s) to [entities](/docs/Rx/en/ORDA/dsmapping.html#entity) belonging to the same [Dataclass](/docs/Rx/en/ORDA/dsmapping.html#dataclass). An entity selection can contain 0, 1 or X entities from the dataclass -- where X can represent the total number of entities contained in the dataclass."name="description" /><meta content="en" name="docsearch:language" /><meta content="EntitySelection · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="An entity selection is an object containing one or more reference(s) to [entities](/docs/Rx/en/ORDA/dsmapping.html#entity) belonging to the same [Dataclass](/docs/Rx/en/ORDA/dsmapping.html#dataclass). An entity selection can contain 0, 1 or X entities from the dataclass -- where X can represent the total number of entities contained in the dataclass."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#EntitySelectionClass.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">EntitySelection<a aria-hidden="true" class="anchor" id="EntitySelectionClass.html"></a></h1></header><article><div><p><span>An entity selection is an object containing one or morereference(s) to <a href="#EntitySelectionClass.html_entity">entities</a> belonging to thesame <a href="#EntitySelectionClass.html_dataclass">Dataclass</a>.An entity selection can contain 0, 1 or X entities from thedataclass -- where X can represent the total number of entitiescontained in the dataclass.</span></p><p><span>Entity selections can be created from existing selectionsusing various functions of the <a href="#DataClassClass.html"><code>DataClass</code> class</a> such as<a href="#EntitySelectionClass.html_all"><code>.all()</code></a> or<a href="#EntitySelectionClass.html_query"><code>.query()</code></a>, orfunctions of the <code>EntityClass</code> class itself, such as<a href="#EntitySelectionClass.html_and"><code>.and()</code></a> or<a href="#EntitySelectionClass.html_orderby"><code>orderBy()</code></a>.You can also create blank entity selections using the <a href="#EntitySelectionClass.html_newselection"><code>dataClass.newSelection()</code></a>function or the <a href="#EntitySelectionClass.html_create-new-selection"><code>Create newselection</code></a> command.</span></p><h3><span><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_summary"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_summary"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Summary</span></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#EntitySelectionClass.html_91index93"><strong><em>[index]</em></strong>: 4D.Entity</a><p>&nbsp;&nbsp;&nbsp;&nbsp;allows you to access entities within theentity selection using the standard collection syntax</p></td></tr><tr><td><a href="#EntitySelectionClass.html_attributename"><strong><em>.attributeName</em></strong>: Collection<br /><strong><em>.attributeName</em></strong> : 4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;a "projection" of values for theattribute in the entity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_add"><strong>.add</strong>(<em>entity</em> : 4D.Entity ) : 4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;adds the specified <em>entity</em> tothe entity selection and returns the modified entity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_and"><strong>.and</strong>(<em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br /><strong>.and</strong>( <em>entitySelection</em> :4D.EntitySelection ) : 4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;combines the entity selection with an<em>entity</em> or <em>entitySelection</em> parameter using thelogical AND operator</p></td></tr><tr><td><a href="#EntitySelectionClass.html_average"><strong>.average</strong>(<em>attributePath</em> : Text ) : Real</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns the arithmetic mean (average) ofall the non-null values of <em>attributePath</em> in the entityselection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_contains"><strong>.contains</strong>(<em>entity</em> : 4D.Entity ) : Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns true if entity reference belongsto the entity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_count"><strong>.count</strong>(<em>attributePath</em> : Text ) : Real</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns the number of entities in theentity selection with a non-null value in<em>attributePath</em></p></td></tr><tr><td><a href="#EntitySelectionClass.html_distinct"><strong>.distinct</strong>(<em>attributePath</em> : Text { ; <em>option</em> : Integer } ) :Collection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns a collection containing onlydistinct (different) values from the <em>attributePath</em> in theentity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_drop"><strong>.drop</strong>( {<em>mode</em> : Integer } ) : 4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;removes the entities belonging to theentity selection from the table related to its dataclass within thedatastore</p></td></tr><tr><td><a href="#EntitySelectionClass.html_extract"><strong>.extract</strong>(<em>attributePath</em> : Text { ; <em>option</em> : Integer } ) :Collection<br /><strong>.extract</strong>( <em>attributePath</em> { ;<em>targetPath</em> } { ; <em>...attributePathN</em> : Text ;<em>targetPathN</em> : Text } ) : Collection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns a collection containing<em>attributePath</em> values extracted from the entityselection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_first"><strong>.first()</strong> :4D.Entity</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns a reference to the entity in thefirst position of the entity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_getdataclass"><strong>.getDataClass()</strong>: 4D.DataClass</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns the dataclass of the entityselection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_getremotecontextattributes"><strong>.getRemoteContextAttributes()</strong>: Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns information about theoptimization context used by the entity</p></td></tr><tr><td><a href="#EntitySelectionClass.html_isalterable"><strong>.isAlterable()</strong>: Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns True if the entity selection isalterable</p></td></tr><tr><td><a href="#EntitySelectionClass.html_isordered"><strong>.isOrdered()</strong>: Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns True if the entity selection isordered</p></td></tr><tr><td><a href="#EntitySelectionClass.html_last"><strong>.last()</strong> :4D.Entity</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns a reference to the entity inlast position of the entity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_length"><strong>.length</strong> :Integer</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns the number of entities in theentity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_max"><strong>.max</strong>(<em>attributePath</em> : Text ) : any</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns the highest (or maximum) valueamong all the values of <em>attributePath</em> in the entityselection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_min"><strong>.min</strong>(<em>attributePath</em> : Text ) : any</a><p>&nbsp;&nbsp;&nbsp;&nbsp; returns the lowest (or minimum) valueamong all the values of attributePath in the entity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_minus"><strong>.minus</strong>(<em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br /><strong>.minus</strong>( <em>entitySelection</em> :4D.EntitySelection ) : 4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;excludes from the entity selection towhich it is applied the <em>entity</em> or the entities of<em>entitySelection</em> and returns the resulting entityselection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_or"><strong>.or</strong>(<em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br /><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection) : 4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;combines the entity selection with the<em>entity</em> or <em>entitySelection</em> parameter using thelogical (not exclusive) OR operator</p></td></tr><tr><td><a href="#EntitySelectionClass.html_orderby"><strong>.orderBy</strong>(<em>pathString</em> : Text ) : 4D.EntitySelection<br /><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) :4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns a new ordered entity selectioncontaining all entities of the entity selection in the orderspecified by <em>pathString</em> or <em>pathObjects</em>criteria</p></td></tr><tr><td><a href="#EntitySelectionClass.html_orderbyformula"><strong>.orderByFormula</strong>(<em>formulaString</em> : Text { ; <em>sortOrder</em> : Integer } {; <em>settings</em> : Object} ) : 4D.EntitySelection<br /><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ;<em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) :4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns a new, ordered entityselection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_query"><strong>.query</strong>(<em>queryString</em> : Text { ; <em>...value</em> : any } { ;<em>querySettings</em> : Object } ) : 4D.EntitySelection<br /><strong>.query</strong>( <em>formula</em> : Object { ;<em>querySettings</em> : Object } ) : 4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;searches for entities that meet thesearch criteria specified in <em>queryString</em> or<em>formula</em> and (optionally) <em>value</em>(s) among all theentities in the entity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_querypath"><strong>.queryPath</strong>: Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contains a detailed description of thequery as it was actually performed by 4D</p></td></tr><tr><td><a href="#EntitySelectionClass.html_queryplan"><strong>.queryPlan</strong>: Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp; contains a detailed description of thequery just before it is executed (i.e., the planned query)</p></td></tr><tr><td><a href="#EntitySelectionClass.html_refresh"><strong>.refresh()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;immediately "invalidates" the entityselection data in the local ORDA cache</p></td></tr><tr><td><a href="#EntitySelectionClass.html_selected"><strong>.selected</strong>(<em>selectedEntities</em> : 4D.EntitySelection ) : Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns an object describing theposition(s) of <em>selectedEntities</em> in the original entityselection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_slice"><strong>.slice</strong>(<em>startFrom</em> : Integer { ; <em>end</em> : Integer } ) :4D.EntitySelection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns a portion of an entity selectioninto a new entity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_sum"><strong>.sum</strong>(<em>attributePath</em> : Text ) : Real</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns the sum for all<em>attributePath</em> values in the entity selection</p></td></tr><tr><td><a href="#EntitySelectionClass.html_tocollection"><strong>.toCollection</strong>({ <em>options</em> : Integer { ; <em>begin</em> : Integer { ;<em>howMany</em> : Integer } } ) : <em>Collection</em><br /><strong>.toCollection</strong>( <em>filterString</em> : Text {;<em>options</em> : Integer { ; <em>begin</em> : Integer { ;<em>howMany</em> : Integer }}} ) : <em>Collection</em><br /><strong>.toCollection</strong>( <em>filterCol</em> : Collection {;<em>options</em> : Integer { ; <em>begin</em> : Integer { ;<em>howMany</em> : Integer }}} ) : <em>Collection</em></a><p>&nbsp;&nbsp;&nbsp;&nbsp;creates and returns a collection whereeach element is an object containing a set of properties andvalues</p></td></tr></tbody></table><h2><span><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_create-entity-selection"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_create-entity-selection"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Create entity selection</span></h2><p><span><strong>Create entity selection</strong> (<em>dsTable</em> : Table { ; <em>settings</em> : Object } ) :4D.EntitySelection</span></p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>dsTable</td><td>Table</td><td style="text-align:center">-&gt;</td><td>Table in the 4D database whose current selection will be usedto build the entity selection</td></tr><tr><td>settings</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Build option: context</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>Entity selection matching the dataclass related to the giventable</td></tr></tbody></table><h4><span><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</span></h4><p><span>The <code>Create entity selection</code> command buildsand returns a new, <a href="#EntitySelectionClass.html_shareable-or-alterable-entity-selections">alterable</a> entity selection related to the dataclass matchingthe given <em>dsTable</em>, according to the current selection ofthis table.</span></p><p><span>If the current selection is sorted, an <a href="#EntitySelectionClass.html_ordered-or-unordered-entity-selection">ordered</a>entity selection is created (the order of the current selection iskept). If the current selection is unsorted, an unordered entityselection is created.</span></p><p><span>If the <em>dsTable</em> is not exposed in <a href="#EntitySelectionClass.html_ds"><code>ds</code></a>, an error isreturned. This command cannot be used with a Remotedatastore.</span></p><p><span>In the optional <em>settings</em> parameter, you can passan object containing the following property:</span></p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>context</td><td>Text</td><td>Label for the <a href="#EntitySelectionClass.html_clientserver-optimization">optimizationcontext</a> applied to the entity selection.</td></tr></tbody></table><h4><span><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</span></h4><pre><span><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection<span class="hljs-function">ALL RECORDS</span>([Employee])<span class="hljs-variable">$employees</span>:=<span class="hljs-function">Create entity selection</span>([Employee]) <span class="hljs-comment">// The $employees entity selection now contains a set of reference</span><span class="hljs-comment">// on all entities related to the Employee dataclass</span></code></span></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_see-also"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_see-also"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>See also</h4><p><a href="#EntitySelectionClass.html_newselection"><code>dataClass.newSelection()</code></a></p><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_use-entity-selection"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_use-entity-selection"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>USE ENTITY SELECTION</h2><p><strong>USE ENTITY SELECTION</strong>(<em>entitySelection</em>)</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>entitySelection</td><td>EntitySelection</td><td style="text-align:center">-&gt;</td><td>An entity selection</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>USE ENTITY SELECTION</code> command updates thecurrent selection of the table matching the dataclass of the<em>entitySelection</em> parameter, according to the content of theentity selection.</p><p>This command cannot be used with a <a href="#datastores.html">Remote datastore</a>.</p><blockquote><p>After a call to <code>USE ENTITY SELECTION</code>, the firstrecord of the updated current selection (if not empty) becomes thecurrent record, but it is not loaded in memory. If you need to usethe values of the fields in the current record, use the <code>LOADRECORD</code> command after the <code>USE ENTITY SELECTION</code>command.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$entitySel </span>: Object<span class="hljs-variable">$entitySel</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"M@"</span>) <span class="hljs-comment">//$entitySel is related to the Employee dataclass</span><span class="hljs-function">REDUCE SELECTION</span>([Employee];<span class="hljs-number">0</span>)<span class="hljs-function">USE ENTITY SELECTION</span>(<span class="hljs-variable">$entitySel</span>) <span class="hljs-comment">//The current selection of the Employee table is updated</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_91index93"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_91index93"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>[<em>index</em>]</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong><em>[index]</em></strong> : 4D.Entity</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-2"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>EntitySelection[index]</code> notation allows you toaccess entities within the entity selection using the standardcollection syntax: pass the position of the entity you want to getin the <em>index</em> parameter.</p><p>Note that the corresponding entity is reloaded from thedatastore.</p><p><em>index</em> can be any number between 0 and<code>.length</code>-1.</p><ul><li>If <em>index</em> is out of range, an error is returned.</li><li>If <em>index</em> corresponds to a dropped entity, a Null valueis returned.</li></ul><blockquote><p><strong>Warning</strong>: <code>EntitySelection[index]</code> isa non assignable expression, which means that it cannot be used asen editable entity reference with methods like <a href="#EntitySelectionClass.html_lock"><code>.lock()</code></a> or<a href="#EntitySelectionClass.html_save"><code>.save()</code></a>.To work with the corresponding entity, you need to assign thereturned expression to an assignable expression, such as avariable. Examples:</p></blockquote><pre><code class="hljs css language-4d"> <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">all</span>() <span class="hljs-comment">//create the entity selection</span>  <span class="hljs-comment">//invalid statements:</span> <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$sel</span>[<span class="hljs-number">0</span>].<span class="hljs-function">lock</span>() <span class="hljs-comment">//will NOT work</span> <span class="hljs-variable">$sel</span>[<span class="hljs-number">0</span>].lastName:=<span class="hljs-string">"Smith"</span> <span class="hljs-comment">//will NOT work</span> <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$sel</span>[<span class="hljs-number">0</span>].<span class="hljs-function">save</span>() <span class="hljs-comment">//will NOT work</span>  <span class="hljs-comment">//valid code:</span> <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$sel</span>[<span class="hljs-number">0</span>]  <span class="hljs-comment">//OK</span> <span class="hljs-variable">$entity</span>.lastName:=<span class="hljs-string">"Smith"</span> <span class="hljs-comment">//OK</span> <span class="hljs-variable">$entity</span>.<span class="hljs-function">save</span>() <span class="hljs-comment">//OK</span></code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$employee </span>: cs.EmployeeEntity <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"H@"</span>) <span class="hljs-variable">$employee</span>:=<span class="hljs-variable">$employees</span>[<span class="hljs-number">2</span>]  <span class="hljs-comment">// The 3rd entity of the $employees entity selection is reloaded from the database</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_attributename"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_attributename"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.<em>attributeName</em></h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong><em>.attributeName</em></strong> : Collection<br /><strong><em>.attributeName</em></strong> : 4D.EntitySelection</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-3"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>Any dataclass attribute can be used as a property of an entityselection to return a "projection" of values for the attribute inthe entity selection. Projected values can be a collection or a newentity selection, depending on the <a href="#EntitySelectionClass.html_kind">kind</a> (<code>storage</code> or<code>relation</code>) of the attribute.</p><ul><li>If <em>attributeName</em> kind is <code>storage</code>:<code>.attributeName</code> returns a collection of values of thesame type as <em>attributeName</em>.</li><li>If <em>attributeName</em> kind is <code>relatedEntity</code>:<code>.attributeName</code> returns a new entity selection ofrelated values of the same type as <em>attributeName</em>.Duplications are removed (an unordered entity selection isreturned).</li><li>If <em>attributeName</em> kind is <code>relatedEntities</code>:<code>.attributeName</code> returns a new entity selection ofrelated values of the same type as <em>attributeName</em>.Duplications are removed (an unordered entity selection isreturned).</li></ul><p>When a relation attribute is used as a property of an entityselection, the result is always another entity selection, even ifonly one entity is returned. In this case, if no entities arereturned, the result is an empty entity selection.</p><p>If the attribute does not exist in the entity selection, anerror is returned.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><p>Projection of storage values:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$firstNames </span>: Collection <span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">all</span>() <span class="hljs-variable">$firstNames</span>:=<span class="hljs-variable">$entitySelection</span>.firstName <span class="hljs-comment">// firstName type is string</span></code></pre><p>The resulting collection is a collection of strings, forexample:</p><pre><code class="hljs css language-4d">[    <span class="hljs-string">"Joanna"</span>,    <span class="hljs-string">"Alexandra"</span>,    <span class="hljs-string">"Rick"</span>]</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><p>Projection of related entity:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es</span>; <span class="hljs-variable">$entitySelection </span>: cs.EmployeeSelection <span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">all</span>() <span class="hljs-variable">$es</span>:=<span class="hljs-variable">$entitySelection</span>.employer <span class="hljs-comment">// employer is related to a Company dataClass</span></code></pre><p>The resulting object is an entity selection of Company withduplications removed (if any).</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-3"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 3</h4><p>Projection of related entities:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection <span class="hljs-variable">$es</span>:=ds.Employee.<span class="hljs-function">all</span>().directReports <span class="hljs-comment">// directReports is related to Employee dataclass</span></code></pre><p>The resulting object is an entity selection of Employee withduplications removed (if any).</p><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_add"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_add"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.add()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R5</td><td>Only supports alterable entity selections</td></tr><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.add</strong>( <em>entity</em> : 4D.Entity ) :4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td style="text-align:center">-&gt;</td><td>Entity to be added to the entity selection</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection including the added <em>entity</em></td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-4"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.add()</code> function adds the specified<em>entity</em> to the entity selection and returns the modifiedentity selection.</p><blockquote><p>This function modifies the original entity selection.</p></blockquote><p><strong>Warning:</strong> The entity selection must be<em>alterable</em>, i.e. it has been created for example by<a href="#EntitySelectionClass.html_newselection"><code>.newSelection()</code></a>or <code>Create entity selection</code>, otherwise<code>.add()</code> will return an error. Shareable entityselections do not accept the addition of entities. For moreinformation, please refer to the <a href="#EntitySelectionClass.html_shareable-or-alterable-entity-selections">Shareable or alterable entity selections</a> section.</p><ul><li>If the entity selection is ordered, <em>entity</em> is added atthe end of the selection. If a reference to the same entity alreadybelongs to the entity selection, it is duplicated and a newreference is added.</li><li>If the entity selection is unordered, <em>entity</em> is addedanywhere in the selection, with no specific order.</li></ul><blockquote><p>For more information, please refer to the <a href="#EntitySelectionClass.html_ordered-or-unordered-entity-selection">Orderedor unordered entity selection</a> section.</p></blockquote><p>The modified entity selection is returned by the function, sothat function calls can be chained.</p><p>An error occurs if <em>entity</em> and the entity selection arenot related to the same Dataclass. If <em>entity</em> is Null, noerror is raised.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-2"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$employee </span>: cs.EmployeeEntity <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"S@"</span>) <span class="hljs-variable">$employee</span>:=ds.Employee.<span class="hljs-function">new</span>() <span class="hljs-variable">$employee</span>.lastName:=<span class="hljs-string">"Smith"</span> <span class="hljs-variable">$employee</span>.<span class="hljs-function">save</span>() <span class="hljs-variable">$employees</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$employee</span>) <span class="hljs-comment">//The $employee entity is added to the $employees entity selection</span></code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-2"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><p>Calls to the function can be chained:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs.ProductSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$p1</span>;<span class="hljs-variable">$p2</span>;<span class="hljs-variable">$p3 </span>: cs.ProductEntity <span class="hljs-variable">$p1</span>:=ds.Product.<span class="hljs-function">get</span>(<span class="hljs-number">10</span>) <span class="hljs-variable">$p2</span>:=ds.Product.<span class="hljs-function">get</span>(<span class="hljs-number">11</span>) <span class="hljs-variable">$p3</span>:=ds.Product.<span class="hljs-function">get</span>(<span class="hljs-number">12</span>) <span class="hljs-variable">$sel</span>:=ds.Product.<span class="hljs-function">query</span>(<span class="hljs-string">"ID &gt; 50"</span>) <span class="hljs-variable">$sel</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$p1</span>).<span class="hljs-function">add</span>(<span class="hljs-variable">$p2</span>).<span class="hljs-function">add</span>(<span class="hljs-variable">$p3</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_and"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_and"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.and()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.and</strong>( <em>entity</em> : 4D.Entity ) :4D.EntitySelection<br /><strong>.and</strong>( <em>entitySelection</em> :4D.EntitySelection ) : 4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td style="text-align:center">-&gt;</td><td>Entity to intersect with</td></tr><tr><td>entitySelection</td><td>4D.EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection to intersect with</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection with the result of intersection withlogical AND operator</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-5"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description-5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.and()</code> function combines the entity selectionwith an <em>entity</em> or <em>entitySelection</em> parameter usingthe logical AND operator; it returns a new, unordered entityselection that contains only the entities that are referenced inboth the entity selection and the parameter.</p><ul><li>If you pass <em>entity</em> as parameter, you combine thisentity with the entity selection. If the entity belongs to theentity selection, a new entity selection containing only the entityis returned. Otherwise, an empty entity selection is returned.</li><li>If you pass <em>entitySelection</em> as parameter, you combineboth entity selections. A new entity selection that contains onlythe entities that are referenced in both selections is returned. Ifthere is no intersecting entity, an empty entity selection isreturned.</li></ul><blockquote><p>You can compare <a href="#EntitySelectionClass.html_ordered-or-unordered-entity-selection">orderedand/or unordered entity selections</a>. The resulting selection isalways unordered.</p></blockquote><p>If the original entity selection or the <em>entitySelection</em>parameter is empty, or if the <em>entity</em> is Null, an emptyentity selection is returned.</p><p>If the original entity selection and the parameter are notrelated to the same dataclass, an error is raised.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-3"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$result </span>: cs.EmployeeSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$employee </span>: cs.EmployeeEntity <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"H@"</span>)     <span class="hljs-comment">//The $employees entity selection contains the entity</span>  <span class="hljs-comment">//with primary key 710 and other entities</span>  <span class="hljs-comment">//for ex. "Colin Hetrick" / "Grady Harness" / "Sherlock Holmes" (primary key 710)</span> <span class="hljs-variable">$employee</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">710</span>) <span class="hljs-comment">// Returns "Sherlock Holmes"</span>  <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">and</span>(<span class="hljs-variable">$employee</span>) <span class="hljs-comment">//$result is an entity selection containing   </span>  <span class="hljs-comment">//only the entity with primary key 710 ("Sherlock Holmes")</span></code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-3"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><p>We want to have a selection of employees named "Jones" who livein New York:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel1</span>; <span class="hljs-variable">$sel2</span>; <span class="hljs-variable">$sel3 </span>: cs.EmployeeSelection <span class="hljs-variable">$sel1</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"name =:1"</span>;<span class="hljs-string">"Jones"</span>) <span class="hljs-variable">$sel2</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"city=:1"</span>;<span class="hljs-string">"New York"</span>) <span class="hljs-variable">$sel3</span>:=<span class="hljs-variable">$sel1</span>.<span class="hljs-function">and</span>(<span class="hljs-variable">$sel2</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_average"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_average"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.average()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Returns undefined if empty entity selection</td></tr><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.average</strong>( <em>attributePath</em> : Text ) :Real</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Attribute path to be used for calculation</td></tr><tr><td>Result</td><td>Real</td><td style="text-align:center">&lt;-</td><td>Arithmetic mean (average) of entity attribute values (Undefinedif empty entity selection)</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-6"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description-6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.average()</code> function returns the arithmetic mean(average) of all the non-null values of <em>attributePath</em> inthe entity selection.</p><p>Pass in the <em>attributePath</em> parameter the attribute pathto evaluate.</p><p>Only numerical values are taken into account for thecalculation. Note however that, if the <em>attributePath</em> ofthe entity selection contains mixed value types,<code>.average()</code> takes all scalar elements into account tocalculate the average value.</p><blockquote><p>Date values are converted to numerical values (seconds) and usedto calculate the average.</p></blockquote><p><code>.average()</code> returns <strong>undefined</strong> ifthe entity selection is empty or <em>attributePath</em> does notcontain numerical values.</p><p>An error is returned if:</p><ul><li><em>attributePath</em> is a related attribute,</li><li><em>attributePath</em> designates an attribute that does notexist in the entity selection dataclass.</li></ul><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-4"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><p>We want to obtain a list of employees whose salary is higherthan the average salary:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$averageSalary </span>: Real<span class="hljs-keyword"> var</span> <span class="hljs-variable">$moreThanAv </span>: cs.EmployeeSelection <span class="hljs-variable">$averageSalary</span>:=ds.Employee.<span class="hljs-function">all</span>().<span class="hljs-function">average</span>(<span class="hljs-string">"salary"</span>) <span class="hljs-variable">$moreThanAv</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &gt; :1"</span>;<span class="hljs-variable">$averageSalary</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_contains"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_contains"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.contains()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.contains</strong>( <em>entity</em> : 4D.Entity ) :Boolean</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td style="text-align:center">-&gt;</td><td>Entity to evaluate</td></tr><tr><td>Result</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>True if the entity belongs to the entity selection, elseFalse</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-7"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description-7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.contains()</code> function returns true if entityreference belongs to the entity selection, and false otherwise.</p><p>In <em>entity</em>, specify the entity to search for in theentity selection. If entity is Null, the function will returnfalse.</p><p>If <em>entity</em> and the entity selection do not belong to thesame dataclass, an error is raised.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-5"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$employee </span>: cs.EmployeeEntity  <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName=:1"</span>;<span class="hljs-string">"H@"</span>) <span class="hljs-variable">$employee</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">610</span>)<span class="hljs-keyword">  If</span>(<span class="hljs-variable">$employees</span>.<span class="hljs-function">contains</span>(<span class="hljs-variable">$employee</span>))<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"The entity with primary key 610 has a last name beginning with H"</span>)<span class="hljs-keyword"> Else</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"The entity with primary key 610 does not have a last name beginning with H"</span>)<span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_count"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_count"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.count()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.count</strong>( <em>attributePath</em> : Text ) :Real</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Path of the attribute to be used for calculation</td></tr><tr><td>Result</td><td>Real</td><td style="text-align:center">&lt;-</td><td>Number of non null <em>attributePath</em> values in the entityselection</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-8"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description-8"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.count()</code> function returns the number ofentities in the entity selection with a non-null value in<em>attributePath</em>.</p><blockquote><p>Only scalar values are taken into account. Object or collectiontype values are considered as null values.</p></blockquote><p>An error is returned if:</p><ul><li><em>attributePath</em> is a related attribute,</li><li><em>attributePath</em> is not found in the entity selectiondataclass.</li></ul><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-6"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><p>We want to find out the total number of employees for a companywithout counting any whose job title has not been specified:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs.EmployeeSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$count </span>: Real  <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"employer = :1"</span>;<span class="hljs-string">"Acme, Inc"</span>) <span class="hljs-variable">$count</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">count</span>(<span class="hljs-string">"jobtitle"</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_copy"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_copy"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.copy()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.copy</strong>( { <em>option</em> : Integer } ) :4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>option</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>ck shared</code>: return a shareable entityselection</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>Copy of the entity selection</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-9"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_description-9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.copy()</code> function returns a copy of the originalentity selection.</p><blockquote><p>This function does not modify the original entity selection.</p></blockquote><p>By default, if the <em>option</em> parameter is omitted, thefunction returns a new, alterable entity selection (even if thefunction is applied to a shareable entity selection). Pass the<code>ck shared</code> constant in the <em>option</em> parameter ifyou want to create a shareable entity selection.</p><blockquote><p>For information on the shareable property of entity selections,please refer to the <a href="#EntitySelectionClass.html_shareable-or-alterable-entity-selections">Shareable or alterable entity selections</a> section.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-7"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><p>You create a new, empty entity selection of products when theform is loaded:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(Form event code=On Load)       Form.products:=ds.Products.<span class="hljs-function">newSelection</span>()<span class="hljs-keyword"> End case</span> </code></pre><p>Then this entity selection is updated with products and you wantto share the products between several processes. You copy theForm.products entity selection as a shareable one:</p><pre><code class="hljs css language-4d"> ...  <span class="hljs-comment">// The Form.products entity selection is updated</span> Form.products.<span class="hljs-function">add</span>(Form.selectedProduct)<span class="hljs-keyword">  Use</span>(Storage)<span class="hljs-keyword">    If</span>(Storage.products=<span class="hljs-literal">Null</span>)       Storage.products:=<span class="hljs-function">New shared object</span>()<span class="hljs-keyword">    End if</span><span class="hljs-keyword">     Use</span>(Storage.products)       Storage.products:=Form.products.<span class="hljs-function">copy</span>(ck shared)<span class="hljs-keyword">    End use</span><span class="hljs-keyword"> End use</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_distinct"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_distinct"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.distinct()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.distinct</strong>( <em>attributePath</em> : Text { ;<em>option</em> : Integer } ) : Collection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Path of attribute whose distinct values you want to get</td></tr><tr><td>option</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk diacritical</code>: diacritical evaluation ("A" # "a"for example)</td></tr><tr><td>Result</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Collection with only distinct values</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-10"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-10"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.distinct()</code> function returns a collectioncontaining only distinct (different) values from the<em>attributePath</em> in the entity selection.</p><p>The returned collection is automatically sorted.<strong>Null</strong> values are not returned.</p><p>In the <em>attributePath</em> parameter, pass the entityattribute whose distinct values you want to get. Only scalar values(text, number, boolean, or date) can be handled. If the<em>attributePath</em> leads to an object property that containsvalues of different types, they are first grouped by type andsorted afterwards. Types are returned in the following order:</p><ol><li>booleans</li><li>strings</li><li>numbers</li><li>dates</li></ol><p>You can use the <code>[]</code> notation to designate acollection when <em>attributePath</em> is a path within an object(see examples).</p><p>By default, a non-diacritical evaluation is performed. If youwant the evaluation to be case sensitive or to differentiateaccented characters, pass the <code>dk diacritical</code> constantin the <em>option</em> parameter.</p><p>An error is returned if:</p><ul><li><em>attributePath</em> is a related attribute,</li><li><em>attributePath</em> is not found in the entity selectiondataclass.</li></ul><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_examples"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_examples"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Examples</h4><p>You want to get a collection containing a single element percountry name:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$countries </span>: Collection <span class="hljs-variable">$countries</span>:=ds.Employee.<span class="hljs-function">all</span>().<span class="hljs-function">distinct</span>(<span class="hljs-string">"address.country"</span>)</code></pre><p><code>nicknames</code> is a collection and <code>extra</code> isan object attribute:</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$values</span>:=ds.Employee.<span class="hljs-function">all</span>().<span class="hljs-function">distinct</span>(<span class="hljs-string">"extra.nicknames[].first"</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_drop"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_drop"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.drop()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.drop</strong>( { <em>mode</em> : Integer } ) :4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>mode</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk stop dropping on first error</code>: stops methodexecution on first non-droppable entity</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>Empty entity selection if successful, else entity selectioncontaining non-droppable entity(ies)</td></tr><tr><td></td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-11"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-11"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.drop()</code> function removes the entities belongingto the entity selection from the table related to its dataclasswithin the datastore. The entity selection remains in memory.</p><blockquote><p>Removing entities is permanent and cannot be undone. It isrecommended to call this action in a transaction in order to have arollback option.</p></blockquote><p>If a locked entity is encountered during the execution of<code>.drop()</code>, it is not removed. By default, the methodprocesses all entities of the entity selection and returnsnon-droppable entities in the entity selection. If you want themethod to stop execution at the first encountered non-droppableentity, pass the <code>dk stop dropping on first error</code>constant in the <em>mode</em> parameter.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-8"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-8"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><p>Example without the <code>dk stop dropping on first error</code>option:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$notDropped </span>: cs.EmployeeSelection <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName=:1"</span>;<span class="hljs-string">"S@"</span>) <span class="hljs-variable">$notDropped</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">drop</span>() <span class="hljs-comment">// $notDropped is an entity selection containing all the not dropped entities</span><span class="hljs-keyword"> If</span>(<span class="hljs-variable">$notDropped</span>.length=<span class="hljs-number">0</span>) <span class="hljs-comment">//The delete action is successful, all the entities have been deleted</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"You have dropped "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$employees</span>.length)+<span class="hljs-string">" employees"</span>) <span class="hljs-comment">//The dropped entity selection remains in memory</span><span class="hljs-keyword"> Else</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Problem during drop, try later"</span>)<span class="hljs-keyword"> End if</span></code></pre><p>Example with the <code>dk stop dropping on first error</code>option:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$notDropped </span>: cs.EmployeeSelection <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName=:1"</span>;<span class="hljs-string">"S@"</span>) <span class="hljs-variable">$notDropped</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">drop</span>(dk stop dropping on first error) <span class="hljs-comment">//$notDropped is an entity selection containing the first not dropped entity</span><span class="hljs-keyword"> If</span>(<span class="hljs-variable">$notDropped</span>.length=<span class="hljs-number">0</span>) <span class="hljs-comment">//The delete action is successful, all the entities have been deleted</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"You have dropped "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$employees</span>.length)+<span class="hljs-string">" employees"</span>) <span class="hljs-comment">//The dropped entity selection remains in memory</span><span class="hljs-keyword"> Else</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Problem during drop, try later"</span>)<span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_extract"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_extract"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.extract()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R3</td><td>Added</td></tr></tbody></table></details><p><strong>.extract</strong>( <em>attributePath</em> : Text { ;<em>option</em> : Integer } ) : Collection<br /><strong>.extract</strong>( <em>attributePath</em> { ;<em>targetPath</em> } { ; <em>...attributePathN</em> : Text ;<em>targetPathN</em> : Text } ) : Collection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Attribute path whose values must be extracted to the newcollection</td></tr><tr><td>targetPath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Target attribute path or attribute name</td></tr><tr><td>option</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>ck keep null</code>: include null attributes in thereturned collection (ignored by default)</td></tr><tr><td>Result</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Collection containing extracted values</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-12"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-12"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.extract()</code> function returns a collectioncontaining <em>attributePath</em> values extracted from the entityselection.</p><p><em>attributePath</em> can refer to:</p><ul><li>a scalar dataclass attribute,</li><li>related entity,</li><li>related entities.</li></ul><p>If <em>attributePath</em> is invalid, an empty collection isreturned.</p><p>This function accepts two syntaxes.</p><p><strong>.extract( attributePath : Text { ; option : Integer } ): Collection</strong></p><p>With this syntax, <code>.extract()</code> populates the returnedcollection with the <em>attributePath</em> values of the entityselection.</p><p>By default, entities for which <em>attributePath</em> is<em>null</em> or undefined are ignored in the resulting collection.You can pass the <code>ck keep null</code> constant in the<em>option</em> parameter to include these values as<strong>null</strong> elements in the returned collection.</p><ul><li>Dataclass attributes with <a href="#EntitySelectionClass.html_kind">.kind</a> = "relatedEntity" areextracted as a collection of entities (duplications are kept).</li><li>Dataclass attributes with <a href="#EntitySelectionClass.html_kind">.kind</a> = "relatedEntities" areextracted as a collection of entity selections.</li></ul><p><strong>.extract ( attributePath ; targetPath { ;...attributePathN ; ... targetPathN}) : Collection</strong></p><p>With this syntax, <code>.extract()</code> populates the returnedcollection with the <em>attributePath</em> properties. Each elementof the returned collection is an object with <em>targetPath</em>properties filled with the corresponding <em>attributePath</em>properties. Null values are kept (<em>option</em> parameter isignored with this syntax).</p><p>If several <em>attributePath</em> are given, a<em>targetPath</em> must be given for each. Only valid pairs[<em>attributePath</em>, <em>targetPath</em>] are extracted.</p><ul><li>Dataclass attributes with <a href="#EntitySelectionClass.html_kind">.kind</a> = "relatedEntity" areextracted as an entity.</li><li>Dataclass attributes with <a href="#EntitySelectionClass.html_kind">.kind</a> = "relatedEntities" areextracted as an entity selection.</li></ul><blockquote><p>Entities of a collection of entities accessed by [ ] are notreloaded from the database.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-9"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><p>Given the following table and relation:</p><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/API/entityselection.PNG" /></p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$firstnames</span>; <span class="hljs-variable">$addresses</span>; <span class="hljs-variable">$mailing</span>; <span class="hljs-variable">$teachers </span>: Collection  <span class="hljs-comment">//  //</span>  <span class="hljs-comment">//$firstnames is a collection of Strings</span> <span class="hljs-variable">$firstnames</span>:=ds.Teachers.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"firstname"</span>)  <span class="hljs-comment">//  //$addresses is a collection of entities related to dataclass Address</span>  <span class="hljs-comment">//Null values for address are extracted</span> <span class="hljs-variable">$addresses</span>:=ds.Teachers.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"address"</span>;ck keep null)  <span class="hljs-comment">//  //</span>  <span class="hljs-comment">//$mailing is a collection of objects with properties "who" and "to"</span>  <span class="hljs-comment">//"who" property content is String type </span>  <span class="hljs-comment">//"to" property content is entity type (Address dataclass)</span> <span class="hljs-variable">$mailing</span>:=ds.Teachers.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"lastname"</span>;<span class="hljs-string">"who"</span>;<span class="hljs-string">"address"</span>;<span class="hljs-string">"to"</span>)  <span class="hljs-comment">//  //</span>  <span class="hljs-comment">//$mailing is a collection of objects with properties "who" and "city"</span>  <span class="hljs-comment">//"who" property content is String type </span>  <span class="hljs-comment">//"city" property content is String type </span> <span class="hljs-variable">$mailing</span>:=ds.Teachers.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"lastname"</span>;<span class="hljs-string">"who"</span>;<span class="hljs-string">"address.city"</span>;<span class="hljs-string">"city"</span>)  <span class="hljs-comment">//  //$teachers is a collection of objects with properties "where" and "who"</span>  <span class="hljs-comment">//"where" property content is String</span>  <span class="hljs-comment">//"who" property content is an entity selection (Teachers dataclass)</span> <span class="hljs-variable">$teachers</span>:=ds.Address.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"city"</span>;<span class="hljs-string">"where"</span>;<span class="hljs-string">"teachers"</span>;<span class="hljs-string">"who"</span>)  <span class="hljs-comment">//  //$teachers is a collection of entity selections</span> <span class="hljs-variable">$teachers</span>:=ds.Address.<span class="hljs-function">all</span>().<span class="hljs-function">extract</span>(<span class="hljs-string">"teachers"</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_first"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_first"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.first()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.first()</strong> : 4D.Entity</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Result</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>Reference to the first entity of the entity selection (Null ifselection is empty)</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-13"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-13"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.first()</code> function returns a reference to theentity in the first position of the entity selection.</p><p>The result of this function is similar to:</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySel</span>[<span class="hljs-number">0</span>]</code></pre><p>There is, however, a difference between both statements when theselection is empty:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entitySel </span>: cs.EmpSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$entity </span>: cs.EmpEntity <span class="hljs-variable">$entitySel</span>:=ds.Emp.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"Nonexistentname"</span>) <span class="hljs-comment">//no matching entity</span>  <span class="hljs-comment">//entity selection is then empty</span> <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySel</span>.<span class="hljs-function">first</span>() <span class="hljs-comment">//returns Null</span> <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySel</span>[<span class="hljs-number">0</span>]  <span class="hljs-comment">//generates an error</span></code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-10"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-10"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entitySelection </span>: cs.EmpSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$entity </span>: cs.EmpEntity <span class="hljs-variable">$entitySelection</span>:=ds.Emp.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &gt; :1"</span>;<span class="hljs-number">100000</span>)<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$entitySelection</span>.length#<span class="hljs-number">0</span>)    <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">first</span>()<span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_getdataclass"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_getdataclass"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getDataClass()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.getDataClass()</strong> : 4D.DataClass</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Result</td><td>4D.DataClass</td><td style="text-align:center">&lt;-</td><td>Dataclass object to which the entity selection belongs</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-14"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-14"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.getDataClass()</code> function returns the dataclassof the entity selection.</p><p>This function is mainly useful in the context of genericcode.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-11"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-11"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><p>The following generic code duplicates all entities of the entityselection:</p><pre><code class="hljs css language-4d">  <span class="hljs-comment">//duplicate_entities method</span>  <span class="hljs-comment">//duplicate_entities($entity_selection)</span>  #<span class="hljs-function">DECLARE </span>( <span class="hljs-variable">$entitySelection </span>: 4D.EntitySelection )<span class="hljs-keyword">   var</span> <span class="hljs-variable">$dataClass </span>: 4D.DataClass<span class="hljs-keyword"> var</span> <span class="hljs-variable">$entity</span>; <span class="hljs-variable">$duplicate </span>: 4D.Entity<span class="hljs-keyword"> var</span> <span class="hljs-variable">$status </span>: Object <span class="hljs-variable">$dataClass</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">getDataClass</span>()<span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$entity</span>;<span class="hljs-variable">$entitySelection</span>)    <span class="hljs-variable">$duplicate</span>:=<span class="hljs-variable">$dataClass</span>.<span class="hljs-function">new</span>()    <span class="hljs-variable">$duplicate</span>.<span class="hljs-function">fromObject</span>(<span class="hljs-variable">$entity</span>.<span class="hljs-function">toObject</span>())    <span class="hljs-variable">$duplicate</span>[<span class="hljs-variable">$dataClass</span>.<span class="hljs-function">getInfo</span>().primaryKey]:=<span class="hljs-literal">Null</span> <span class="hljs-comment">//reset the primary key</span>    <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$duplicate</span>.<span class="hljs-function">save</span>()<span class="hljs-keyword"> End for each</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_getremotecontextattributes"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_getremotecontextattributes"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getRemoteContextAttributes()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v19R5</td><td>Added</td></tr></tbody></table></details><p><strong>.getRemoteContextAttributes()</strong> : Text</p><table><thead><tr><th>Parameter</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>result</td><td>Text</td><td>&lt;-</td><td>Context attributes linked to the entity selection, separated bya comma</td></tr></tbody></table><blockquote><p><strong>Advanced mode:</strong> This function is intended fordevelopers who need to customize ORDA default features for specificconfigurations. In most cases, you will not need to use it.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-15"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-15"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.getRemoteContextAttributes()</code> function returnsinformation about the optimization context used by the entityselection.</p><p>If there is no <a href="#EntitySelectionClass.html_clientserver-optimization">optimizationcontext</a> for the entity selection, the function returns an emptyText.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-12"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-12"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-keyword">var</span> <span class="hljs-variable">$persons </span>: cs.PersonsSelection<span class="hljs-keyword">var</span> <span class="hljs-variable">$p </span>: cs.PersonsEntity<span class="hljs-keyword">var</span> <span class="hljs-variable">$info </span>: Text<span class="hljs-keyword">var</span> <span class="hljs-variable">$text </span>: Text<span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)<span class="hljs-variable">$persons</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">all</span>()<span class="hljs-variable">$text</span>:=<span class="hljs-string">""</span><span class="hljs-keyword"> For each</span> (<span class="hljs-variable">$p</span>; <span class="hljs-variable">$persons</span>)    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$p</span>.firstname+<span class="hljs-string">" lives in "</span>+<span class="hljs-variable">$p</span>.address.city+<span class="hljs-string">" / "</span><span class="hljs-keyword"> End for each</span> <span class="hljs-variable">$info</span>:=<span class="hljs-variable">$persons</span>.<span class="hljs-function">getRemoteContextAttributes</span>()<span class="hljs-comment">//$info = "firstname,address,address.city"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_see-also-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_see-also-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>See also</h4><p><a href="#EntitySelectionClass.html_getRemoteContextAttributes">Entity.getRemoteContextAttributes()</a><br /><a href="#EntitySelectionClass.html_clearallremotecontexts">.clearAllRemoteContexts()</a><br /><a href="#EntitySelectionClass.html_getremotecontextinfo">.getRemoteContextInfo()</a><br /><a href="#EntitySelectionClass.html_getallremotecontexts">.getAllRemoteContexts()</a><br /><a href="#EntitySelectionClass.html_setremotecontextinfo">.setRemoteContextInfo()</a></p><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_isalterable"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_isalterable"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.isAlterable()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.isAlterable()</strong> : Boolean</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Result</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>True if the entity selection is alterable, False otherwise</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-16"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-16"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.isAlterable()</code> function returns True if theentity selection is alterable, and False if the entity selection isnot alterable.</p><p>For more information, please refer to <a href="#EntitySelectionClass.html_shareable-or-alterable-entity-selections">Shareable or alterable entity selections</a>.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-13"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-13"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><p>You are about to display <code>Form.products</code> in a<a href="#listboxOverview.html">list box</a> to allow the user toadd new products. You want to make sure it is alterable so that theuser can add new products without error:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span> (<span class="hljs-function">Not</span>(Form.products.<span class="hljs-function">isAlterable</span>()))    Form.products:=Form.products.<span class="hljs-function">copy</span>()<span class="hljs-keyword">End if</span>...Form.products.<span class="hljs-function">add</span>(Form.product)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_isordered"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_isordered"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.isOrdered()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.isOrdered()</strong> : Boolean</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Result</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>True if the entity selection is ordered, False otherwise</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-17"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-17"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.isOrdered()</code> function returns True if theentity selection is ordered, and False if it is unordered.</p><blockquote><p>This function always returns True when the entity selectioncomes from a remote datastore.</p></blockquote><p>For more information, please refer to <a href="#EntitySelectionClass.html_ordered-or-unordered-entity-selection">Orderedor unordered entity selection</a>.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-14"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-14"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$employee </span>: cs.EmployeeEntity<span class="hljs-keyword"> var</span> <span class="hljs-variable">$isOrdered </span>: Boolean <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">newSelection</span>(dk keep ordered) <span class="hljs-variable">$employee</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">714</span>) <span class="hljs-comment">// Gets the entity with primary key 714</span>   <span class="hljs-comment">//In an ordered entity selection, we can add the same entity several times (duplications are kept)</span> <span class="hljs-variable">$employees</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$employee</span>) <span class="hljs-variable">$employees</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$employee</span>) <span class="hljs-variable">$employees</span>.<span class="hljs-function">add</span>(<span class="hljs-variable">$employee</span>)  <span class="hljs-variable">$isOrdered</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">isOrdered</span>()<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$isOrdered</span>)<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"The entity selection is ordered and contains "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$employees</span>.length)+<span class="hljs-string">" employees"</span>)<span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_last"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_last"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.last()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.last()</strong> : 4D.Entity</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>Result</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>Reference to the last entity of the entity selection (Null ifempty entity selection)</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-18"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-18"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.last()</code> function returns a reference to theentity in last position of the entity selection.</p><p>The result of this function is similar to:</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySel</span>[length<span class="hljs-number">-1</span>]</code></pre><p>If the entity selection is empty, the function returns Null.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-15"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-15"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entitySelection </span>: cs.EmpSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$entity </span>: cs.EmpEntity <span class="hljs-variable">$entitySelection</span>:=ds.Emp.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &lt; :1"</span>;<span class="hljs-number">50000</span>)<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$entitySelection</span>.length#<span class="hljs-number">0</span>)    <span class="hljs-variable">$entity</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">last</span>()<span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_length"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_length"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.length</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.length</strong> : Integer</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-19"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-19"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.length</code> property returns the number of entitiesin the entity selection. If the entity selection is empty, itreturns 0.</p><p>Entity selections always have a <code>.length</code>property.</p><blockquote><p>To know the total number of entities in a dataclass, it isrecommended to use the <a href="#EntitySelectionClass.html_getcount"><code>getCount()</code></a>function which is more optimized than the<code>ds.myClass.all().length</code> expression.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-16"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-16"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$vSize </span>: Integer <span class="hljs-variable">$vSize</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"gender = :1"</span>;<span class="hljs-string">"male"</span>).length<span class="hljs-function"> ALERT</span>(<span class="hljs-function">String</span>(vSize)+<span class="hljs-string">" male employees found."</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_max"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_max"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.max()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr><tr><td>v18 R6</td><td>Returns undefined if empty entity selection</td></tr></tbody></table></details><p><strong>.max</strong>( <em>attributePath</em> : Text ) : any</p><table><thead><tr><th>Parameter</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td>-&gt;</td><td>Path of the attribute to be used for calculation</td></tr><tr><td>Result</td><td>any</td><td>&lt;-</td><td>Highest value of attribute</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-20"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-20"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.max()</code> function returns the highest (ormaximum) value among all the values of <em>attributePath</em> inthe entity selection. It actually returns the value of the lastentity of the entity selection as it would be sorted in ascendingorder using the <a href="#EntitySelectionClass.html_orderby"><code>.orderBy()</code></a>function.</p><p>If you pass in <em>attributePath</em> a path to an objectproperty containing different types of values, the<code>.max()</code> function will return the maximum value withinthe first scalar type in the default 4D type list order (see<a href="#EntitySelectionClass.html_sort"><code>.sort()</code></a>description).</p><p><code>.max()</code> returns <strong>undefined</strong> if theentity selection is empty or <em>attributePath</em> is not found inthe object attribute.</p><p>An error is returned if:</p><ul><li><em>attributePath</em> is a related attribute,</li><li><em>attributePath</em> designates an attribute that does notexist in the entity selection dataclass.</li></ul><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-17"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-17"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><p>We want to find the highest salary among all the femaleemployees:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs.EmpSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$maxSalary </span>: Real <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"gender = :1"</span>;<span class="hljs-string">"female"</span>) <span class="hljs-variable">$maxSalary</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">max</span>(<span class="hljs-string">"salary"</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_min"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_min"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.min()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr><tr><td>v18 R6</td><td>Returns undefined if empty entity selection</td></tr></tbody></table></details><p><strong>.min</strong>( <em>attributePath</em> : Text ) : any</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Path of the attribute to be used for calculation</td></tr><tr><td>Result</td><td>any</td><td style="text-align:center">&lt;-</td><td>Lowest value of attribute</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-21"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-21"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.min()</code> function returns the lowest (or minimum)value among all the values of attributePath in the entityselection. It actually returns the first entity of the entityselection as it would be sorted in ascending order using the<a href="#EntitySelectionClass.html_orderby"><code>.orderBy()</code></a>function (excluding <strong>null</strong> values).</p><p>If you pass in <em>attributePath</em> a path to an objectproperty containing different types of values, the<code>.min()</code> function will return the minimum value withinthe first scalar value type in the type list order (see <a href="#EntitySelectionClass.html_sort"><code>.sort()</code></a>description).</p><p><code>.min()</code> returns <strong>undefined</strong> if theentity selection is empty or <em>attributePath</em> is not found inthe object attribute.</p><p>An error is returned if:</p><ul><li><em>attributePath</em> is a related attribute,</li><li><em>attributePath</em> designates an attribute that does notexist in the entity selection dataclass.</li></ul><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-18"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-18"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><p>In this example, we want to find the lowest salary among all thefemale employees:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs.EmpSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$minSalary </span>: Real <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"gender = :1"</span>;<span class="hljs-string">"female"</span>) <span class="hljs-variable">$minSalary</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">min</span>(<span class="hljs-string">"salary"</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_minus"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_minus"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.minus()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.minus</strong>( <em>entity</em> : 4D.Entity ) :4D.EntitySelection<br /><strong>.minus</strong>( <em>entitySelection</em> :4D.EntitySelection ) : 4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td style="text-align:center">-&gt;</td><td>Entity to substract</td></tr><tr><td>entitySelection</td><td>4D.EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection to substract</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection or a new reference on the existing entityselection</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-22"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-22"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.minus()</code> function excludes from the entityselection to which it is applied the <em>entity</em> or theentities of <em>entitySelection</em> and returns the resultingentity selection.</p><ul><li>If you pass <em>entity</em> as parameter, the function createsa new entity selection without <em>entity</em> (if <em>entity</em>belongs to the entity selection). If <em>entity</em> was notincluded in the original entity selection, a new reference to theentity selection is returned.</li><li>If you pass <em>entitySelection</em> as parameter, the functionreturns an entity selection containing the entities belonging tothe original entity selection without the entities belonging to<em>entitySelection</em>.</li></ul><blockquote><p>You can compare <a href="#EntitySelectionClass.html_ordered-or-unordered-entity-selection">orderedand/or unordered entity selections</a>. The resulting selection isalways unordered.</p></blockquote><p>If the original entity selection or both the original entityselection and the <em>entitySelection</em> parameter are empty, anempty entity selection is returned.</p><p>If <em>entitySelection</em> is empty or if <em>entity</em> isNull, a new reference to the original entity selection isreturned.</p><p>If the original entity selection and the parameter are notrelated to the same dataclass, an error is raised.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-4"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$result </span>: cs.EmployeeSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$employee </span>: cs.EmployeeEntity  <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"H@"</span>)   <span class="hljs-comment">// The $employees entity selection contains the entity with primary key 710 and other entities</span>  <span class="hljs-comment">// for ex. "Colin Hetrick", "Grady Harness", "Sherlock Holmes" (primary key 710)</span>  <span class="hljs-variable">$employee</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">710</span>) <span class="hljs-comment">// Returns "Sherlock Holmes"</span>  <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">minus</span>(<span class="hljs-variable">$employee</span>) <span class="hljs-comment">//$result contains "Colin Hetrick", "Grady Harness"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-4"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><p>We want to have a selection of female employees named "Jones"who live in New York :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel1</span>; <span class="hljs-variable">$sel2</span>; <span class="hljs-variable">$sel3 </span>: cs.EmployeeSelection <span class="hljs-variable">$sel1</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"name =:1"</span>;<span class="hljs-string">"Jones"</span>) <span class="hljs-variable">$sel2</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"city=:1"</span>;<span class="hljs-string">"New York"</span>) <span class="hljs-variable">$sel3</span>:=<span class="hljs-variable">$sel1</span>.<span class="hljs-function">and</span>(<span class="hljs-variable">$sel2</span>).<span class="hljs-function">minus</span>(ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"gender='male'"</span>))</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_or"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_or"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.or()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.or</strong>( <em>entity</em> : 4D.Entity ) :4D.EntitySelection<br /><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection) : 4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>entity</td><td>4D.Entity</td><td style="text-align:center">-&gt;</td><td>Entity to intersect with</td></tr><tr><td>entitySelection</td><td>4D.EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection to intersect with</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection or new reference to the original entityselection</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-23"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-23"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.or()</code> function combines the entity selectionwith the <em>entity</em> or <em>entitySelection</em> parameterusing the logical (not exclusive) OR operator; it returns a new,unordered entity selection that contains all the entities from theentity selection and the parameter.</p><ul><li>If you pass <em>entity</em> as parameter, you compare thisentity with the entity selection. If the entity belongs to theentity selection, a new reference to the entity selection isreturned. Otherwise, a new entity selection containing the originalentity selection and the entity is returned.</li><li>If you pass <em>entitySelection</em> as parameter, you compareentity selections. A new entity selection containing the entitiesbelonging to the original entity selection or<em>entitySelection</em> is returned (or is not exclusive, entitiesreferenced in both selections are not duplicated in the resultingselection).</li></ul><blockquote><p>You can compare <a href="#EntitySelectionClass.html_ordered-or-unordered-entity-selection">orderedand/or unordered entity selections</a>. The resulting selection isalways unordered.</p></blockquote><p>If the original entity selection and the<em>entitySelection</em> parameter are empty, an empty entityselection is returned. If the original entity selection is empty, areference to <em>entitySelection</em> or an entity selectioncontaining only <em>entity</em> is returned.</p><p>If <em>entitySelection</em> is empty or if <em>entity</em> isNull, a new reference to the original entity selection isreturned.</p><p>If the original entity selection and the parameter are notrelated to the same dataclass, an error is raised.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-5"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees1</span>; <span class="hljs-variable">$employees2</span>; <span class="hljs-variable">$result </span>: cs.EmployeeSelection <span class="hljs-variable">$employees1</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"H@"</span>) <span class="hljs-comment">//Returns "Colin Hetrick","Grady Harness"</span> <span class="hljs-variable">$employees2</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName = :1"</span>;<span class="hljs-string">"C@"</span>) <span class="hljs-comment">//Returns "Colin Hetrick", "Cath Kidston"</span> <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$employees1</span>.or(<span class="hljs-variable">$employees2</span>) <span class="hljs-comment">//$result contains "Colin Hetrick", "Grady Harness","Cath Kidston"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-5"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees</span>; <span class="hljs-variable">$result </span>: cs.EmployeeSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$employee </span>: cs.EmployeeEntity <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"H@"</span>) <span class="hljs-comment">// Returns "Colin Hetrick","Grady Harness", "Sherlock Holmes"</span> <span class="hljs-variable">$employee</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">686</span>) <span class="hljs-comment">//the entity with primary key 686 does not belong to the $employees entity selection</span>  <span class="hljs-comment">//It matches the employee "Mary Smith"</span>  <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$employees</span>.or(<span class="hljs-variable">$employee</span>) <span class="hljs-comment">//$result contains "Colin Hetrick", "Grady Harness", "Sherlock Holmes", "Mary Smith"</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_orderby"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_orderby"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.orderBy()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.orderBy</strong>( <em>pathString</em> : Text ) :4D.EntitySelection<br /><strong>.orderBy</strong>( <em>pathObjects</em> : Collection ) :4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>pathString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Attribute path(s) and sorting instruction(s) for the entityselection</td></tr><tr><td>pathObjects</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Collection of criteria objects</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection in the specified order</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-24"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-24"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.orderBy()</code> function returns a new orderedentity selection containing all entities of the entity selection inthe order specified by <em>pathString</em> or <em>pathObjects</em>criteria.</p><blockquote><ul><li>This method does not modify the original entity selection.</li></ul></blockquote><ul><li>For more information, please refer to the <a href="#EntitySelectionClass.html_ordered-or-unordered-entity-selection">Orderedor unordered entity selection</a> section.</li></ul><p>You must use a criteria parameter to define how the entitiesmust be sorted. Two different parameters are supported:</p><ul><li><em>pathString</em> (Text) : This parameter contains a formulamade of 1 to x attribute paths and (optionally) sort orders,separated by commas. The syntax is:</li></ul><pre><code class="hljs css language-4d"><span class="hljs-string">"attributePath1 {desc or asc}, attributePath2 {desc or asc},..."</span></code></pre><p>The order in which the attributes are passed determines thesorting priority of the entities. By default, attributes are sortedin ascending order. You can set the sort order of a property in thecriteria string, separated from the property path by a singlespace: pass "asc" to sort in ascending order or "desc" indescending order.</p><ul><li><em>pathObjects</em> (collection): each element of thecollection contains an object structured in the following way:</li></ul><pre><code class="hljs css language-4d">{    <span class="hljs-string">"propertyPath"</span>: string,    <span class="hljs-string">"descending"</span>: boolean}</code></pre><p>By default, attributes are sorted in ascending order("descending" is false).</p><p>You can add as many objects in the criteria collection asnecessary.</p><blockquote><p>Null values are evaluated as less than other values.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-19"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-19"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// order by formula</span> <span class="hljs-variable">$sortedEntitySelection</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">orderBy</span>(<span class="hljs-string">"firstName asc, salary desc"</span>) <span class="hljs-variable">$sortedEntitySelection</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">orderBy</span>(<span class="hljs-string">"firstName"</span>)   <span class="hljs-comment">// order by collection with or without sort orders</span> <span class="hljs-variable">$orderColl</span>:=New collection <span class="hljs-variable">$orderColl</span>.<span class="hljs-function">push</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"propertyPath"</span>;<span class="hljs-string">"firstName"</span>;<span class="hljs-string">"descending"</span>;<span class="hljs-literal">False</span>)) <span class="hljs-variable">$orderColl</span>.<span class="hljs-function">push</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"propertyPath"</span>;<span class="hljs-string">"salary"</span>;<span class="hljs-string">"descending"</span>;<span class="hljs-literal">True</span>)) <span class="hljs-variable">$sortedEntitySelection</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">orderBy</span>(<span class="hljs-variable">$orderColl</span>)  <span class="hljs-variable">$orderColl</span>:=New collection <span class="hljs-variable">$orderColl</span>.<span class="hljs-function">push</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"propertyPath"</span>;<span class="hljs-string">"manager.lastName"</span>)) <span class="hljs-variable">$orderColl</span>.<span class="hljs-function">push</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"propertyPath"</span>;<span class="hljs-string">"salary"</span>)) <span class="hljs-variable">$sortedEntitySelection</span>:=<span class="hljs-variable">$entitySelection</span>.<span class="hljs-function">orderBy</span>(<span class="hljs-variable">$orderColl</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_orderbyformula"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_orderbyformula"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.orderByFormula()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.orderByFormula</strong>( <em>formulaString</em> : Text{ ; <em>sortOrder</em> : Integer } { ; <em>settings</em> : Object}) : 4D.EntitySelection<br /><strong>.orderByFormula</strong>( <em>formulaObj</em> : Object { ;<em>sortOrder</em> : Integer } { ; <em>settings</em> : Object} ) :4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>formulaString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Formula string</td></tr><tr><td>formulaObj</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Formula object</td></tr><tr><td>sortOrder</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk ascending</code> (default) or <code>dkdescending</code></td></tr><tr><td>settings</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Parameter(s) for the formula</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>New ordered entity selection</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-25"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-25"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.orderByFormula()</code> function returns a new,ordered entity selection containing all entities of the entityselection in the order defined through the <em>formulaString</em>or <em>formulaObj</em> and, optionally, <em>sortOrder</em> and<em>settings</em> parameters.</p><blockquote><p>This function does not modify the original entity selection.</p></blockquote><p>You can use either a <em>formulaString</em> or a<em>formulaObj</em> parameter:</p><ul><li><em>formulaString</em>: you pass a 4D expression such as "Yearof(this.birthDate)".</li><li><em>formulaObj</em>: pass a valid formula object created usingthe <code>Formula</code> or <code>Formula from string</code>command.</li></ul><p>The <em>formulaString</em> or <em>formulaObj</em> is executedfor each entity of the entity selection and its result is used todefine the position of the entity in the returned entity selection.The result must be of a sortable type (boolean, date, number, text,time, null).</p><blockquote><p>A null result is always the smallest value.</p></blockquote><p>By default if you omit the <em>sortOrder</em> parameter, theresulting entity selection is sorted in ascending order.Optionnally, you can pass one of the following values in the<em>sortOrder</em> parameter:</p><table><thead><tr><th>Constant</th><th>Value</th><th>Comment</th></tr></thead><tbody><tr><td>dk ascending</td><td>0</td><td>Ascending sort order (default)</td></tr><tr><td>dk descending</td><td>1</td><td>Descending sort order</td></tr></tbody></table><p>Within the <em>formulaString</em> or <em>formulaObj</em>, theprocessed entity and thus its attributes are available through the<code>This</code> command (for example,<code>This.lastName</code>).</p><p>You can pass parameter(s) to the formula using the<code>args</code> property (object) of the <code>settings</code>parameter: the formula receives the <code>settings.args</code>object in $1.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-6"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><p>Sorting students using a formula provided as text:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es1</span>; <span class="hljs-variable">$es2 </span>: cs.StudentsSelection <span class="hljs-variable">$es1</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"nationality=:1"</span>;<span class="hljs-string">"French"</span>) <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.<span class="hljs-function">orderByFormula</span>(<span class="hljs-string">"length(this.lastname)"</span>) <span class="hljs-comment">//ascending by default</span> <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.<span class="hljs-function">orderByFormula</span>(<span class="hljs-string">"length(this.lastname)"</span>;dk descending)</code></pre><p>Same sort order but using a formula object:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es1</span>; <span class="hljs-variable">$es2 </span>: cs.StudentsSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$formula </span>: Object <span class="hljs-variable">$es1</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"nationality=:1"</span>;<span class="hljs-string">"French"</span>) <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Length</span>(<span class="hljs-literal">This</span>.lastname)) <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.<span class="hljs-function">orderByFormula</span>(<span class="hljs-variable">$formula</span>) <span class="hljs-comment">// ascending by default</span> <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.<span class="hljs-function">orderByFormula</span>(<span class="hljs-variable">$formula</span>;dk descending)</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-6"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><p>A formula is given as a formula object with parameters;<code>settings.args</code> object is received as $1 in the<strong><em>computeAverage</em></strong> method.</p><p>In this example, the "marks" object field in the<strong>Students</strong> dataClass contains students' grades foreach subject. A single formula object is used to compute astudent's average grade with different coefficients for schoolA andschoolB.</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es1</span>; <span class="hljs-variable">$es2 </span>: cs.StudentsSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$formula</span>; <span class="hljs-variable">$schoolA</span>; <span class="hljs-variable">$schoolB </span>: Object <span class="hljs-variable">$es1</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"nationality=:1"</span>;<span class="hljs-string">"French"</span>) <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">computeAverage</span>(<span class="hljs-variable">$1</span>))  <span class="hljs-variable">$schoolA</span>:=<span class="hljs-function">New object</span>() <span class="hljs-comment">//settings object</span> <span class="hljs-variable">$schoolA</span>.args:=<span class="hljs-function">New object</span>(<span class="hljs-string">"english"</span>;<span class="hljs-number">1</span>;<span class="hljs-string">"math"</span>;<span class="hljs-number">1</span>;<span class="hljs-string">"history"</span>;<span class="hljs-number">1</span>) <span class="hljs-comment">// Coefficients to compute an average</span>   <span class="hljs-comment">//Order students according to school A criteria</span> <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.entitySelection.<span class="hljs-function">orderByFormula</span>(<span class="hljs-variable">$formula</span>;<span class="hljs-variable">$schoolA</span>)  <span class="hljs-variable">$schoolB</span>:=<span class="hljs-function">New object</span>() <span class="hljs-comment">//settings object</span> <span class="hljs-variable">$schoolB</span>.args:=<span class="hljs-function">New object</span>(<span class="hljs-string">"english"</span>;<span class="hljs-number">1</span>;<span class="hljs-string">"math"</span>;<span class="hljs-number">2</span>;<span class="hljs-string">"history"</span>;<span class="hljs-number">3</span>) <span class="hljs-comment">// Coefficients to compute an average</span>   <span class="hljs-comment">//Order students according to school B criteria</span> <span class="hljs-variable">$es2</span>:=<span class="hljs-variable">$es1</span>.entitySelection.<span class="hljs-function">orderByFormula</span>(<span class="hljs-variable">$formula</span>;dk descending;<span class="hljs-variable">$schoolB</span>)</code></pre><pre><code class="hljs css language-4d">  <span class="hljs-comment">//  // computeAverage method</span>  <span class="hljs-comment">// -----------------------------</span> #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$coefList </span>: Object) -&gt; <span class="hljs-variable">$result </span>: Integer<span class="hljs-keyword"> var</span> <span class="hljs-variable">$subject </span>: Text<span class="hljs-keyword"> var</span> <span class="hljs-variable">$average</span>; <span class="hljs-variable">$sum </span>: Integer  <span class="hljs-variable">$average</span>:=<span class="hljs-number">0</span> <span class="hljs-variable">$sum</span>:=<span class="hljs-number">0</span><span class="hljs-keyword">  For each</span>(<span class="hljs-variable">$subject</span>;<span class="hljs-variable">$coefList</span>)    <span class="hljs-variable">$sum</span>:=<span class="hljs-variable">$sum</span>+<span class="hljs-variable">$coefList</span>[<span class="hljs-variable">$subject</span>]<span class="hljs-keyword"> End for each</span><span class="hljs-keyword">  For each</span>(<span class="hljs-variable">$subject</span>;<span class="hljs-literal">This</span>.marks)    <span class="hljs-variable">$average</span>:=<span class="hljs-variable">$average</span>+(<span class="hljs-literal">This</span>.marks[<span class="hljs-variable">$subject</span>]*<span class="hljs-variable">$coefList</span>[<span class="hljs-variable">$subject</span>])<span class="hljs-keyword"> End for each</span>  <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$average</span>/<span class="hljs-variable">$sum</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_query"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_query"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.query()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17 R6</td><td>Support of Formula parameters</td></tr><tr><td>v17 R5</td><td>Support of placeholders for values</td></tr><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.query</strong>( <em>queryString</em> : Text { ;<em>...value</em> : any } { ; <em>querySettings</em> : Object } ) :4D.EntitySelection<br /><strong>.query</strong>( <em>formula</em> : Object { ;<em>querySettings</em> : Object } ) : 4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>queryString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Search criteria as string</td></tr><tr><td>formula</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Search criteria as formula object</td></tr><tr><td>value</td><td>any</td><td style="text-align:center">-&gt;</td><td>Value(s) to use for indexed placeholder(s)</td></tr><tr><td>querySettings</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Query options: parameters, attributes, args, allowFormulas,context, queryPath, queryPlan</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection made up of entities from entity selectionmeeting the search criteria specified in <em>queryString</em> or<em>formula</em></td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-26"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-26"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.query()</code> function searches for entities thatmeet the search criteria specified in <em>queryString</em> or<em>formula</em> and (optionally) <em>value</em>(s) among all theentities in the entity selection, and returns a new object of type<code>EntitySelection</code> containing all the entities that arefound. Lazy loading is applied.</p><blockquote><p>This function does not modify the original entity selection.</p></blockquote><p>If no matching entities are found, an empty<code>EntitySelection</code> is returned.</p><p>For detailed information on how to build a query using<em>queryString</em>, <em>value</em>, and <em>querySettings</em>parameters, please refer to the DataClass <a href="#EntitySelectionClass.html_query"><code>.query()</code></a>function description.</p><blockquote><p>By default if you omit the <strong>order by</strong> statementin the <em>queryString</em>, the returned entity selection is<a href="#EntitySelectionClass.html_ordered-or-unordered-entity-selection">notordered</a>. Note however that, in Client/Server mode, it behaveslike an ordered entity selection (entities are added at the end ofthe selection).</p></blockquote><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-7"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entitySelectionTemp </span>: cs.EmployeeSelection <span class="hljs-variable">$entitySelectionTemp</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1"</span>;<span class="hljs-string">"M@"</span>) Form.emps:=<span class="hljs-variable">$entitySelectionTemp</span>.<span class="hljs-function">query</span>(<span class="hljs-string">"manager.lastName = :1"</span>;<span class="hljs-string">"S@"</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-7"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><p>More examples of queries can be found in the DataClass <a href="#EntitySelectionClass.html_query"><code>.query()</code></a>page.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_see-also-2"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_see-also-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>See also</h4><p><a href="#EntitySelectionClass.html_query"><code>.query()</code></a> fordataclass</p><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_querypath"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_querypath"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.queryPath</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.queryPath</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-27"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-27"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.queryPath</code> property contains a detaileddescription of the query as it was actually performed by 4D. Thisproperty is available for <code>EntitySelection</code> objectsgenerated through queries if the <code>"queryPath":true</code>property was passed in the <em>querySettings</em> parameter of the<a href="#EntitySelectionClass.html_query"><code>.query()</code></a>function.</p><p>For more information, refer to the <strong>querySettingsparameter</strong> paragraph in the Dataclass<a href="#EntitySelectionClass.html_query"><code>.query()</code></a>page.</p><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_queryplan"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_queryplan"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.queryPlan</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.queryPlan</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-28"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-28"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.queryPlan</code> property contains a detaileddescription of the query just before it is executed (i.e., theplanned query). This property is available for<code>EntitySelection</code> objects generated through queries ifthe <code>"queryPlan":true</code> property was passed in the<em>querySettings</em> parameter of the <a href="#EntitySelectionClass.html_query"><code>.query()</code></a>function.</p><p>For more information, refer to the <strong>querySettingsparameter</strong> paragraph in the Dataclass<a href="#EntitySelectionClass.html_query"><code>.query()</code></a>page.</p><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_refresh"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_refresh"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.refresh()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R3</td><td>Added</td></tr></tbody></table></details><p><strong>.refresh()</strong></p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td></td><td></td><td style="text-align:center"></td><td>Does not require any parameters</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-29"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-29"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><blockquote><p>This function only works with a remote datastore (client /server or <code>Open datastore</code> connection).</p></blockquote><p>The <code>.refresh()</code> function immediately "invalidates"the entity selection data in the local ORDA cache so that the nexttime 4D requires the entity selection, it will be reloaded from thedatabase.</p><p>By default, the local ORDA cache is invalidated after 30seconds. In the context of client / server applications using bothORDA and the classic language, this method allows you to make surea remote application will always work with the latest data.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-8"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-8"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><p>In this example, classic and ORDA code modify the same datasimultaneously:</p><pre><code class="hljs css language-4d"> <span class="hljs-comment">//On a 4D remote</span><span class="hljs-keyword">  var</span> <span class="hljs-variable">$selection </span>: cs.StudentsSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$student </span>: cs.StudentsEntity  <span class="hljs-variable">$selection</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname=:1"</span>;<span class="hljs-string">"Collins"</span>)  <span class="hljs-comment">//The first entity is loaded in the ORDA cache</span> <span class="hljs-variable">$student</span>:=<span class="hljs-variable">$selection</span>.<span class="hljs-function">first</span>()   <span class="hljs-comment">//Update with classic 4D, ORDA cache is not aware of if</span><span class="hljs-function"> QUERY</span>([Students];[Students]lastname=<span class="hljs-string">"Collins"</span>) [Students]lastname:=<span class="hljs-string">"Colin"</span><span class="hljs-function"> SAVE RECORD</span>([Students])   <span class="hljs-comment">//to get the latest version, the ORDA cache must be invalidated</span> <span class="hljs-variable">$selection</span>.<span class="hljs-function">refresh</span>()  <span class="hljs-comment">// Even if cache is not expired, the first entity is reloaded from disk</span> <span class="hljs-variable">$student</span>:=<span class="hljs-variable">$selection</span>.<span class="hljs-function">first</span>()   <span class="hljs-comment">//$student.lastname contains "Colin"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-8"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-8"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><p>A list box displays the Form.students entity selection andseveral clients work on it.</p><pre><code class="hljs css language-4d"><span class="hljs-comment">// Form method:</span><span class="hljs-keyword"> Case of</span>    :(Form event code=On Load)       Form.students:=ds.Students.<span class="hljs-function">all</span>()<span class="hljs-keyword"> End case</span>  <span class="hljs-comment">//  //</span>  <span class="hljs-comment">// On client #1, the user loads, updates, and saves the first entity</span>  <span class="hljs-comment">// On client #2, the user loads, updates, and saves the same entity</span>  <span class="hljs-comment">//  //</span>  <span class="hljs-comment">// On client #1:</span> Form.students.<span class="hljs-function">refresh</span>() <span class="hljs-comment">// Invalidates the ORDA cache for the Form.students entity selection</span>  <span class="hljs-comment">// The list box content is refreshed from the database with update made by client #2</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_selected"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_selected"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.selected()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v19 R3</td><td>Added</td></tr></tbody></table></details><p><strong>.selected</strong>( <em>selectedEntities</em> :4D.EntitySelection ) : Object</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>selectedEntities</td><td>4D.EntitySelection</td><td style="text-align:center">-&gt;</td><td>Entity selection with entities for which to know the rank inthe entity selection</td></tr><tr><td>Result</td><td>Object</td><td style="text-align:center">&lt;-</td><td>Range(s) of selected entities in entity selection</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-30"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-30"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.selected()</code> function returns an objectdescribing the position(s) of <em>selectedEntities</em> in theoriginal entity selection.</p><blockquote><p>This function does not modify the original entity selection.</p></blockquote><p>Pass in the <em>selectedEntities</em> parameter an entityselection containing entities for which you want to know theposition in the original entity selection.<em>selectedEntities</em> must be an entity selection belonging tothe same dataclass as the original entity selection, otherwise anerror 1587 - "The entity selection comes from an incompatibledataclass" is raised.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_result"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_result"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Result</h4><p>The returned object contains the following properties:</p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ranges</td><td>Collection</td><td>Collection of range objects</td></tr><tr><td>ranges[].start</td><td>Integer</td><td>First entity index in the range</td></tr><tr><td>ranges[].end</td><td>Integer</td><td>Last entity index in the range</td></tr></tbody></table><p>If a <code>ranges</code> property contains a single entity,<code>start</code> = <code>end</code>. Index starts at 0.</p><p>The function returns an empty collection in the<code>ranges</code> property if the original entity selection orthe <em>selectedEntities</em> entity selection is empty.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-20"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-20"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$invoices</span>; <span class="hljs-variable">$cashSel</span>; <span class="hljs-variable">$creditSel </span>: cs.Invoices<span class="hljs-keyword">var</span> <span class="hljs-variable">$result1</span>; <span class="hljs-variable">$result2 </span>: Object<span class="hljs-variable">$invoices</span>:=ds.Invoices.<span class="hljs-function">all</span>()<span class="hljs-variable">$cashSelection</span>:=ds.Invoices.<span class="hljs-function">query</span>(<span class="hljs-string">"payment = :1"</span>; <span class="hljs-string">"Cash"</span>)<span class="hljs-variable">$creditSel</span>:=ds.Invoices.<span class="hljs-function">query</span>(<span class="hljs-string">"payment IN :1"</span>;<span class="hljs-function"> New collection</span>(<span class="hljs-string">"Cash"</span>; <span class="hljs-string">"Credit Card"</span>))<span class="hljs-variable">$result1</span>:=<span class="hljs-variable">$invoices</span>.<span class="hljs-function">selected</span>(<span class="hljs-variable">$cashSelection</span>)<span class="hljs-variable">$result2</span>:=<span class="hljs-variable">$invoices</span>.<span class="hljs-function">selected</span>(<span class="hljs-variable">$creditSel</span>)<span class="hljs-comment">//$result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}</span><span class="hljs-comment">//$result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_slice"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_slice"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.slice()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.slice</strong>( <em>startFrom</em> : Integer { ;<em>end</em> : Integer } ) : 4D.EntitySelection</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>startFrom</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Index to start the operation at (included)</td></tr><tr><td>end</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>End index (not included)</td></tr><tr><td>Result</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>New entity selection containing sliced entities (shallowcopy)</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-31"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-31"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.slice()</code> function returns a portion of anentity selection into a new entity selection, selected from the<em>startFrom</em> index to the <em>end</em> index (<em>end</em> isnot included) or to the last entity of the entity selection. Thismethod returns a shallow copy of the entity selection (it uses thesame entity references).</p><blockquote><p>This function does not modify the original entity selection.</p></blockquote><p>The returned entity selection contains the entities specified by<em>startFrom</em> and all subsequent entities up to, but notincluding, the entity specified by <em>end</em>. If only the<em>startFrom</em> parameter is specified, the returned entityselection contains all entities from <em>startFrom</em> to the lastentity of the original entity selection.</p><ul><li>If <em>startFrom</em> &lt; 0, it is recalculated as<em>startFrom:=startFrom+length</em> (it is considered as theoffset from the end of the entity selection). If the calculatedvalue &lt; 0, <em>startFrom</em> is set to 0.</li><li>If <em>startFrom &gt;= length</em>, the function returns anempty entity selection.</li><li>If <em>end</em> &lt; 0, it is recalculated as<em>end:=end+length</em>.</li><li>If <em>end &lt; startFrom</em> (passed or calculated values),the method does nothing.</li></ul><p>If the entity selection contains entities that were dropped inthe meantime, they are also returned.</p><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-9"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><p>You want to get a selection of the first 9 entities of theentity selection:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sel</span>; <span class="hljs-variable">$sliced </span>: cs.EmployeeSelection<span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &gt; :1"</span>;<span class="hljs-number">50000</span>)<span class="hljs-variable">$sliced</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">slice</span>(<span class="hljs-number">0</span>;<span class="hljs-number">9</span>) <span class="hljs-comment">//</span></code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-9"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><p>Assuming we have ds.Employee.all().length = 10</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$slice </span>: cs.EmployeeSelection<span class="hljs-variable">$slice</span>:=ds.Employee.<span class="hljs-function">all</span>().<span class="hljs-function">slice</span>(<span class="hljs-number">-1</span>;<span class="hljs-number">-2</span>) <span class="hljs-comment">//tries to return entities from index 9 to 8, but since 9 &gt; 8, returns an empty entity selection</span></code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_sum-"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_sum-"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.sum( )</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.sum</strong>( <em>attributePath</em> : Text ) :Real</p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>attributePath</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Path of the attribute to be used for calculation</td></tr><tr><td>Result</td><td>Real</td><td style="text-align:center">&lt;-</td><td>Sum of entity selection values</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-32"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-32"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.sum()</code> function returns the sum for all<em>attributePath</em> values in the entity selection.</p><p><code>.sum()</code> returns 0 if the entity selection isempty.</p><p>The sum can only be done on values of number type. If the<em>attributePath</em> is an object property, only numerical valuesare taken into account for the calculation (other value types areignored). In this case, if <em>attributePath</em> leads to aproperty that does not exist in the object or does not contain anynumeric values, <code>.sum()</code> returns 0.</p><p>An error is returned if:</p><ul><li><em>attributePath</em> is not a numerical or an objectattribute,</li><li><em>attributePath</em> is a related attribute,</li><li><em>attributePath</em> is not found in the entity selectiondataclass.</li></ul><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-21"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-21"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sel </span>: cs.EmployeeSelection<span class="hljs-keyword">var</span> <span class="hljs-variable">$sum </span>: Real <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &lt; :1"</span>;<span class="hljs-number">20000</span>)<span class="hljs-variable">$sum</span>:=<span class="hljs-variable">$sel</span>.<span class="hljs-function">sum</span>(<span class="hljs-string">"salary"</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_tocollection-"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_tocollection-"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.toCollection( )</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.toCollection</strong>( { <em>options</em> : Integer { ;<em>begin</em> : Integer { ; <em>howMany</em> : Integer } } ) :<em>Collection</em><br /><strong>.toCollection</strong>( <em>filterString</em> : Text {;<em>options</em> : Integer { ; <em>begin</em> : Integer { ;<em>howMany</em> : Integer }}} ) : <em>Collection</em><br /><strong>.toCollection</strong>( <em>filterCol</em> : Collection {;<em>options</em> : Integer { ; <em>begin</em> : Integer { ;<em>howMany</em> : Integer }}} ) : <em>Collection</em></p><table><thead><tr><th>Parameter</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>filterString</td><td>Text</td><td style="text-align:center">-&gt;</td><td>String with entity attribute path(s) to extract</td></tr><tr><td>filterCol</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Collection of entity attribute path(s) to extract</td></tr><tr><td>options</td><td>Integer</td><td style="text-align:center">-&gt;</td><td><code>dk with primary key</code>: adds the primary key<br /><code>dk with stamp</code>: adds the stamp</td></tr><tr><td>begin</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Designates the starting index</td></tr><tr><td>howMany</td><td>Integer</td><td style="text-align:center">-&gt;</td><td>Number of entities to extract</td></tr><tr><td>Result</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Collection of objects containing attributes and values ofentity selection</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_description-33"></a><a aria-hidden="true" class="hash-link" href="#EntitySelectionClass.html_description-33"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>The <code>.toCollection()</code> function creates and returns acollection where each element is an object containing a set ofproperties and values corresponding to the attribute names andvalues for the entity selection.</p><p>If no filter parameter is passed or the first parameter containsan empty string or "*", all the attributes are extracted.Attributes with <a href="#EntitySelectionClass.html_kind">kind</a>property as "relatedEntity" are extracted with the simple form: anobject with property __KEY (primary key). Attributes with kindproperty as "relatedEntities" are not extracted.</p><p>Or, you can designate the entity attributes to extract using afilter parameter. You can use one of these two filters:</p><ul><li><em>filterString</em> --a string with property paths separatedwith commas: "propertyPath1, propertyPath2, ...".</li><li><em>filterCol</em> --a collection of strings containingproperty paths: ["propertyPath1","propertyPath2",...]</li></ul><p>If a filter is specified for an attribute of the<code>relatedEntity</code> kind:</p><ul><li>propertyPath = "relatedEntity" -&gt; it is extracted withsimple form</li><li>propertyPath = "relatedEntity.*" -&gt; all the properties areextracted</li><li>propertyPath = "relatedEntity.propertyName1,relatedEntity.propertyName2, ..." -&gt; only those properties areextracted</li></ul><p>If a filter is specified for an attribute of the<code>relatedEntities</code> kind:</p><ul><li>propertyPath = "relatedEntities.*" -&gt; all the properties areextracted</li><li>propertyPath = "relatedEntities.propertyName1,relatedEntities.propertyName2, ..." -&gt; only those properties areextracted</li></ul><p>In the <em>options</em> parameter, you can pass the <code>dkwith primary key</code> and/or <code>dk with stamp</code>selector(s) to add the entity's primary keys and/or stamps inextracted objects.</p><p>The <em>begin</em> parameter allows you to indicate the startingindex of the entities to extract. You can pass any value between 0and entity selection length-1.</p><p>The <em>howMany</em> parameter lets you specify the number ofentities to extract, starting with the one specified in<em>begin</em>. Dropped entities are not returned but are takeninto account according to <em>howMany</em>. For example, if<em>howMany</em>= 3 and there is 1 dropped entity, only 2 entitiesare extracted.</p><p>If <em>howMany</em> &gt; length of the entity selection, themethod returns (length - <em>begin</em>) objects.</p><p>An empty collection is returned if:</p><ul><li>the entity selection is empty, or</li><li><em>begin</em> is greater than the length of the entityselection.</li></ul><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-1-10"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-1-10"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 1</h4><p>The following structure will be used throughout all examples ofthis section:</p><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/API/dataclassAttribute4.png" /></p><p>Example without filter or options parameter:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employeesCollection </span>: Collection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection  <span class="hljs-variable">$employeesCollection</span>:=New collection <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">all</span>() <span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>()</code></pre><p>Returns:</p><pre><code class="hljs css language-4d">[    {        <span class="hljs-string">"ID"</span>: <span class="hljs-number">416</span>,        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,        <span class="hljs-string">"salary"</span>: <span class="hljs-number">79100</span>,        <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1963-02-01T00:00:00.000Z"</span>,        <span class="hljs-string">"woman"</span>: false,        <span class="hljs-string">"managerID"</span>: <span class="hljs-number">412</span>,        <span class="hljs-string">"employerID"</span>: <span class="hljs-number">20</span>,        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,        <span class="hljs-string">"extra"</span>: null,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>        },        <span class="hljs-string">"manager"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">412</span>        }    },    {        <span class="hljs-string">"ID"</span>: <span class="hljs-number">417</span>,        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,        <span class="hljs-string">"salary"</span>: <span class="hljs-number">47000</span>,        <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1992-06-16T00:00:00.000Z"</span>,        <span class="hljs-string">"woman"</span>: true,        <span class="hljs-string">"managerID"</span>: <span class="hljs-number">412</span>,        <span class="hljs-string">"employerID"</span>: <span class="hljs-number">20</span>,        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,        <span class="hljs-string">"extra"</span>: null,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>        },        <span class="hljs-string">"manager"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">412</span>        }    }]</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-2-10"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-2-10"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 2</h4><p>Example with options:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection </span>: Collection<span class="hljs-keyword">var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection<span class="hljs-variable">$employeesCollection</span>:=New collection<span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">all</span>()<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">""</span>;dk with primary key+dk with stamp)</code></pre><p>Returns:</p><pre><code class="hljs css language-4d">[    {        <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">416</span>,        <span class="hljs-string">"__STAMP"</span>: <span class="hljs-number">1</span>,        <span class="hljs-string">"ID"</span>: <span class="hljs-number">416</span>,        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,        <span class="hljs-string">"salary"</span>: <span class="hljs-number">79100</span>,        <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1963-02-01T00:00:00.000Z"</span>,        <span class="hljs-string">"woman"</span>: false,        <span class="hljs-string">"managerID"</span>: <span class="hljs-number">412</span>,        <span class="hljs-string">"employerID"</span>: <span class="hljs-number">20</span>,        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,        <span class="hljs-string">"extra"</span>: null,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>        },        <span class="hljs-string">"manager"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">412</span>        }    },    {        <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">417</span>,        <span class="hljs-string">"__STAMP"</span>: <span class="hljs-number">1</span>,        <span class="hljs-string">"ID"</span>: <span class="hljs-number">417</span>,        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,        <span class="hljs-string">"salary"</span>: <span class="hljs-number">47000</span>,        <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1992-06-16T00:00:00.000Z"</span>,        <span class="hljs-string">"woman"</span>: true,        <span class="hljs-string">"managerID"</span>: <span class="hljs-number">412</span>,        <span class="hljs-string">"employerID"</span>: <span class="hljs-number">20</span>,        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,        <span class="hljs-string">"extra"</span>: null,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>        },        <span class="hljs-string">"manager"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">412</span>        }    }]</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-3-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-3-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 3</h4><p>Example with slicing and filtering on properties:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection</span>; <span class="hljs-variable">$filter </span>: Collection<span class="hljs-keyword">var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection<span class="hljs-variable">$employeesCollection</span>:=New collection<span class="hljs-variable">$filter</span>:=New collection<span class="hljs-variable">$filter</span>.<span class="hljs-function">push</span>(<span class="hljs-string">"firstName"</span>)<span class="hljs-variable">$filter</span>.<span class="hljs-function">push</span>(<span class="hljs-string">"lastName"</span>) <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">all</span>()<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-variable">$filter</span>;<span class="hljs-number">0</span>;<span class="hljs-number">0</span>;<span class="hljs-number">2</span>)</code></pre><p>Returns:</p><pre><code class="hljs css language-4d">[    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>    }]</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-4-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-4-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 4</h4><p>Example with <code>relatedEntity</code> type with simpleform:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection </span>: Collection<span class="hljs-variable">$employeesCollection</span>:=New collection<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">"firstName,lastName,employer"</span>)</code></pre><p>returns:</p><pre><code class="hljs css language-4d">[    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>        }    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>        }    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Lorena"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Boothe"</span>,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">20</span>        }    }   ]</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-5-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-5-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 5</h4><p>Example with <em>filterCol</em> parameter:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection</span>; <span class="hljs-variable">$coll </span>: Collection<span class="hljs-variable">$employeesCollection</span>:=New collection<span class="hljs-variable">$coll</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-string">"firstName"</span>;<span class="hljs-string">"lastName"</span>)<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-variable">$coll</span>)</code></pre><p>Returns:</p><pre><code class="hljs css language-4d">[    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Joanna"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Cabrera"</span>    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Alexandra"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Coleman"</span>    }]</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-6-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-6-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 6</h4><p>Example with extraction of all properties of arelatedEntity:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection</span>; <span class="hljs-variable">$coll </span>: Collection<span class="hljs-variable">$employeesCollection</span>:=New collection<span class="hljs-variable">$coll</span>:=New collection<span class="hljs-variable">$coll</span>.<span class="hljs-function">push</span>(<span class="hljs-string">"firstName"</span>)<span class="hljs-variable">$coll</span>.<span class="hljs-function">push</span>(<span class="hljs-string">"lastName"</span>)<span class="hljs-variable">$coll</span>.<span class="hljs-function">push</span>(<span class="hljs-string">"employer.*"</span>)<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-variable">$coll</span>)</code></pre><p>Returns:</p><pre><code class="hljs css language-4d">[    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"ID"</span>: <span class="hljs-number">20</span>,            <span class="hljs-string">"name"</span>: <span class="hljs-string">"India Astral Secretary"</span>,            <span class="hljs-string">"creationDate"</span>: <span class="hljs-string">"1984-08-25T00:00:00.000Z"</span>,            <span class="hljs-string">"revenues"</span>: <span class="hljs-number">12000000</span>,            <span class="hljs-string">"extra"</span>: null        }    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"ID"</span>: <span class="hljs-number">20</span>,            <span class="hljs-string">"name"</span>: <span class="hljs-string">"India Astral Secretary"</span>,            <span class="hljs-string">"creationDate"</span>: <span class="hljs-string">"1984-08-25T00:00:00.000Z"</span>,            <span class="hljs-string">"revenues"</span>: <span class="hljs-number">12000000</span>,            <span class="hljs-string">"extra"</span>: null        }    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Lorena"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Boothe"</span>,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"ID"</span>: <span class="hljs-number">20</span>,            <span class="hljs-string">"name"</span>: <span class="hljs-string">"India Astral Secretary"</span>,            <span class="hljs-string">"creationDate"</span>: <span class="hljs-string">"1984-08-25T00:00:00.000Z"</span>,            <span class="hljs-string">"revenues"</span>: <span class="hljs-number">12000000</span>,            <span class="hljs-string">"extra"</span>: null        }    }  ]</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-7-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-7-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 7</h4><p>Example with extraction of some properties of arelatedEntity:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection </span>: Collection<span class="hljs-variable">$employeesCollection</span>:=New collection<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">"firstName, lastName, employer.name"</span>)</code></pre><pre><code class="hljs css language-4d">[    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"name"</span>: <span class="hljs-string">"India Astral Secretary"</span>        }    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Irma"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Durham"</span>,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"name"</span>: <span class="hljs-string">"India Astral Secretary"</span>        }    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Lorena"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Boothe"</span>,        <span class="hljs-string">"employer"</span>: {            <span class="hljs-string">"name"</span>: <span class="hljs-string">"India Astral Secretary"</span>        }    }]</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-8-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-8-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 8</h4><p>Example with extraction of some properties of<code>relatedEntities</code>:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$employeesCollection </span>: Collection <span class="hljs-variable">$employeesCollection</span>:=New collection <span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">"firstName, lastName, directReports.firstName"</span>)</code></pre><p>Returns:</p><pre><code class="hljs css language-4d">[    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,        <span class="hljs-string">"directReports"</span>: []    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Mike"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Phan"</span>,        <span class="hljs-string">"directReports"</span>: [            {                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gary"</span>            },            {                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Sadie"</span>            },            {                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Christie"</span>            }        ]    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gary"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Reichert"</span>,        <span class="hljs-string">"directReports"</span>: [            {                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Rex"</span>            },            {                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Jenny"</span>            },            {                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Lowell"</span>            }        ]    }]</code></pre><h4><a aria-hidden="true" class="anchor" id="EntitySelectionClass.html_example-9-1"></a><a aria-hidden="true"class="hash-link" href="#EntitySelectionClass.html_example-9-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 9</h4><p>Example with extraction of all properties of<code>relatedEntities</code>:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$employeesCollection </span>: Collection<span class="hljs-variable">$employeesCollection</span>:=New collection<span class="hljs-variable">$employeesCollection</span>:=<span class="hljs-variable">$employees</span>.<span class="hljs-function">toCollection</span>(<span class="hljs-string">"firstName, lastName, directReports.*"</span>)</code></pre><pre><code class="hljs css language-4d">[    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gregg"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Wahl"</span>,        <span class="hljs-string">"directReports"</span>: []    },        {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Mike"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Phan"</span>,        <span class="hljs-string">"directReports"</span>: [            {                <span class="hljs-string">"ID"</span>: <span class="hljs-number">425</span>,                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gary"</span>,                <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Reichert"</span>,                <span class="hljs-string">"salary"</span>: <span class="hljs-number">65800</span>,                <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1957-12-23T00:00:00.000Z"</span>,                <span class="hljs-string">"woman"</span>: false,                <span class="hljs-string">"managerID"</span>: <span class="hljs-number">424</span>,                <span class="hljs-string">"employerID"</span>: <span class="hljs-number">21</span>,                <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,                <span class="hljs-string">"extra"</span>: null,                <span class="hljs-string">"employer"</span>: {                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">21</span>                },                <span class="hljs-string">"manager"</span>: {                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">424</span>                }            },            {                <span class="hljs-string">"ID"</span>: <span class="hljs-number">426</span>,                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Sadie"</span>,                <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Gallant"</span>,                <span class="hljs-string">"salary"</span>: <span class="hljs-number">35200</span>,                <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"2022-01-03T00:00:00.000Z"</span>,                <span class="hljs-string">"woman"</span>: true,                <span class="hljs-string">"managerID"</span>: <span class="hljs-number">424</span>,                <span class="hljs-string">"employerID"</span>: <span class="hljs-number">21</span>,                <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,                <span class="hljs-string">"extra"</span>: null,                <span class="hljs-string">"employer"</span>: {                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">21</span>                },                <span class="hljs-string">"manager"</span>: {                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">424</span>                }            }                   ]    },    {        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Gary"</span>,        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Reichert"</span>,        <span class="hljs-string">"directReports"</span>: [            {                <span class="hljs-string">"ID"</span>: <span class="hljs-number">428</span>,                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Rex"</span>,                <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Chance"</span>,                <span class="hljs-string">"salary"</span>: <span class="hljs-number">71600</span>,                <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1968-08-09T00:00:00.000Z"</span>,                <span class="hljs-string">"woman"</span>: false,                <span class="hljs-string">"managerID"</span>: <span class="hljs-number">425</span>,                <span class="hljs-string">"employerID"</span>: <span class="hljs-number">21</span>,                <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,                <span class="hljs-string">"extra"</span>: null,                <span class="hljs-string">"employer"</span>: {                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">21</span>                },                <span class="hljs-string">"manager"</span>: {                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">425</span>                }            },            {                <span class="hljs-string">"ID"</span>: <span class="hljs-number">429</span>,                <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Jenny"</span>,                <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Parks"</span>,                <span class="hljs-string">"salary"</span>: <span class="hljs-number">51300</span>,                <span class="hljs-string">"birthDate"</span>: <span class="hljs-string">"1984-05-25T00:00:00.000Z"</span>,                <span class="hljs-string">"woman"</span>: true,                <span class="hljs-string">"managerID"</span>: <span class="hljs-number">425</span>,                <span class="hljs-string">"employerID"</span>: <span class="hljs-number">21</span>,                <span class="hljs-string">"photo"</span>: <span class="hljs-string">"[object Picture]"</span>,                <span class="hljs-string">"extra"</span>: null,                <span class="hljs-string">"employer"</span>: {                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">21</span>                },                <span class="hljs-string">"manager"</span>: {                    <span class="hljs-string">"__KEY"</span>: <span class="hljs-number">425</span>                }            }           ] }]</code></pre><style><![CDATA[ h2 { background: #d9ebff;}]]></style></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#EntityClass.html"><span class="arrow-prev">←</span><span>Entity</span></a><a class="docs-next button" href="#FileClass.html"><span>File</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#EntitySelectionClass.html_create-entity-selection">Create entityselection</a></li><li><a href="#EntitySelectionClass.html_use-entity-selection">USEENTITY SELECTION</a></li><li><a href="#EntitySelectionClass.html_91index93">[<em>index</em>]</a></li><li><a href="#EntitySelectionClass.html_attributename">.<em>attributeName</em></a></li><li><a href="#EntitySelectionClass.html_add">.add()</a></li><li><a href="#EntitySelectionClass.html_and">.and()</a></li><li><a href="#EntitySelectionClass.html_average">.average()</a></li><li><a href="#EntitySelectionClass.html_contains">.contains()</a></li><li><a href="#EntitySelectionClass.html_count">.count()</a></li><li><a href="#EntitySelectionClass.html_copy">.copy()</a></li><li><a href="#EntitySelectionClass.html_distinct">.distinct()</a></li><li><a href="#EntitySelectionClass.html_drop">.drop()</a></li><li><a href="#EntitySelectionClass.html_extract">.extract()</a></li><li><a href="#EntitySelectionClass.html_first">.first()</a></li><li><a href="#EntitySelectionClass.html_getdataclass">.getDataClass()</a></li><li><a href="#EntitySelectionClass.html_getremotecontextattributes">.getRemoteContextAttributes()</a></li><li><a href="#EntitySelectionClass.html_isalterable">.isAlterable()</a></li><li><a href="#EntitySelectionClass.html_isordered">.isOrdered()</a></li><li><a href="#EntitySelectionClass.html_last">.last()</a></li><li><a href="#EntitySelectionClass.html_length">.length</a></li><li><a href="#EntitySelectionClass.html_max">.max()</a></li><li><a href="#EntitySelectionClass.html_min">.min()</a></li><li><a href="#EntitySelectionClass.html_minus">.minus()</a></li><li><a href="#EntitySelectionClass.html_or">.or()</a></li><li><a href="#EntitySelectionClass.html_orderby">.orderBy()</a></li><li><a href="#EntitySelectionClass.html_orderbyformula">.orderByFormula()</a></li><li><a href="#EntitySelectionClass.html_query">.query()</a></li><li><a href="#EntitySelectionClass.html_querypath">.queryPath</a></li><li><a href="#EntitySelectionClass.html_queryplan">.queryPlan</a></li><li><a href="#EntitySelectionClass.html_refresh">.refresh()</a></li><li><a href="#EntitySelectionClass.html_selected">.selected()</a></li><li><a href="#EntitySelectionClass.html_slice">.slice()</a></li><li><a href="#EntitySelectionClass.html_sum-">.sum( )</a></li><li><a href="#EntitySelectionClass.html_tocollection-">.toCollection()</a></li></ul></nav></div></div></body></html>