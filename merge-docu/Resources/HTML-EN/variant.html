<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="en"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Variant · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Variant is a variable type which allows encapsulating data of any valid regular type in a variable. Typically, this variable type can be used to write generic code returning or receiving values for which the type is not known. This is the case for example for code handling object attributes."name="description" /><meta content="en" name="docsearch:language" /><meta content="Variant · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Variant is a variable type which allows encapsulating data of any valid regular type in a variable. Typically, this variable type can be used to write generic code returning or receiving values for which the type is not known. This is the case for example for code handling object attributes."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#dt_variant.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Variant<a aria-hidden="true" class="anchor" id="variant.html"></a></h1></header><article><div><p><span>Variant is a variable type which allows encapsulating dataof any valid regular type in a variable. Typically, this variabletype can be used to write generic code returning or receivingvalues for which the type is not known. This is the case forexample for code handling object attributes.</span></p><p><span>A variant type variable can contain a value of thefollowing data types:</span></p><ul><li><span>BLOB</span></li><li><span>boolean</span></li><li><span>collection</span></li><li><span>date</span></li><li><span>longint</span></li><li><span>object</span></li><li><span>picture</span></li><li><span>pointer</span></li><li><span>real</span></li><li><span>text</span></li><li><span>time</span></li><li><span>null</span></li><li><span>undefined</span></li></ul><blockquote><p><span>Arrays cannot be stored in variant variables.</span></p></blockquote><p><span>In both interpreted and in compiled modes, a same variantvariable can be assigned contents of different types. Unlikeregular variable types, the variant variable content type isdifferent from the variant variable type itself. Forexample:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-function">C_VARIANT</span>(<span class="hljs-variable">$variant</span>)<span class="hljs-variable">$variant</span>:=<span class="hljs-string">"hello world"</span><span class="hljs-variable">$vtype</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 12 (Is variant)</span><span class="hljs-variable">$vtypeVal</span>:=<span class="hljs-function">Value type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 2 (Is text)</span><span class="hljs-variable">$variant</span>:=<span class="hljs-number">42</span><span class="hljs-variable">$vtype</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 12 (Is variant)</span><span class="hljs-variable">$vtypeVal</span>:=<span class="hljs-function">Value type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 1 (Is real)</span></code></span></pre><p>You can use variant variables wherever variables are expected,you only need to make sure than the variable content data type isof the expected type. When accessing variant variables, only theircurrent value is taken into account. For example:</p><pre><code class="hljs css language-4d"><span class="hljs-function">C_VARIANT</span>(<span class="hljs-variable">$v</span>)<span class="hljs-variable">$v</span>:=<span class="hljs-string">"hello world"</span><span class="hljs-variable">$v2</span>:=<span class="hljs-variable">$v </span><span class="hljs-comment">//assign variable to another variable</span><span class="hljs-variable">$t</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$v</span>) <span class="hljs-comment">// 12 (Is variant)</span><span class="hljs-variable">$t2</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$v2</span>) <span class="hljs-comment">// 2 (Is text)</span></code></pre><p>Variant can be used to declare method parameters ($0, $1,...)that can be of various types. In this case, you can build your codeby testing the parameter value type, for example:</p><pre><code class="hljs css language-4d"><span class="hljs-function">C_VARIANT</span>(<span class="hljs-variable">$1</span>)<span class="hljs-keyword">Case of</span>: (<span class="hljs-function">Value type</span>(<span class="hljs-variable">$1</span>)=Is longint)...: (<span class="hljs-function">Value type</span>(<span class="hljs-variable">$1</span>)=Is text)...<span class="hljs-keyword">End case</span></code></pre><blockquote><p>When variant variables are not necessary (i.e. when the datatype is known), it is recommended to use regular typed variables.Regular typed variables provide better performance, make code moreclear and are helpful for the compiler to prevent bugs related topassing unexpected data types.</p></blockquote></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#time.html"><span class="arrow-prev">←</span><span>Time</span></a><a class="docs-next button" href="#variables.html"><span>Variables</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"></nav></div></div></body></html>