<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="en"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Branching structures · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="A branching structure allows methods to test a condition and take alternative paths, depending on the result."name="description" /><meta content="en" name="docsearch:language" /><meta content="Branching structures · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="A branching structure allows methods to test a condition and take alternative paths, depending on the result."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#cf_branching.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Branchingstructures<a aria-hidden="true" class="anchor" id="branching.html"></a></h1></header><article><div><p><span>A branching structure allows methods to test a conditionand take alternative paths, depending on the result.</span></p><h2><span><a aria-hidden="true" class="anchor" id="branching.html_ifelseend-if"></a><a aria-hidden="true" class="hash-link" href="#branching.html_ifelseend-if"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>If...Else...End if</span></h2><p><span>The formal syntax of the <code>If...Else...End if</code>control flow structure is:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(Boolean_Expression)<span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> Else</span><span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> End if</span></code></span></pre><p>Note that the <code>Else</code> part is optional; you canwrite:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(Boolean_Expression)<span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> End if</span></code></pre><p>The <code>If...Else...End if</code> structure lets your methodchoose between two actions, depending on whether a test (a Booleanexpression) is TRUE or FALSE. When the Boolean expression is TRUE,the statements immediately following the test are executed. If theBoolean expression is FALSE, the statements following the Elsestatement are executed. The <code>Else</code> statement isoptional; if you omit Else, execution continues with the firststatement (if any) following the <code>End if</code>.</p><p>Note that the Boolean expression is always fully evaluated.Consider in particular the following test:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(MethodA &amp; MethodB)    ...<span class="hljs-keyword"> End if</span></code></pre><p>The expression is TRUE only if both methods are TRUE. However,even if <em>MethodA</em> returns FALSE, 4D will still evaluate<em>MethodB</em>, which is a useless waste of time. In this case,it is more interesting to use a structure like:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(MethodA)<span class="hljs-keyword">    If</span>(MethodB)       ...<span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span></code></pre><p>The result is similar and <em>MethodB</em> is evaluated only ifnecessary.</p><blockquote><p><strong>Note:</strong> The <a href="#branching.html_ternary-operator">ternary operator</a> allowswriting one-line conditional expressions and can replace a fullsequence of If..Else statements.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="branching.html_example"></a><a aria-hidden="true" class="hash-link" href="#branching.html_example"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h3><pre><code class="hljs css language-4d">  <span class="hljs-comment">// Ask the user to enter a name</span> <span class="hljs-variable">$Find</span>:=<span class="hljs-function">Request</span>(Type a name)<span class="hljs-keyword"> If</span>(OK=<span class="hljs-number">1</span>)<span class="hljs-function">    QUERY</span>([People];[People]LastName=<span class="hljs-variable">$Find</span>)<span class="hljs-keyword"> Else</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"You did not enter a name."</span>)<span class="hljs-keyword"> End if</span> </code></pre><p><strong>Tip:</strong> Branching can be performed withoutstatements to be executed in one case or the other. When developingan algorithm or a specialized application, nothing prevents youfrom writing:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(Boolean_Expression)<span class="hljs-keyword"> Else</span><span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> End if</span></code></pre><p>or:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(Boolean_Expression)<span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> Else</span><span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="branching.html_case-ofelseend-case"></a><a aria-hidden="true"class="hash-link" href="#branching.html_case-ofelseend-case"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Case of...Else...End case</h2><p>The formal syntax of the <code>Case of...Else...End case</code>control flow structure is:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)       .       .       .     :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)<span class="hljs-keyword">    Else</span><span class="hljs-function">       statement</span>(s)<span class="hljs-keyword"> End case</span></code></pre><p>Note that the <code>Else</code> part is optional; you canwrite:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)       .       .       .     :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)<span class="hljs-keyword"> End case</span></code></pre><p>As with the <code>If...Else...End if</code> structure, the<code>Case of...Else...End case</code> structure also lets yourmethod choose between alternative actions. Unlike the<code>If...Else...End</code> if structure, the <code>Caseof...Else...End case</code> structure can test a reasonableunlimited number of Boolean expressions and take action dependingon which one is TRUE.</p><p>Each Boolean expression is prefaced by a colon (<code>:</code>).This combination of the colon and the Boolean expression is calleda case. For example, the following line is a case:</p><pre><code class="hljs css language-4d">:(bValidate=<span class="hljs-number">1</span>)</code></pre><p>Only the statements following the first TRUE case (and up to thenext case) will be executed. If none of the cases are TRUE, none ofthe statements will be executed (if no <code>Else</code> part isincluded).</p><p>You can include an Else statement after the last case. If all ofthe cases are FALSE, the statements following the <code>Else</code>will be executed.</p><h3><a aria-hidden="true" class="anchor" id="branching.html_example-1"></a><a aria-hidden="true" class="hash-link" href="#branching.html_example-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example</h3><p>This example tests a numeric variable and displays an alert boxwith a word in it:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(vResult=<span class="hljs-number">1</span>) <span class="hljs-comment">//Test if the number is 1</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"One."</span>) <span class="hljs-comment">//If it is 1, display an alert</span>    :(vResult=<span class="hljs-number">2</span>) <span class="hljs-comment">//Test if the number is 2</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"Two."</span>) <span class="hljs-comment">//If it is 2, display an alert</span>    :(vResult=<span class="hljs-number">3</span>) <span class="hljs-comment">//Test if the number is 3</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"Three."</span>) <span class="hljs-comment">//If it is 3, display an alert</span><span class="hljs-keyword">    Else</span> <span class="hljs-comment">//If it is not 1, 2, or 3, display an alert</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"It was not one, two, or three."</span>)<span class="hljs-keyword"> End case</span></code></pre><p>For comparison, here is the <code>If...Else...End if</code>version of the same method:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(vResult=<span class="hljs-number">1</span>) <span class="hljs-comment">//Test if the number is 1</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"One."</span>) <span class="hljs-comment">//If it is 1, display an alert</span><span class="hljs-keyword"> Else</span><span class="hljs-keyword">    If</span>(vResult=<span class="hljs-number">2</span>) <span class="hljs-comment">//Test if the number is 2</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"Two."</span>) <span class="hljs-comment">//If it is 2, display an alert</span><span class="hljs-keyword">    Else</span><span class="hljs-keyword">       If</span>(vResult=<span class="hljs-number">3</span>) <span class="hljs-comment">//Test if the number is 3</span><span class="hljs-function">          ALERT</span>(<span class="hljs-string">"Three."</span>) <span class="hljs-comment">//If it is 3, display an alert</span><span class="hljs-keyword">       Else</span> <span class="hljs-comment">//If it is not 1, 2, or 3, display an alert</span><span class="hljs-function">          ALERT</span>(<span class="hljs-string">"It was not one, two, or three."</span>)<span class="hljs-keyword">       End if</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span></code></pre><p>Remember that with a <code>Case of...Else...End case</code>structure, only the first TRUE case is executed. Even if two ormore cases are TRUE, only the statements following the first TRUEcase will be executed.</p><p>Consequently, when you want to implement hierarchical tests, youshould make sure the condition statements that are lower in thehierarchical scheme appear first in the test sequence. For example,the test for the presence of condition1 covers the test for thepresence of condition1&amp;condition2 and should therefore belocated last in the test sequence. For example, the following codewill never see its last condition detected:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(vResult=<span class="hljs-number">1</span>)       ... <span class="hljs-comment">//statement(s)</span>    :((vResult=<span class="hljs-number">1</span>) &amp; (vCondition#<span class="hljs-number">2</span>)) <span class="hljs-comment">//this case will never be detected</span>       ... <span class="hljs-comment">//statement(s)</span><span class="hljs-keyword"> End case</span></code></pre><p>In the code above, the presence of the second condition is notdetected since the test "vResult=1" branches off the code beforeany further testing. For the code to operate properly, you canwrite it as follows:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :((vResult=<span class="hljs-number">1</span>) &amp; (vCondition#<span class="hljs-number">2</span>)) <span class="hljs-comment">//this case will be detected first</span>       ... <span class="hljs-comment">//statement(s)</span>    :(vResult=<span class="hljs-number">1</span>)       ... <span class="hljs-comment">//statement(s)</span><span class="hljs-keyword"> End case</span></code></pre><p>Also, if you want to implement hierarchical testing, you mayconsider using hierarchical code.</p><p><strong>Tip:</strong> Branching can be performed withoutstatements to be executed in one case or another. When developingan algorithm or a specialized application, nothing prevents youfrom writing:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(Boolean_Expression)    :(Boolean_Expression)      ...     :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)<span class="hljs-keyword">    Else</span><span class="hljs-function">       statement</span>(s)<span class="hljs-keyword"> End case</span></code></pre><p>or:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(Boolean_Expression)    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)       ...            :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)<span class="hljs-keyword">    Else</span><span class="hljs-keyword"> End case</span></code></pre><p>or:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span><span class="hljs-keyword">    Else</span><span class="hljs-function">       statement</span>(s)<span class="hljs-keyword"> End case</span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#control-flow.html"><span class="arrow-prev">←</span><span>Control flow overview</span></a><a class="docs-next button"href="#looping.html"><span>Looping structures</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#branching.html_ifelseend-if">If...Else...End if</a><ul class="toc-headings"><li><a href="#branching.html_example">Example</a></li></ul></li><li><a href="#branching.html_case-ofelseend-case">Caseof...Else...End case</a><ul class="toc-headings"><li><a href="#branching.html_example-1">Example</a></li></ul></li></ul></nav></div></div></body></html>