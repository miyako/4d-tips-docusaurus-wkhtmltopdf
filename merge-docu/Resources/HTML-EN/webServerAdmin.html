<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="en"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Administration · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="4D provides several integrated tools to start, stop, or monitor the integrated web server."name="description" /><meta content="en" name="docsearch:language" /><meta content="Administration · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="4D provides several integrated tools to start, stop, or monitor the integrated web server."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#webServerAdmin.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Administration<a aria-hidden="true" class="anchor" id="webServerAdmin.html"></a></h1></header><article><div><p><span>4D provides several integrated tools to start, stop, ormonitor the integrated web server.</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_starting-the-4d-web-server"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_starting-the-4d-web-server"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Starting the 4D Web Server</span></h2><blockquote><p><span>To be able to launch the web server of 4D or 4D Server,you must have a "4D Web Application" license. For more information,please refer to the <a href="https://www.4d.com">4D Website</a>.</span></p></blockquote><p><span>A 4D project can start and monitor a web server for themain (host) application as well as for each hostedcomponent.</span></p><p><span>The main 4D web server can be started in differentways:</span></p><ul><li><p><span>Using a button/menu command.</span></p><ul><li><span>4D: <strong>Run&gt;Start Web Server</strong> menu<br /><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/start1.png" /></span></li><li><span>4D Server: <strong>Start HTTP server</strong> button ofthe HTTP Server page<br /><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/start2.png" /></span></li></ul></li><li><p><span>Automatically starting it each time the 4D application isopened. To do this, display the <strong>Web/Configuration</strong>page of the Settings and select the <strong>Launch Web Server atStartup</strong> check box:<br /><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/config.png" /></span></p></li><li><p><span>Programmatically, by calling the <a href="#webServerAdmin.html_start"><code>webServer.start()</code></a>function or <code>WEB START SERVER</code> command.</span></p></li></ul><p><span>The web server of any component can be launched by callingthe <a href="#webServerAdmin.html_start"><code>webServer.start()</code></a>function on the component's web server object.</span></p><blockquote><p><span>You do not need to relaunch the 4D application to start orstop the web server.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_stopping-the-4d-web-server"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_stopping-the-4d-web-server"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Stopping the 4D Web Server</span></h2><p><span>The main 4D web server can be stopped in differentways:</span></p><ul><li><p><span>Using the <strong>Run&gt;Stop Web Server</strong> menu of4D or the <strong>Stop HTTP server</strong> button of the HTTPServer page of 4D Server (both items show <strong>Start...</strong>when the server is not already started).</span></p></li><li><p><span>Programmatically, by calling the <a href="#webServerAdmin.html_stop"><code>webServer.stop()</code></a>function or <code>WEB STOP SERVER</code> command.</span></p></li></ul><p><span>The web server of any component can be stopped by callingthe <code>webServer.stop()</code> function on the component's webserver object.</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_testing-the-4d-web-server"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_testing-the-4d-web-server"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Testing the 4D Web Server</span></h2><p><span>The <strong>Test Web Server</strong> command can be usedto make sure the built-in web server is functioning correctly (4Donly). This command is accessible in the <strong>Run</strong> menuwhen the web server is launched:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/test1.png" /></span></p><p><span>When you select this command, the home page of the websitepublished by the 4D application is displayed in a window of yourdefault web browser:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/defaultHomePage.png" /></span></p><p><span>This command lets you verify that the web server, homepage display, etc. work correctly. The page is called using the<em>localhost</em> URL, which is the standard shortcut designatingthe IP address of the machine on which the web browser is executed.The command takes into account the <a href="#webServerAdmin.html_http-port">TCP publication port</a> numberspecified in the settings.</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_clearing-the-cache"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_clearing-the-cache"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Clearing the Cache</span></h2><p><span>At any moment, you can clear the cache of the pages andimages that it contains (if, for example, you have modified astatic page and you want to reload it in the cache).</span></p><p><span>To do so, you can:</span></p><ul><li><span>4D: click on the <strong>Clear Cache</strong> button inthe Web/Options (I) page of the Settings dialog box.</span></li><li><span>4D Server: click on the <strong>Clear Cache</strong>button in the HTTP page of the <a href="#webServerAdmin.html_http-server-page">4D Server Administrationwindow</a>.</span></li></ul><p><span>The cache is then immediately cleared.</span></p><blockquote><p><span>You can also use the <a href="#webServerAdmin.html_cacheclear">/4DCACHECLEAR</a> URL.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_runtime-explorer"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_runtime-explorer"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Runtime Explorer</span></h2><p><span>The <strong>Watch</strong> page (<strong>Web</strong>heading) in the Runtime Explorer displays web server information,particularly:</span></p><ul><li><p><span><strong>Web Cache Usage</strong>: indicates the number ofpages present in the web cache as well as its use percentage. Thisinformation is only available if the web server is active and ifthe cache size is greater than 0.</span></p></li><li><p><span><strong>Web Server Elapsed Time</strong>: indicates theduration of use (in hours:minutes:seconds format) of the Webserver. This information is only available if the web server isactive.</span></p></li><li><p><span><strong>Web Hits Count</strong>: indicates the totalnumber of HTTP requests received since the web server boot, as wellas an instantaneous number of requests per second (measure takenbetween two Runtime Explorer updates). This information is onlyavailable if the web server is active.</span></p></li></ul><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_administration-urls"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_administration-urls"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Administration URLs</span></h2><p><span>Website administration URLS allow you to control thewebsite published on your server. 4D Web Server accepts fourparticular URLs: <em>/4DSTATS</em>, <em>/4DHTMLSTATS</em>,/<em>4DCACHECLEAR</em> and <em>/4DWEBTEST</em>.</span></p><blockquote><p><span><em>/4DSTATS</em>, <em>/4DHTMLSTATS</em> and<em>/4DCACHECLEAR</em> are only available to the Designer andAdministrator of the database. If the 4D password system has notbeen activated, these URLs are available to all the users./4DWEBTEST is always available.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_4dstats"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_4dstats"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>/4DSTATS</span></h3><p><span>The <strong>/4DSTATS</strong> URL returns several items ofinformation in an HTML table (displayable in a browser):</span></p><table><thead><tr><th>Item</th><th>Description</th></tr></thead><tbody><tr><td>Cache Current Size</td><td>Current size of web server cache (in bytes)</td></tr><tr><td>Cache Max Size</td><td>Maximum size of cache (in bytes)</td></tr><tr><td>Cached Object Max Size</td><td>Maximum size of each object in the cache (in bytes)</td></tr><tr><td>Cache Use</td><td>Percentage of cache used</td></tr><tr><td>Cached Objects</td><td>Number of objects found in the cache, <strong>includingpictures</strong></td></tr></tbody></table><p><span>This information can allow you to check the functioning ofyour server and eventually adapt the correspondingparameters.</span></p><blockquote><p><span>The <code>WEB GET STATISTICS</code> command allows you toalso obtain information about how the cache is being used forstatic pages.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_4dhtmlstats"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_4dhtmlstats"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>/4DHTMLSTATS</span></h3><p><span>The <em>/4DHTMLSTATS</em> URL returns, also as an HTMLtable, the same information as the <em>/4DSTATS</em> URL. Thedifference is that the <strong>Cached Objects</strong> field onlycounts HTML pages (without counting picture files). Moreover, thisURL returns the <strong>Filtered Objects</strong> field.</span></p><table><thead><tr><th>Item</th><th>Description</th></tr></thead><tbody><tr><td>Cache Current Size</td><td>Current size of web server cache (in bytes)</td></tr><tr><td>Cache Max Size</td><td>Maximum size of cache (in bytes)</td></tr><tr><td>Cached Object Max Size</td><td>Maximum size of each object in the cache (in bytes)</td></tr><tr><td>Cache Use</td><td>Percentage of cache used</td></tr><tr><td>Cached Objects</td><td>Number of objects found in the cache, <strong>withoutpictures</strong></td></tr><tr><td>Filtered Objects</td><td>Number of objects in cache not counted by URL, in particular,pictures</td></tr></tbody></table><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_4dcacheclear"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_4dcacheclear"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>/4DCACHECLEAR</span></h3><p><span>The <em>/4DCACHECLEAR</em> URL immediately clears thecache of the static pages and images. It allows you to therefore“force” the update of the pages that have been modified.</span></p><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_4dwebtest"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_4dwebtest"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>/4DWEBTEST</span></h3><p><span>The <em>/4DWEBTEST</em> URL is designed to check the webserver status. When this URL is called, 4D returns a text file withthe following HTTP fields filled:</span></p><table><thead><tr><th>HTTP Field</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>Date</td><td>current date at the RFC 822 format</td><td>Mon, 7 Dec 2020 13:12:50 GMT</td></tr><tr><td>Server</td><td>4D/version number</td><td>4D/18.5.0 (Build 18R5.257368)</td></tr><tr><td>User-Agent</td><td>name and version @ IP client address</td><td>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36(KHTML, like Gecko) Chrome/86.0.4240.183 Safari/537.36 @127.0.0.1</td></tr></tbody></table><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_logs"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_logs"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Logs</span></h2><p><span>4D allows you to generate two logs of webrequests:</span></p><ul><li><span>a debug log, useful in the web server development phase(<em>HTTPDebugLog.txt</em>),</span></li><li><span>a standardized web request log, rather used for statisticpurposes (<em>logweb.txt</em>).</span></li></ul><p><span>Both log files are automatically created in the<strong>Logs</strong> folder of the application project.</span></p><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_httpdebuglogtxt"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_httpdebuglogtxt"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTPDebugLog.txt</span></h3><p><span>The <a href="#webServerAdmin.html_debug-log">http debugfile</a> can be enabled using the <a href="#webServerObject.html"><code>web server</code> object</a> or the<code>WEB SET OPTION</code> command.</span></p><p><span>This log file records each HTTP request and each responsein raw mode. Whole requests, including headers, are logged;optionally, body parts can be logged as well.</span></p><p><span>The following fields are logged for both Request andResponse:</span></p><table><thead><tr><th>Field name</th><th>Description</th></tr></thead><tbody><tr><td>SocketID</td><td>ID of socket used for communication</td></tr><tr><td>PeerIP</td><td>IPv4 address of host (client)</td></tr><tr><td>PeerPort</td><td>Port used by host (client)</td></tr><tr><td>TimeStamp</td><td>Timestamp in milliseconds (since system startup)</td></tr><tr><td>ConnectionID</td><td>Connection UUID (UUID of VTCPSocket used forcommunication)</td></tr><tr><td>SequenceNumber</td><td>Unique and sequential operation number in the loggingsession</td></tr></tbody></table><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_logwebtxt"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_logwebtxt"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>logweb.txt</span></h3><p><span>The <a href="#webServerAdmin.html_log-recording">web logrecording file</a> can be enabled using the <a href="#webServerObject.html"><code>web server</code> object</a>, the<code>WEB SET OPTION</code> command, or the <strong>Web/Log(type)</strong> page of the settings. You need to select the logformat.</span></p><h4><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_clfdlf"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_clfdlf"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>CLF/DLF</span></h4><p><span>Each line of the file represents a request, such as:<em>host rfc931 user [DD/MMM/YYYY:HH:MM:SS] "request" statelength</em> Each field is separated by a space and each line endsby the CR/LF sequence (character 13, character 10).</span></p><p><span>DLF (Combined Log Format) format is similar to CLF (CommonLog Format) format and uses exactly the same structure. It simplyadds two additional HTTP fields at the end of each request: Refererand User-agent. Here is the description of CLF/DLF formats (notcustomizable):</span></p><table><thead><tr><th>Field name</th><th>Description</th></tr></thead><tbody><tr><td>host</td><td>IP address of the client (ex. 192.100.100.10)</td></tr><tr><td>rfc931</td><td>information not generated by 4D, it’s always - (a minussign</td></tr><tr><td>user</td><td>user name as it is authenticated, or else it is - (a minussign). If the user name contains spaces, they will be replaced by _(an underscore).</td></tr><tr><td>DD/MMM/YYYY:HH:MM:SS</td><td>DD: day, MMM: a 3-letter abbreviation for the month name (Jan,Feb,...), YYYY: year, HH: hour, MM: minutes, SS: seconds. The dateand time are local to the server.</td></tr><tr><td>request</td><td>request sent by the client (ex. GET /index.htm HTTP/1.0</td></tr><tr><td>state</td><td>reply given by the server</td></tr><tr><td>length</td><td>size of the data returned (except the HTTP header) or 0</td></tr><tr><td>Referer</td><td>DLF only- Contains the URL of the page pointing to therequested document.</td></tr><tr><td>User-agent</td><td>DLF only- Contains the name and version of the browser orsoftware of the client at the origin of the request</td></tr></tbody></table><h4><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_elfwlf"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_elfwlf"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ELF/WLF</span></h4><p><span>The ELF (Extended Log Format) format is very widespread inthe world of HTTP browsers. It can be used to build sophisticatedlogs that meet specific needs. For this reason, the ELF format canbe customized: it is possible to choose the fields to be recordedas well as their order of insertion into the file.</span></p><p><span>The WLF (WebStar Log Format) was developed specificallyfor the 4D WebSTAR server.</span></p><h5><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_configuring-the-fields"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_configuring-the-fields"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Configuring the fields</span></h5><p><span>When you choose the ELF or WLF format, the “Web Log TokenSelection” area displays the fields available for the chosenformat. You will need to select each field to be included in thelog. To do so, check the desired fields.</span></p><blockquote><p><span>You cannot select the same field twice.</span></p></blockquote><p><span>The following table lists the fields available for eachformat (in alphabetical order) and describes itscontents:</span></p><table><thead><tr><th>Field</th><th>ELF</th><th>WLF</th><th>Value</th></tr></thead><tbody><tr><td>BYTES_RECEIVED</td><td></td><td>X</td><td>Number of bytes received by the server</td></tr><tr><td>BYTES_SENT</td><td>X</td><td>X</td><td>Number of bytes sent by the server to the client</td></tr><tr><td>C_DNS</td><td>X</td><td>X</td><td>IP address of the DNS (ELF: field identical to the C_IPfield)</td></tr><tr><td>C_IP</td><td>X</td><td>X</td><td>IP address of the client (for example 192.100.100.10)</td></tr><tr><td>CONNECTION_ID</td><td></td><td>X</td><td>Connection ID number</td></tr><tr><td>CS(COOKIE)</td><td>X</td><td>X</td><td>Information about cookies contained in the HTTP request</td></tr><tr><td>CS(HOST)</td><td>X</td><td>X</td><td>Host field of the HTTP request</td></tr><tr><td>CS(REFERER)</td><td>X</td><td>X</td><td>URL of the page pointing to the requested document</td></tr><tr><td>CS(USER_AGENT)</td><td>X</td><td>X</td><td>Information about the software and operating system of theclient</td></tr><tr><td>CS_SIP</td><td>X</td><td>X</td><td>IP address of the server</td></tr><tr><td>CS_URI</td><td>X</td><td>X</td><td>URI on which the request is made</td></tr><tr><td>CS_URI_QUERY</td><td>X</td><td>X</td><td>Request query parameters</td></tr><tr><td>CS_URI_STEM</td><td>X</td><td>X</td><td>Part of request without query parameters</td></tr><tr><td>DATE</td><td>X</td><td>X</td><td>DD: day, MMM: 3-letter abbreviation for month (Jan, Feb, etc.),YYYY: year</td></tr><tr><td>METHOD</td><td>X</td><td>X</td><td>HTTP method used for the request sent to the server</td></tr><tr><td>PATH_ARGS</td><td></td><td>X</td><td>CGI parameters: string located after the “$” character</td></tr><tr><td>STATUS</td><td>X</td><td>X</td><td>Reply provided by the server</td></tr><tr><td>TIME</td><td>X</td><td>X</td><td>HH: hour, MM: minutes, SS: seconds</td></tr><tr><td>TRANSFER_TIME</td><td>X</td><td>X</td><td>Time requested by server to generate the reply</td></tr><tr><td>USER</td><td>X</td><td>X</td><td>User name if authenticated; otherwise - (minus sign). If theuser name contains spaces, they are replaced by _ (underlines)</td></tr><tr><td>URL</td><td></td><td>X</td><td>URL requested by the client</td></tr></tbody></table><blockquote><p><span>Dates and times are given in GMT.</span></p></blockquote><h4><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_backup-frequency"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_backup-frequency"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Backup Frequency</span></h4><p><span>Since a <em>logweb.txt</em> file can become considerablylarge, it is possible to set up an automatic archiving mechanism.The triggering of a backup can be based on a certain period of time(expressed in hours, days, week or months), or based on the filesize; when the set deadline (or file size) is reached, 4Dautomatically closes and archives the current log file and createsa new one.</span></p><p><span>When the web log file backup is triggered, the log file isarchived in a folder named "Logweb Archives," which is created atthe same level as the <em>logweb.txt</em> file.</span></p><p><span>The archived file is renamed based on the followingexample: “DYYYY_MM_DD_Thh_mm_ss.txt.” For instance, for a filearchived on September 4, 2020 at 3:50 p.m. and 7 seconds:“D2020_09_04_T15_50_07.txt.”</span></p><h4><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_backup-parameters"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_backup-parameters"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Backup Parameters</span></h4><p><span>The automatic backup parameters for the logweb.txt are seton the <strong>Web/Log (backup)</strong> page of theSettings:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/backup.png" /></span></p><p><span>First you must choose the frequency (days, weeks, etc.) orthe file size limit criterion by clicking on the correspondingradio button. You must then specify the precise moment of thebackup if necessary.</span></p><ul><li><p><span><strong>No Backup</strong>: The scheduled backup functionis deactivated.</span></p></li><li><p><span><strong>Every X hour(s)</strong>: This option is used toprogram backups on an hourly basis. You can enter a value between 1and 24 .</span></p><ul><li><span><strong>starting at</strong>: Used to set the time atwhich the first back up will begin.</span></li></ul></li><li><p><span><strong>Every X day(s) at X</strong>: This option is usedto program backups on a daily basis. Enter 1 if you want to performa daily backup. When this option is checked, you must indicate thetime when the backup must be started.</span></p></li><li><p><span><strong>Every X week(s), day at X</strong>: This option isused to program backups on a weekly basis. Enter 1 if you want toperform a weekly backup. When this option is checked, you mustindicate the day(s) of the week and the time when each backup mustbe started. You can select several days of the week if desired. Forexample, you can use this option to set two weekly backups: one onWednesdays and one on Fridays.</span></p></li><li><p><span><strong>Every X month(s), Xth day at X</strong>: Thisoption is used to program backups on a monthly basis. Enter 1 ifyou want to perform a monthly backup. When this option is checked,you must indicate the day of the month and the time when the backupmust be started.</span></p></li><li><p><span><strong>Every X MB</strong>: This option is used toprogram backups based on the size of the current request log file.A backup is automatically triggered when the file reaches the setsize. You can set a size limit of 1, 10, 100 or 1000 MB.</span></p></li></ul></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#webServerConfig.html"><span class="arrow-prev">←</span><span>Configuration</span></a><a class="docs-next button" href="#webServerObject.html"><span>Web Server object</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#webServerAdmin.html_starting-the-4d-web-server">Starting the 4DWeb Server</a></li><li><a href="#webServerAdmin.html_stopping-the-4d-web-server">Stopping the 4DWeb Server</a></li><li><a href="#webServerAdmin.html_testing-the-4d-web-server">Testing the 4D WebServer</a></li><li><a href="#webServerAdmin.html_clearing-the-cache">Clearing theCache</a></li><li><a href="#webServerAdmin.html_runtime-explorer">RuntimeExplorer</a></li><li><a href="#webServerAdmin.html_administration-urls">Administration URLs</a><ul class="toc-headings"><li><a href="#webServerAdmin.html_4dstats">/4DSTATS</a></li><li><a href="#webServerAdmin.html_4dhtmlstats">/4DHTMLSTATS</a></li><li><a href="#webServerAdmin.html_4dcacheclear">/4DCACHECLEAR</a></li><li><a href="#webServerAdmin.html_4dwebtest">/4DWEBTEST</a></li></ul></li><li><a href="#webServerAdmin.html_logs">Logs</a><ul class="toc-headings"><li><a href="#webServerAdmin.html_httpdebuglogtxt">HTTPDebugLog.txt</a></li><li><a href="#webServerAdmin.html_logwebtxt">logweb.txt</a></li></ul></li></ul></nav></div></div></body></html>