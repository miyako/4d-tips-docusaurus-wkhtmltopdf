<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="es"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Objetos y colecciones compartidos · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="**Los objetos compartidos** y **las colecciones compartidas** son [objetos](/docs/Rx/es/Concepts/object.html) y [colecciones](/docs/Rx/es/Concepts/collection.html) específicas cuyo contenido se comparte entre procesos. A diferencia de las [variables interproceso](/docs/Rx/es/Concepts/variables.html#interprocess-variables), los objetos compartidos y las colecciones compartidas tienen la ventaja de ser compatibles con los **procesos 4D apropiativos**: pueden pasarse por referencia como parámetros a comandos como `New process` o `CALL WORKER`."name="description" /><meta content="es" name="docsearch:language" /><meta content="Objetos y colecciones compartidos · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="**Los objetos compartidos** y **las colecciones compartidas** son [objetos](/docs/Rx/es/Concepts/object.html) y [colecciones](/docs/Rx/es/Concepts/collection.html) específicas cuyo contenido se comparte entre procesos. A diferencia de las [variables interproceso](/docs/Rx/es/Concepts/variables.html#interprocess-variables), los objetos compartidos y las colecciones compartidas tienen la ventaja de ser compatibles con los **procesos 4D apropiativos**: pueden pasarse por referencia como parámetros a comandos como `New process` o `CALL WORKER`."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#shared.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Objetos y coleccionescompartidos<a aria-hidden="true" class="anchor" id="shared.html"></a></h1></header><article><div><p><span><strong>Los objetos compartidos</strong> y <strong>lascolecciones compartidas</strong> son <a href="#object.html">objetos</a> y <a href="#collection.html">colecciones</a> específicas cuyo contenido secomparte entre procesos. A diferencia de las <a href="#shared.html_interprocess-variables">variables interproceso</a>,los objetos compartidos y las colecciones compartidas tienen laventaja de ser compatibles con los <strong>procesos 4Dapropiativos</strong>: pueden pasarse por referencia comoparámetros a comandos como <code>New process</code> o <code>CALLWORKER</code>.</span></p><p><span>Los objetos compartidos y las colecciones compartidaspueden almacenarse en variables declaradas con los comandosestándar <code>C_OBJECT</code> y <code>C_COLLECTION</code>, perodeben instanciarse utilizando comandos específicos:</span></p><ul><li><span>para crear un objeto compartido, utilice el comando<code>New shared object</code>,</span></li><li><span>para crear una colección compartida, utilice el comando<code>New shared collection</code>.</span></li></ul><p><span><strong>Nota:</strong> los objetos y coleccionescompartidos pueden definirse como propiedades de objetos ocolecciones estándar (no compartidos).</span></p><p><span>Para modificar un objeto/colección compartido, se debellamar a la estructura <strong>Use...End use</strong>. La lecturade un valor de objeto/colección compartido no requiere<strong>Use...End use</strong>.</span></p><p><span>Un catálogo único y global devuelto por el comando<code>Storage</code> está siempre disponible en toda la aplicacióny sus componentes, y puede utilizarse para almacenar todos losobjetos y colecciones compartidos.</span></p><h2><span><a aria-hidden="true" class="anchor" id="shared.html_utilizaci%C3%B3n-de-objetos-o-colecciones-compartidos"></a><a aria-hidden="true" class="hash-link" href="#shared.html_utilizaci%25C3%25B3n-de-objetos-o-colecciones-compartidos"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Utilización de objetos o coleccionescompartidos</span></h2><p><span>Una vez instanciado con los comandos <code>Nuevo objetocompartido</code> o <code>Nueva colección compartida</code>, laspropiedades y elementos del objeto compartido/colección pueden sermodificados o leídos desde cualquier proceso de laaplicación.</span></p><h3><span><a aria-hidden="true" class="anchor" id="shared.html_modificaci%C3%B3n"></a><a aria-hidden="true" class="hash-link" href="#shared.html_modificaci%25C3%25B3n"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Modificación</span></h3><p><span>Las siguientes modificaciones pueden efectuarse en objetosy colecciones compartidos:</span></p><ul><li><span>añadir o eliminar propiedades de los objetos,</span></li><li><span>añadir o editar valores (siempre que se soporten enobjetos compartidos), incluyendo otros objetos compartidos ocolecciones (lo que crea un grupo compartido, verabajo).</span></li></ul><p><span>Sin embargo, todas las instrucciones de modificación en unobjeto compartido o colección deben estar rodeadas por las palabrasclave <code>Use...End use</code>, de lo contrario se genera unerror.</span></p><pre><span><code class="hljs css language-4d"> <span class="hljs-variable">$s_obj</span>:=<span class="hljs-function">New shared object</span>(<span class="hljs-string">"prop1"</span>;<span class="hljs-string">"alpha"</span>)<span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$s_obj</span>)    <span class="hljs-variable">$s_obj</span>.prop1:=<span class="hljs-string">"omega"</span> End<span class="hljs-keyword"> Use</span></code></span></pre><p>Un objeto/una colección compartido(a) sólo puede modificarse porun proceso a la vez. <code>Use</code> bloquea el objeto/coleccióncompartida para los otros hilos, mientras que <code>End use</code>desbloquea el objeto/colección compartida (si el contador debloqueo está a 0, ver más adelante). . Intentar modificar unobjeto/colección compartido sin al menos un <code>Use...Enduse</code> genera un error. Cuando un proceso llama a<code>Use...End use</code> en un objeto/colección compartido que yaestá en uso por otro proceso, simplemente se pone en espera hastaque el <code>End use</code> lo desbloquee (no se genera ningúnerror). En consecuencia, las instrucciones dentro de lasestructuras <code>Use...End use</code> deben ejecutarse rápidamentey desbloquear los elementos lo antes posible. Por lo tanto, serecomienda enfáticamente evitar modificar un objeto o coleccióncompartido directamente desde la interfaz, por ejemplo, a través deuna caja de diálogo.</p><p>La asignación de objetos/colecciones compartidos a propiedades oelementos de otros objetos/colecciones compartidos está permitida ycrea <strong>grupos compartidos</strong>. Un grupo compartido secrea automáticamente cuando un objeto/colección compartido sedefine como valor de propiedad o elemento de otro objeto/coleccióncompartido. Los grupos compartidos permiten anidar objetos ycolecciones compartidos, pero imponen reglas adicionales:</p><ul><li>Al llamar a <code>Use</code> en un objeto/colección compartidoque pertenece a un grupo se bloquean las propiedades/elementos detodos los objetos/colecciones del grupo y se incrementa su conteode bloqueo. La llamada a <code>End use</code> disminuye el contadorde bloqueo del grupo y cuando el contador está a 0, todos losobjetos/colecciones compartidos vinculados se desbloquean.</li><li>Un objeto/colección compartido sólo puede pertenecer a un grupocompartido. Se devuelve un error si se intenta asignar unobjeto/colección compartido ya agrupado a un grupo diferente.</li><li>Los objetos/colecciones compartidos agrupados no se puedendesagrupar. Una vez incluido en un grupo compartido, unobjeto/colección compartido queda vinculado permanentemente a esegrupo durante toda la sesión. Incluso si todas las referencias deun objeto/colección se eliminan del objeto/colección padre,seguirán vinculadas.</li></ul><p>Consulte el ejemplo 2 para ver una ilustración de las reglas delos grupos compartidos.</p><p><strong>Nota:</strong> Los grupos compartidos se gestionan através de una propiedad interna llamada <em>lockingidentifier</em>. Para obtener información detallada sobre estevalor, consulte la guía del desarrollador de 4D.</p><h3><a aria-hidden="true" class="anchor" id="shared.html_lectura"></a><a aria-hidden="true" class="hash-link"href="#shared.html_lectura"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Lectura</h3><p>Se permite la lectura de propiedades o elementos de unobjeto/colección compartida sin tener que llamar a la estructura<code>Use...End use</code>, incluso si el objeto/coleccióncompartida está en uso por otro proceso.</p><p>Sin embargo, cuando varios valores son interdependientes y debenser leídos simultáneamente, es necesario enmarcar el acceso delectura con una estructura <code>Use...End use</code> porcoherencia.</p><h3><a aria-hidden="true" class="anchor" id="shared.html_duplication"></a><a aria-hidden="true" class="hash-link" href="#shared.html_duplication"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Duplication</h3><p>Llamar a <code>OB Copy</code> con un objeto compartido (o con unobjeto cuyas propiedades son objetos compartidos) es posible, peroen este caso se devuelve un objeto estándar (no compartido).</p><h3><a aria-hidden="true" class="anchor" id="shared.html_storage"></a><a aria-hidden="true" class="hash-link"href="#shared.html_storage"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Storage</h3><p><strong>Storage</strong> es un objeto compartido único,disponible automáticamente en cada aplicación y máquina. Esteobjeto compartido es devuelto por el comando <code>Storage</code>.Puede utilizar este objeto para hacer referencia a todos losobjetos/colecciones compartidos definidos durante la sesión quedesee que estén disponibles desde cualquier proceso preventivo oestándar.</p><p>Tenga en cuenta que, a diferencia de los objetos compartidosestándar, el objeto <code>Storage</code> no crea un grupocompartido cuando se añaden objetos/colecciones compartidos comosus propiedades. Esta excepción permite utilizar el objeto<strong>Storage</strong> sin bloquear todos los objetos ocolecciones compartidos conectados.</p><p>Para más información, consulte la descripción del comando<code>Storage</code>.</p><h2><a aria-hidden="true" class="anchor" id="shared.html_useend-use"></a><a aria-hidden="true" class="hash-link" href="#shared.html_useend-use"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Use...End use</h2><p>La sintaxis de la estructura <code>Use...End use</code> es:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Use</span>(Shared_object_or_Shared_collection)<span class="hljs-function">    instrucción</span>(es)<span class="hljs-keyword"> End use</span></code></pre><p>La estructura <code>Use...End use</code> define una secuencia deinstrucciones que ejecutarán tareas sobre el parámetro<em>Shared_object_or_Shared_collection</em> bajo la protección deun semáforo interno. <em>Shared_object_or_Shared_collection</em>puede ser cualquier objeto o colección compartido válido.</p><p>Los objetos compartidos y las colecciones compartidas estándiseñados para permitir la comunicación entre procesos, enparticular, <strong>procesos 4D preferentes</strong>. Se puedenpasar por referencia como parámetros de un proceso a otro. Paraobtener información detallada sobre los objetos compartidos o lascolecciones compartidas, consulte la página <strong>Objetos ycolecciones compartidos</strong>. Es obligatorio rodear lasmodificaciones en los objetos o colecciones compartidas con laspalabras clave <code>Use...End use</code> para evitar el accesoconcurrente entre procesos.</p><ul><li>Una vez que se ejecuta con éxito la línea <strong>Use</strong>,todas las propiedades/elementos de<em>Shared_object_or_Shared_collection</em> se bloquean para elresto de procesos en acceso de escritura hasta que se ejecute lalínea <code>End use</code> correspondiente.</li><li>La secuencia <em>de instrucciones</em> puede ejecutar cualquiermodificación en las propiedades/elementos deShared_object_o_Shared_collection sin riesgo de accesoconcurrente.</li><li>Si se añade otro objeto o colección compartida como propiedaddel parámetro <em>Shared_object_or_Shared_collection</em>, seconectan dentro del mismo grupo compartido (ver <strong>Uso deobjetos o colecciones compartidos</strong>).</li><li>Si otro proceso intenta acceder a una de las propiedades<em>Objeto_compartido_o_Colección_compartida</em> o una propiedadconectad mientras se está ejecutando una secuencia <strong>Use...End use</strong>, se pone automáticamente en espera y espera hastaque la secuencia actual finalice.</li><li>La línea <strong>End use</strong> desbloquea las propiedades<em>Shared_object_or_Shared_collection</em> y todos los objetos delmismo grupo.</li><li>En el código 4D se pueden anidar varias estructuras<strong>Use...End use</strong>. En el caso de un grupo, cada<strong>Use</strong> incrementa el contador de bloqueo del grupo ycada <strong>End use</strong> lo disminuye; todas laspropiedades/elementos se liberarán sólo cuando la última llamada<strong>End use</strong> ponga el contador de bloqueo a 0.</li></ul><p><strong>Nota:</strong> si un método de una colección modificauna colección compartida, se llama automáticamente un<strong>Use</strong> interno para esta colección compartidamientras se ejecuta la función.</p><h2><a aria-hidden="true" class="anchor" id="shared.html_ejemplo-1"></a><a aria-hidden="true" class="hash-link"href="#shared.html_ejemplo-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Ejemplo 1</h2><p>Se desea lanzar varios procesos que realicen una tarea deinventario en diferentes productos y que actualicen el mismo objetocompartido. El proceso principal instancia un objeto compartidovacío y luego, lanza los otros procesos, pasando el objetocompartido y los productos a contar como parámetros:</p><pre><code class="hljs css language-4d"><span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$_items</span>;<span class="hljs-number">0</span>) ... <span class="hljs-comment">//llenar el array con los elementos a contar</span> <span class="hljs-variable">$nbItems</span>:=<span class="hljs-function">Size of array</span>(<span class="hljs-variable">$_items</span>)<span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$inventory</span>) <span class="hljs-variable">$inventory</span>:=New shared object<span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$inventory</span>)    <span class="hljs-variable">$inventory</span>.nbItems:=<span class="hljs-variable">$nbItems</span><span class="hljs-keyword"> End use</span>  <span class="hljs-comment">//Crear procesos</span><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$i</span>;<span class="hljs-number">1</span>;<span class="hljs-variable">$nbItems</span>)    <span class="hljs-variable">$ps</span>:=<span class="hljs-function">New process</span>(<span class="hljs-string">"HowMany"</span>;<span class="hljs-number">0</span>;<span class="hljs-string">"HowMany_"</span>+<span class="hljs-variable">$_items{</span><span class="hljs-variable">$i}</span>;<span class="hljs-variable">$_items{</span><span class="hljs-variable">$i}</span>;<span class="hljs-variable">$inventory</span>)  <span class="hljs-comment">//$inventory object sent by reference</span><span class="hljs-keyword"> End for</span></code></pre><p>En el método "HowMany", el inventario se realiza y el objetocompartido $inventory se actualiza lo antes posible:</p><pre><code class="hljs css language-4d"><span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$1</span>)<span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$what</span>)<span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$2</span>)<span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$inventory</span>) <span class="hljs-variable">$what</span>:=<span class="hljs-variable">$1 </span><span class="hljs-comment">//para una mejor legibilidad</span> <span class="hljs-variable">$inventory</span>:=<span class="hljs-variable">$2</span> <span class="hljs-variable">$count</span>:=<span class="hljs-function">CountMethod</span>(<span class="hljs-variable">$what</span>) <span class="hljs-comment">//método para contar productos</span><span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$inventory</span>) <span class="hljs-comment">//utilizar el objeto compartido</span>    <span class="hljs-variable">$inventory</span>[<span class="hljs-variable">$what</span>]:=<span class="hljs-variable">$count  </span><span class="hljs-comment">//guardar los resultados de este artículo</span><span class="hljs-keyword"> End use</span></code></pre><h2><a aria-hidden="true" class="anchor" id="shared.html_ejemplo-2"></a><a aria-hidden="true" class="hash-link"href="#shared.html_ejemplo-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Ejemplo 2</h2><p>Los siguientes ejemplos ilustran las reglas específicas para elmanejo de los grupos compartidos:</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$ob1</span>:=New shared object <span class="hljs-variable">$ob2</span>:=New shared object<span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$ob1</span>)    <span class="hljs-variable">$ob1</span>.a:=<span class="hljs-variable">$ob2  </span><span class="hljs-comment">//se crea el grupo 1</span><span class="hljs-keyword"> End use</span> <span class="hljs-variable">$ob3</span>:=New shared object <span class="hljs-variable">$ob4</span>:=New shared object<span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$ob3</span>)    <span class="hljs-variable">$ob3</span>.a:=<span class="hljs-variable">$ob4  </span><span class="hljs-comment">//se crea el grupo 2</span><span class="hljs-keyword"> End use</span><span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$ob1</span>) <span class="hljs-comment">//utilizar un objeto del grupo 1</span>    <span class="hljs-variable">$ob1</span>.b:=<span class="hljs-variable">$ob4  </span><span class="hljs-comment">//ERROR</span>  <span class="hljs-comment">//$ob4 ya pertenece a otro grupo</span>  <span class="hljs-comment">//la asignación no está permitida</span><span class="hljs-keyword"> End use</span><span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$ob3</span>)    <span class="hljs-variable">$ob3</span>.a:=<span class="hljs-literal">Null</span> <span class="hljs-comment">//eliminar cualquier referencia a $ob4 del grupo 2</span><span class="hljs-keyword"> End use</span><span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$ob1</span>) <span class="hljs-comment">//utilizar un objeto del grupo 1</span>    <span class="hljs-variable">$ob1</span>.b:=<span class="hljs-variable">$ob4  </span><span class="hljs-comment">//ERROR</span>  <span class="hljs-comment">//$ob4 aún pertenece al grupo 2</span>  <span class="hljs-comment">//la asignación no está permitida</span><span class="hljs-keyword"> End use</span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#parameters.html"><span class="arrow-prev">←</span><span>Parámetros</span></a><a class="docs-next button" href="#classes.html"><span>Clases</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#shared.html_utilizaci%25C3%25B3n-de-objetos-o-colecciones-compartidos">Utilización de objetos o colecciones compartidos</a><ul class="toc-headings"><li><a href="#shared.html_modificaci%25C3%25B3n">Modificación</a></li><li><a href="#shared.html_lectura">Lectura</a></li><li><a href="#shared.html_duplication">Duplication</a></li><li><a href="#shared.html_storage">Storage</a></li></ul></li><li><a href="#shared.html_useend-use">Use...End use</a></li><li><a href="#shared.html_ejemplo-1">Ejemplo 1</a></li><li><a href="#shared.html_ejemplo-2">Ejemplo 2</a></li></ul></nav></div></div></body></html>