<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="es"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Estructuras condicionales · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Una estructura de ramificación permite que los métodos prueben una condición y tomen caminos alternativos, en función del resultado."name="description" /><meta content="es" name="docsearch:language" /><meta content="Estructuras condicionales · 4D Documentation"property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Una estructura de ramificación permite que los métodos prueben una condición y tomen caminos alternativos, en función del resultado."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#cf_branching.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Estructurascondicionales<a aria-hidden="true" class="anchor" id="branching.html"></a></h1></header><article><div><p><span>Una estructura de ramificación permite que los métodosprueben una condición y tomen caminos alternativos, en función delresultado.</span></p><h2><span><a aria-hidden="true" class="anchor" id="branching.html_ifelseend-if"></a><a aria-hidden="true" class="hash-link" href="#branching.html_ifelseend-if"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>If...Else...End if</span></h2><p><span>La sintaxis de la estructura condicional<code>If...Else...End if</code> es:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(Boolean_Expression)<span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> Else</span><span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> End if</span></code></span></pre><p>Tenga en cuenta que la parte <code>Else</code> es opcional;puede escribir:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(Boolean_Expression)<span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> End if</span></code></pre><p>La estructura <code>If...Else...End if</code> permite a sumétodo elegir entre dos acciones, dependiendo de si una prueba (unaexpresión booleana) es TRUE o FALSE. Cuando la expresión booleanaes TRUE, se ejecutan las sentencias que siguen inmediatamente a laprueba. Si la expresión booleana es FALSE, se ejecutan lasinstrucciones que siguen a la línea Else. El <code>Else</code> esopcional; si se omite Else, la ejecución continúa con la primerainstrucción (si la hay) que sigue al <code>End if</code>.</p><p>Tenga en cuenta que la expresión booleana siempre se evalúacompletamente. Considere en particular la siguiente prueba:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(MethodA &amp; MethodB)    ...<span class="hljs-keyword"> End if</span></code></pre><p>La expresión es TRUE sólo si los dos métodos son TRUE. Sinembargo, incluso si <em>MethodA</em> devuelve FALSE, 4D seguiráevaluando <em>MethodB</em>, lo que supone una pérdida de tiempoinútil. En este caso, es más interesante utilizar una estructuracomo:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(MethodA)<span class="hljs-keyword">    If</span>(MethodB)       ...<span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span></code></pre><p>El resultado es similar y <em>MethodB</em> se evalúa sólo si esnecesario.</p><blockquote><p><strong>Note:</strong> The <a href="#branching.html_ternary-operator">ternary operator</a> allowswriting one-line conditional expressions and can replace a fullsequence of <a href="#branching.html_ifelseend-if">If…Else</a>statements.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="branching.html_ejemplo"></a><a aria-hidden="true" class="hash-link" href="#branching.html_ejemplo"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Ejemplo</h3><pre><code class="hljs css language-4d">  <span class="hljs-comment">// Pedir al usuario que introduzca un nombre</span> <span class="hljs-variable">$Find</span>:=<span class="hljs-function">Request</span>(Type a name)<span class="hljs-function"> Si</span>(OK=<span class="hljs-number">1</span>)<span class="hljs-function">    QUERY</span>([People];[People]LastName=<span class="hljs-variable">$Find</span>)<span class="hljs-keyword"> Else</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"No ha introducido un nombre."</span>)<span class="hljs-keyword"> End if</span><span class="hljs-keyword"> End if</span><span class="hljs-keyword"> End if</span><span class="hljs-keyword"> End if</span> </code></pre><p><strong>Consejo:</strong> la ramificación puede realizarse sinque las instrucciones se ejecuten en un caso u otro. Al desarrollarun algoritmo o una aplicación especializada, nada le impideescribir:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(Boolean_Expression)<span class="hljs-keyword"> Else</span><span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> End if</span></code></pre><p>o:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(Boolean_Expression)<span class="hljs-function">    statement</span>(s)<span class="hljs-keyword"> Else</span><span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="branching.html_case-of-elseend-case"></a><a aria-hidden="true"class="hash-link" href="#branching.html_case-of-elseend-case"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Case of... Else...End case</h2><p>La sintaxis de la estructura condicional <code>Caseof...Else...End case</code> es:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)       .       .       .    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)<span class="hljs-keyword">    Else</span><span class="hljs-function">       statement</span>(s)<span class="hljs-keyword"> End case</span></code></pre><p>Tenga en cuenta que la parte <code>Else</code> es opcional;puede escribir:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)       .       .       .    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)<span class="hljs-keyword"> End case</span></code></pre><p>Al igual que la estructura <code>If...Else...End if</code>, laestructura <code>Case of...Else...End case</code> también permite asu método elegir entre acciones alternativas. A diferencia de laestructura <code>If...Else...End</code>, la estructura <code>Caseof...Else...End case</code> puede probar un número razonablementeilimitado de expresiones booleanas y realizar una accióndependiendo de cuál sea TRUE.</p><p>Cada expresión booleana va precedida de dos puntos(<code>:</code>). Esta combinación de los dos puntos y la expresiónbooleana se llama un caso. Por ejemplo, la siguiente línea es uncaso:</p><pre><code class="hljs css language-4d">:(bValidate=<span class="hljs-number">1</span>)</code></pre><p>Sólo se ejecutarán las instrucciones que sigan al primer casoTRUE (y hasta el siguiente). Si ninguno de los casos es TRUE, no seejecutará ninguna de las instrucciones (si no se incluye la parte<code>Else</code>).</p><p>Puede incluir una instrucción Else después del último caso. Sitodos los casos son FALSE, se ejecutarán las instruccionessiguientes al <code>Else</code>.</p><h3><a aria-hidden="true" class="anchor" id="branching.html_ejemplo-1"></a><a aria-hidden="true" class="hash-link" href="#branching.html_ejemplo-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Ejemplo</h3><p>Este ejemplo comprueba una variable numérica y muestra un cuadrode alerta con una palabra:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(vResult=<span class="hljs-number">1</span>) <span class="hljs-comment">//Probar si el número es 1</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"One."</span>) <span class="hljs-comment">//Si es 1, mostrar una alerta</span>    :(vResult=<span class="hljs-number">2</span>) <span class="hljs-comment">//Probar si el número es 2</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"Two."</span>)<span class="hljs-keyword"> Case of</span>    :(vResult=<span class="hljs-number">1</span>) <span class="hljs-comment">//Probar si el número es 1</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"One."</span>) <span class="hljs-comment">//Si es 1, mostrar una alerta</span>    :(vResult=<span class="hljs-number">2</span>) <span class="hljs-comment">//Probar si el número es 2</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"Two."</span>) <span class="hljs-comment">//Si es 2, mostrar una alerta</span>    :(vResult=<span class="hljs-number">3</span>) <span class="hljs-comment">//Probar si el número es 3</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"Three."</span>) <span class="hljs-comment">//Si es 3, mostrar una alerta</span><span class="hljs-keyword">    Else</span> <span class="hljs-comment">//Si no es 1, 2 o 3, mostrar una alerta</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"It was not one, two, or three."</span>) <span class="hljs-comment">//statement(s)</span><span class="hljs-keyword"> End case</span> <span class="hljs-comment">//Si es 3, mostrar una alerta</span><span class="hljs-keyword">    Else</span> <span class="hljs-comment">//Si no es 1, 2 o 3, mostrar una alerta</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"It was not one, two, or three."</span>) <span class="hljs-comment">//statement(s)</span><span class="hljs-keyword"> End case</span> <span class="hljs-comment">//Si es 1, mostrar una alerta</span>    :(vResult=<span class="hljs-number">2</span>) <span class="hljs-comment">//Probar si el número es 2</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"Two."</span>) <span class="hljs-comment">//Si es 2, mostrar una alerta</span>    :(vResult=<span class="hljs-number">3</span>) <span class="hljs-comment">//Probar si el número es 3</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"Three."</span>) <span class="hljs-comment">//Si es 3, mostrar una alerta</span><span class="hljs-keyword">    Else</span> <span class="hljs-comment">//Si no es 1, 2 o 3, mostrar una alerta</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"It was not one, two, or three."</span>)<span class="hljs-keyword"> End case</span></code></pre><p>Para comparar, aquí está la versión <code>If...Else...Endif</code> del mismo método:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> If</span>(vResult=<span class="hljs-number">1</span>) <span class="hljs-comment">//Probar si el número es 1</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"One."</span>) <span class="hljs-comment">//Si es 1, mostrar una alerta</span><span class="hljs-keyword"> Else</span><span class="hljs-keyword">    If</span>(vResult=<span class="hljs-number">2</span>) <span class="hljs-comment">//Probar si el número es 2</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"Two."</span>) <span class="hljs-comment">//Si es 2, mostrar una alerta</span><span class="hljs-keyword">    Else</span><span class="hljs-keyword">       If</span>(vResult=<span class="hljs-number">3</span>) <span class="hljs-comment">//Probar si el número es 3</span><span class="hljs-function">          ALERT</span>(<span class="hljs-string">"Three."</span>) <span class="hljs-comment">//Si es 3, mostrar una alerta</span><span class="hljs-keyword">    Else</span> <span class="hljs-comment">//Si no es 1, 2 o 3, mostrar una alerta</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"It was not one, two, or three."</span>)<span class="hljs-keyword">       End if</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span></code></pre><p>Recuerde que con una estructura <code>Case of... Else...Endcase</code>, sólo se ejecuta el primer caso TRUE. Aunque dos o máscasos sean TRUE, sólo se ejecutarán las instrucciones que siguen alprimer caso TRUE.</p><p>En consecuencia, cuando quiera implementar pruebas jerárquicas,debe asegurarse de que las declaraciones de condición que están másabajo en el esquema jerárquico aparezcan primero en la secuencia depruebas. Por ejemplo, si se quiere procesar el caso simple(vResult=1) y el caso complejo (vResult=1) &amp; (vCondition#2) yse estructura el método de la siguiente manera: Por ejemplo, elsiguiente código nunca verá detectada su última condición:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(vResult=<span class="hljs-number">1</span>)       ... <span class="hljs-comment">//statement(s)</span>    :((vResult=<span class="hljs-number">1</span>) &amp; (vCondition#<span class="hljs-number">2</span>)) <span class="hljs-comment">//este caso nunca será detectado</span>       ... <span class="hljs-comment">//statement(s)</span><span class="hljs-keyword"> End case</span></code></pre><p>En el código anterior, la presencia de la segunda condición nose detecta, ya que la prueba "vResult=1" ramifica el código antesde cualquier otra prueba. Para que el código funcionecorrectamente, puedes escribirlo así:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :((vResult=<span class="hljs-number">1</span>) &amp; (vCondition#<span class="hljs-number">2</span>)) <span class="hljs-comment">//este caso será detectado primero</span>       ... <span class="hljs-comment">//statement(s)</span>    :(vResult=<span class="hljs-number">1</span>)       ... <span class="hljs-comment">//statement(s)</span><span class="hljs-keyword"> End case</span></code></pre><p>Además, si quiere implementar pruebas jerárquicas, puedeconsiderar el uso de código jerárquico.</p><p><strong>Consejo:</strong> la ramificación puede realizarse sinque las instrucciones se ejecuten en un caso u otro. Al desarrollarun algoritmo o una aplicación especializada, nada le impideescribir:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(Boolean_Expression)    :(Boolean_Expression)      ...    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)<span class="hljs-keyword">    Else</span><span class="hljs-function">       statement</span>(s)<span class="hljs-keyword"> End case</span></code></pre><p>o:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span>    :(Boolean_Expression)    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)       ...    :(Boolean_Expression)<span class="hljs-function">       statement</span>(s)<span class="hljs-keyword">    Else</span><span class="hljs-keyword"> End case</span></code></pre><p>o:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Case of</span><span class="hljs-keyword">    Else</span><span class="hljs-function">       statement</span>(s)<span class="hljs-keyword"> End case</span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#control-flow.html"><span class="arrow-prev">←</span><span>Condiciones y bucles</span></a><a class="docs-next button"href="#looping.html"><span>Estructuras repetitivas (bucles)</span><span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#branching.html_ifelseend-if">If...Else...End if</a><ul class="toc-headings"><li><a href="#branching.html_ejemplo">Ejemplo</a></li></ul></li><li><a href="#branching.html_case-of-elseend-case">Case of...Else...End case</a><ul class="toc-headings"><li><a href="#branching.html_ejemplo-1">Ejemplo</a></li></ul></li></ul></nav></div></div></body></html>