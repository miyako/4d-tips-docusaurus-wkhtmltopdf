<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="es"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Configuración del servidor · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Utilizando peticiones HTTP estándar, el servidor 4D REST permite a las aplicaciones externas acceder directamente a los datos de su aplicación, *es decir,* recuperar información sobre las clases de datos de su proyecto, manipular datos, entrar en su aplicación web, y mucho más."name="description" /><meta content="es" name="docsearch:language" /><meta content="Configuración del servidor · 4D Documentation"property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Utilizando peticiones HTTP estándar, el servidor 4D REST permite a las aplicaciones externas acceder directamente a los datos de su aplicación, *es decir,* recuperar información sobre las clases de datos de su proyecto, manipular datos, entrar en su aplicación web, y mucho más."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#configuration.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Configuración delservidor<a aria-hidden="true" class="anchor" id="configuration.html"></a></h1></header><article><div><p><span>Utilizando peticiones HTTP estándar, el servidor 4D RESTpermite a las aplicaciones externas acceder directamente a losdatos de su aplicación, <em>es decir,</em> recuperar informaciónsobre las clases de datos de su proyecto, manipular datos, entraren su aplicación web, y mucho más.</span></p><p><span>Para comenzar a utilizar las funcionalidades REST, esnecesario iniciar y configurar el servidor 4D REST.</span></p><blockquote><ul><li><span>En 4D Server, para abrir una sesión REST es necesariodisponer de una licencia cliente 4D gratuita.<br /></span></li><li><span>En 4D monopuesto, puede abrir hasta tres sesiones RESTpara realizar pruebas.</span></li><li><span>Debe gestionar la <a href="#authUsers.html">sesión</a>para su aplicación solicitante.</span></li></ul></blockquote><h2><span><a aria-hidden="true" class="anchor" id="configuration.html_iniciar-el-servidor-rest"></a><a aria-hidden="true" class="hash-link" href="#configuration.html_iniciar-el-servidor-rest"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Iniciar el servidor REST</span></h2><p><span>Por razones de seguridad, por defecto, 4D no responde alas peticiones REST. Si desea iniciar el servidor REST, debe marcarla opción <strong>Exponer como servidor REST</strong> en la página<strong>Web</strong> &gt; <strong>Web Features</strong> de laconfiguración de la estructura para que se procesen las peticionesREST.</span></p><p><span><img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/en/REST/Settings.png" /></span></p><blockquote><p><span>Los servicios REST utilizan el servidor HTTP 4D, por loque debe asegurarse de que el servidor web 4D estáiniciado.</span></p></blockquote><p><span>El mensaje de advertencia "Atención, verifique losprivilegios de acceso" aparece cuando se marca esta opción parallamar la atención sobre el hecho de que cuando se activan losservicios REST, por defecto el acceso a los objetos de la base dedatos es gratuito mientras no se hayan configurado los accesosREST.</span></p><blockquote><p><span>Debe reiniciar la aplicación 4D para que los cambiossurtan efecto.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="configuration.html_configuraci%C3%B3n-del-acceso-rest"></a><a aria-hidden="true"class="hash-link" href="#configuration.html_configuraci%25C3%25B3n-del-acceso-rest"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Configuración del acceso REST</span></h2><p><span>Por defecto, los accesos REST están abiertos a todos losusuarios, lo que obviamente no es recomendable por razones deseguridad, y también para controlar el uso de las licencias de losclientes.</span></p><p><span>Puede configurar los accesos REST de una de las siguientesmaneras:</span></p><ul><li><span>asignar un grupo de usuarios <strong>enlectura/escritura</strong> a los servicios REST en la página"<strong>Web</strong> &gt; <strong>Web Features</strong>" de losparámetros de estructura;</span></li><li><span>escribiendo un método base <code>On RESTAuthentication</code> para interceptar y manejar cada petición RESTinicial.</span></li></ul><blockquote><p><span>No se pueden utilizar ambas funciones simultáneamente. Unavez que se ha definido un método base <code>On RESTAuthentication</code>, 4D delega totalmente el control de laspeticiones REST en él: se ignora cualquier ajuste realizadomediante el menú " Lectura/Escritura" de la página de<strong>Web</strong>&gt;<strong>Funcionalidades Web</strong> de losparámetros de la estructura.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="configuration.html_uso-de-los-par%C3%A1metros-de-la-estructura"></a><a aria-hidden="true"class="hash-link" href="#configuration.html_uso-de-los-par%25C3%25A1metros-de-la-estructura"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Uso de los parámetros de la Estructura</span></h3><p><span>El menú <strong>Lectura/Escritura</strong> de la página"<strong>Web</strong> &gt; <strong>Web Features</strong>" de losparámetros de la estructura indica un grupo de usuarios 4D que estáautorizado a establecer el enlace con la aplicación 4D utilizandolas peticiones REST.</span></p><p><span>Por defecto, el menú muestra<strong>&lt;Anyone&gt;</strong>, lo que significa que los accesosREST están abiertos a todos los usuarios. Una vez que hayaespecificado un grupo, sólo una cuenta de usuario de 4D quepertenezca a este grupo podrá ser utilizada para <a href="#authUsers.html">acceder a 4D mediante una petición REST</a>. Sise utiliza una cuenta que no pertenece a este grupo, 4D devuelve unerror de autenticación al remitente de la petición.</span></p><blockquote><p><span>Para que esta configuración tenga efecto, el métodobase<code>On REST Authentication</code> no debe estar definido. Siexiste, 4D ignora los parámetros de acceso definidos en laspropiedades de la estructura.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="configuration.html_m%C3%A9todo-base-on-rest-authentication"></a><a aria-hidden="true"class="hash-link" href="#configuration.html_m%25C3%25A9todo-base-on-rest-authentication"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Método base On REST Authentication</span></h3><p><span>El método base <code>On REST Authentication</code> leofrece una forma personalizada de controlar la apertura de sesionesREST en 4D. Este método base se llama automáticamente cuando seabre una nueva sesión a través de una solicitud REST. Cuando serecibe una <a href="#authUsers.html">solicitud para abrir unasesión REST</a>, los identificadores de conexión se ofrecen en elencabezado de la solicitud. Se llama al método base <code>On RESTAuthentication</code> para poder evaluar estos identificadores.Puede utilizar la lista de usuarios de la aplicación 4D o puedeutilizar su propia tabla de identificadores. Para obtener másinformación, consulte la <a href="https://doc.4d.com/4Dv18/4D/18/On-REST-Authentication-database-method.301-4505004.en.html">documentación</a> del método base<code>On RESTAuthentication</code>.</span></p><h2><span><a aria-hidden="true" class="anchor" id="configuration.html_exponer-tablas-y-campos"></a><a aria-hidden="true" class="hash-link" href="#configuration.html_exponer-tablas-y-campos"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exponer tablas y campos</span></h2><p><span>Una vez activados los servicios REST en la aplicación 4D,por defecto una sesión REST puede acceder a todas las tablas ycampos de la base de datos 4D a través de la <a href="#configuration.html_datastore">interfaz del datastore</a>. Así,puede utilizar sus datos. Por ejemplo, si su base de datos contieneuna tabla [Employee], es posible escribir:</span></p><pre><span><code class="hljs"><span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/127.0.0.1:8044/rest</span><span class="hljs-regexp">/Employee/</span>?<span class="hljs-variable">$filter</span>=<span class="hljs-string">"salary&gt;10000"</span></code></span></pre><p>Esta petición devolverá todos los empleados cuyo campo desalario sea superior a 10000.</p><blockquote><p>Las tablas y/o campos 4D que tienen el atributo "Invisible"también se exponen en REST por defecto.</p></blockquote><p>Si desea personalizar los objetos del datastore accesibles através de REST, debe desactivar la exposición de cada tabla y/ocampo que desee ocultar. Cuando una petición REST intenta acceder aun recurso no autorizado, 4D devuelve un error.</p><h3><a aria-hidden="true" class="anchor" id="configuration.html_exponer-las-tablas"></a><a aria-hidden="true"class="hash-link" href="#configuration.html_exponer-las-tablas"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exponer las tablas</h3><p>Por defecto, todas las tablas se exponen en REST.</p><p>Por razones de seguridad, es posible que desee exponer sólociertas tablas de su almacén de datos a las llamadas REST. Porejemplo, si ha creado una tabla [Users] que almacena los nombres deusuario y las contraseñas, sería mejor no exponerla.</p><p>Para eliminar la exposición REST de una tabla:</p><ol><li><p>Visualice el inspector de tablas en el editor de estructuras yseleccione la tabla que desea modificar.</p></li><li><p>Desmarque la opción <strong>Exponer como recurso REST</strong>:<img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/es/REST/table.png" /> Hagaesto para cada tabla cuya exposición deba ser modificada.</p></li></ol><h3><a aria-hidden="true" class="anchor" id="configuration.html_exponer-los-campos"></a><a aria-hidden="true"class="hash-link" href="#configuration.html_exponer-los-campos"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exponer los campos</h3><p>Por defecto, todos los campos de una base 4D se exponen enREST.</p><p>Es posible que no quiera exponer ciertos campos de sus tablas aREST. Por ejemplo, es posible que no quiera exponer el campo[Employees]Salary.</p><p>Para eliminar la exposición REST de un campo:</p><ol><li><p>Visualice el inspector de campo en el editor de estructuras yseleccione el campo a modificar.</p></li><li><p>Desmarque la opción <strong>Exponer como recurso REST</strong>para el campo. <img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/en/REST/field.png" />Repita esta operación para cada campo cuya exposición debamodificarse.</p></li></ol><blockquote><p>Para que un campo sea accesible a través de REST, la tabla padretambién debe serlo. Si la tabla padre no está expuesta, ninguno desus campos lo estará, independientemente de su estado.</p></blockquote></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#gettingStarted.html"><span class="arrow-prev">←</span><span>Comencemos</span></a><a class="docs-next button" href="#authUsers.html"><span>Usuarios y sesiones</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#configuration.html_iniciar-el-servidor-rest">Iniciarel servidor REST</a></li><li><a href="#configuration.html_configuraci%25C3%25B3n-del-acceso-rest">Configuracióndel acceso REST</a><ul class="toc-headings"><li><a href="#configuration.html_uso-de-los-par%25C3%25A1metros-de-la-estructura">Uso de los parámetros de la Estructura</a></li><li><a href="#configuration.html_m%25C3%25A9todo-base-on-rest-authentication">Métodobase On REST Authentication</a></li></ul></li><li><a href="#configuration.html_exponer-tablas-y-campos">Exponertablas y campos</a><ul class="toc-headings"><li><a href="#configuration.html_exponer-las-tablas">Exponer lastablas</a></li><li><a href="#configuration.html_exponer-los-campos">Exponer loscampos</a></li></ul></li></ul></nav></div></div></body></html>