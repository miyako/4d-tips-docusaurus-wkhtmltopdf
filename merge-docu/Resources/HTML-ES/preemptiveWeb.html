<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="es"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Uso de procesos web apropiativos · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="El servidor web de 4D le permite aprovechar al máximo los ordenadores multinúcleo utilizando procesos web apropiativos en sus aplicaciones. Puede configurar su código relacionado con la web, incluyendo las etiquetas 4D, los métodos base Web o las funciones de clase REST de ORDA para que se ejecuten simultáneamente en tantos núcleos como sea posible."name="description" /><meta content="es" name="docsearch:language" /><meta content="Uso de procesos web apropiativos · 4D Documentation"property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="El servidor web de 4D le permite aprovechar al máximo los ordenadores multinúcleo utilizando procesos web apropiativos en sus aplicaciones. Puede configurar su código relacionado con la web, incluyendo las etiquetas 4D, los métodos base Web o las funciones de clase REST de ORDA para que se ejecuten simultáneamente en tantos núcleos como sea posible."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#preemptiveWeb.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Uso de procesos webapropiativos<a aria-hidden="true" class="anchor" id="preemptiveWeb.html"></a></h1></header><article><div><p><span>El servidor web de 4D le permite aprovechar al máximo losordenadores multinúcleo utilizando procesos web apropiativos en susaplicaciones. Puede configurar su código relacionado con la web,incluyendo las etiquetas 4D, los métodos base Web o las funcionesde clase REST de ORDA para que se ejecuten simultáneamente entantos núcleos como sea posible.</span></p><p><span>Para obtener información detallada sobre los procesosapropiativos en 4D, consulte la sección <em>Procesos 4Dapropiativos</em> del <a href="https://doc.4d.com"><em>manual delenguaje</em></a>.</span></p><h2><span><a aria-hidden="true" class="anchor" id="preemptiveWeb.html_disponibilidad-del-modo-apropiativo-para-los-procesos-web"></a><a aria-hidden="true" class="hash-link" href="#preemptiveWeb.html_disponibilidad-del-modo-apropiativo-para-los-procesos-web"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Disponibilidad del modo apropiativo para los procesosweb</span></h2><p><span>La siguiente tabla indica si el modo apropiativo seutiliza o está disponible, dependiendo del contexto deejecución:</span></p><table><thead><tr><th>4D Server</th><th>Interpretado (<a href="#debugging-remote.html">asociado aldepurador</a>)</th><th>Interpretado (no asociado al depurador)</th><th>Compilado</th></tr></thead><tbody><tr><td>Servidor REST</td><td>cooperativo</td><td>apropiativo</td><td>apropiativo</td></tr><tr><td>Servidor Web</td><td>cooperativo</td><td><em>parámetro web</em></td><td><em>parámetro web</em></td></tr><tr><td>Servidor Web Services</td><td>cooperativo</td><td><em>parámetro web</em></td><td><em>parámetro web</em></td></tr></tbody></table><table><thead><tr><th>4D remoto/monopuesto</th><th>Interpretado</th><th>Compilado</th></tr></thead><tbody><tr><td>Servidor REST</td><td>cooperativo</td><td>apropiativo</td></tr><tr><td>Servidor Web</td><td>cooperativo</td><td><em>parámetro web</em></td></tr><tr><td>Servidor Web Services</td><td>cooperativo</td><td><em>parámetro web</em></td></tr></tbody></table><ul><li><span>Servidor REST: gestiona las <a href="#classFunctions.html">funciones de clase del modelo de datosORDA</a></span></li><li><span>Servidor web: maneja las <a href="#templates.html">plantillas web</a>, <a href="#httpRequests.html">4DACTION y los métodos base</a></span></li><li><span>Servidor de servicios web: gestiona las peticionesSOAP</span></li><li><span><strong><em>web setting</em></strong> significa que elmodo apropiativo depende de un valor de configuración:</span><ul><li><span>cuando la opción <a href="#preemptiveWeb.html_enabling-sessions"><strong>sesionesescalables</strong></a> está seleccionada, el <a href="#preemptiveWeb.html_preemptive-mode">modo apropiativo se utilizaautomáticamente</a> para los procesos web.</span></li><li><span>de lo contrario, la opción <a href="#preemptiveWeb.html_use-preemptive-processes"><strong>Utilizarprocesos apropiativos</strong></a> se tiene en cuenta.</span></li><li><span>en lo que respecta a los procesos de servicios web(servidor o cliente), se soporta el modo apropiativo a nivel delmétodo. Sólo tiene que seleccionar la propiedad " Puede ejecutarseen procesos apropiativos " para los métodos del servidor SOAPpublicados (ver <a href="https://doc.4d.com/4Dv19/4D/19/Publishing-a-Web-Service-with-4D.300-5416868.en.html">Publicación de un servicio web con 4D</a>) o los métodos delcliente proxy (ver <a href="https://doc.4d.com/4Dv19/4D/19/Subscribing-to-a-Web-Service-in-4D.300-5416870.en.html">Suscripción a un servicio web en 4D</a>) y asegurarse de que elcompilador confirme que son hilo seguro.</span></li></ul></li></ul><h2><span><a aria-hidden="true" class="anchor" id="preemptiveWeb.html_escribir-c%C3%B3digo-de-servidor-web-hilo-seguro"></a><a aria-hidden="true" class="hash-link" href="#preemptiveWeb.html_escribir-c%25C3%25B3digo-de-servidor-web-hilo-seguro"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Escribir código de servidor web hilo seguro</span></h2><p><span>Todo el código 4D ejecutado por el servidor web debe serhilo seguro si quiere que sus procesos web se ejecuten en modoapropiativo. Cuando el <a href="#preemptiveWeb.html_availability-of-preemptive-mode-for-web-processes">modo apropiativo está activo</a>, las siguientes partes de laaplicación serán evaluadas automáticamente por el compilador4D:</span></p><ul><li><p><span>Todos los métodos base relacionados con la web:</span></p><ul><li><span><a href="#preemptiveWeb.html_on-web-authentication"><code>On WebAuthentication</code></a></span></li><li><span><a href="#preemptiveWeb.html_on-web-connection"><code>OnWeb Connection</code></a></span></li><li><span><a href="#preemptiveWeb.html_using-the-on-rest-authentication-database-method"><code>On REST Authentication</code></a></span></li><li><span><a href="#on-mobile-app-authentication"><code>On MobileApp Authentication</code></a> y <a href="#on-mobile-app-action"><code>On Mobile AppAction</code></a></span></li></ul></li><li><p><span>El método proyecto <code>compilador_web</code>(independientemente de su propiedad real "Modo deejecución");</span></p></li><li><p><span>Básicamente cualquier código procesado por el comando<a href="https://doc.4d.com/4dv19R/help/command/en/page816.html"><code>PROCESS4D TAGS</code></a> en el contexto web, por ejemplo a través depáginas .shtml</span></p></li><li><p><span>Todo método proyecto con el atributo "Disponible a travésde etiquetas 4D y URLs (<code>4DACTION</code>, etc.)</span></p></li><li><p><span>Triggers para tablas con el atributo "Exponer como recursoREST"</span></p></li><li><p><span><a href="#classFunctions.html">funciones de clase delmodelo de datos ORDA</a> llamadas vía REST</span></p></li></ul><p><span>Para cada uno de estos métodos y partes de código, elcompilador comprobará si se respetan las reglas de seguridad dehilos, y devolverá errores en caso de que haya problemas. Para másinformación sobre las reglas hilo seguro, consulte el párrafo<em>Escribir un método hilo seguro</em> en el capítulo<em>Procesos</em> del manual de <a href="https://doc.4d.com">Lenguaje 4D</a>.</span></p><h2><span><a aria-hidden="true" class="anchor" id="preemptiveWeb.html_c%C3%B3digo-web-4d-hilo-seguro"></a><a aria-hidden="true"class="hash-link" href="#preemptiveWeb.html_c%25C3%25B3digo-web-4d-hilo-seguro"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Código web 4D hilo seguro</span></h2><p><span>La mayoría de los comandos y funciones 4D relacionados conla web, los métodos base y las URL son hilo seguro y puedenutilizarse en modo apropiativo.</span></p><h3><span><a aria-hidden="true" class="anchor" id="preemptiveWeb.html_comandos-4d-y-m%C3%A9todos-base"></a><a aria-hidden="true"class="hash-link" href="#preemptiveWeb.html_comandos-4d-y-m%25C3%25A9todos-base"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Comandos 4D y métodos base</span></h3><p><span>Todos los comandos 4D relacionados con la web son hiloseguro, <em>es decir</em>:</span></p><ul><li><span>todos los comandos del tema <em>ServidorWeb</em>,</span></li><li><span>todos los comandos del tema <em>ClienteHTTP</em>.</span></li></ul><p><span>Los métodos base relacionados con la web son hilo seguro ypueden utilizarse en modo apropiativo (ver arriba): <code>On WebAuthentication</code>, <code>On Web Connection</code>, <code>OnREST Authentication</code>...).</span></p><p><span>Por supuesto, el código ejecutado por estos métodostambién debe ser hilo seguro.</span></p><h3><span><a aria-hidden="true" class="anchor" id="preemptiveWeb.html_urls-del-servidor-web"></a><a aria-hidden="true" class="hash-link" href="#preemptiveWeb.html_urls-del-servidor-web"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>URLs del servidor web</span></h3><p><span>Las siguientes URLs 4D Web Server son hilo seguro y puedenser utilizadas en modo apropiativo:</span></p><ul><li><span><em>4daction/</em> (el método proyecto llamado tambiéndebe ser hilo seguro)</span></li><li><span><em>4dcgi/</em> (los métodos base llamados también debenser hilo seguro)</span></li><li><span><em>4dwebtest/</em></span></li><li><span><em>4dblank/</em></span></li><li><span><em>4dstats/</em></span></li><li><span><em>4dhtmlstats/</em></span></li><li><span><em>4dcacheclear/</em></span></li><li><span><em>rest/</em></span></li><li><span><em>4dimgfield/</em> (generado por <code>PROCESS 4DTAGS</code> para la petición web en los campos imagen)</span></li><li><span><em>4dimg/</em> (generado por <code>PROCESS 4DTAGS</code> para la petición web en las variablesimagen)</span></li></ul><h3><span><a aria-hidden="true" class="anchor" id="preemptiveWeb.html_icono-de-proceso-web-apropiativo"></a><a aria-hidden="true"class="hash-link" href="#preemptiveWeb.html_icono-de-proceso-web-apropiativo"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Icono de proceso web apropiativo</span></h3><p><span>Tanto el Explorador de ejecución como la ventana deadministración de 4D Server muestran un icono específico para losprocesos web apropiativos:</span></p><table><thead><tr><th>Tipo de proceso</th><th>Icono</th></tr></thead><tbody><tr><td>Método Web (proceso apropiativo)</td><td><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/processIcon.png" /></td></tr></tbody></table></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#sessions.html"><span class="arrow-prev">←</span> <span>Sesionesusuario</span></a><a class="docs-next button" href="#gettingStarted.html"><span>Comencemos</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#preemptiveWeb.html_disponibilidad-del-modo-apropiativo-para-los-procesos-web">Disponibilidad del modo apropiativo para los procesos web</a></li><li><a href="#preemptiveWeb.html_escribir-c%25C3%25B3digo-de-servidor-web-hilo-seguro">Escribir código de servidor web hilo seguro</a></li><li><a href="#preemptiveWeb.html_c%25C3%25B3digo-web-4d-hilo-seguro">Código web4D hilo seguro</a><ul class="toc-headings"><li><a href="#preemptiveWeb.html_comandos-4d-y-m%25C3%25A9todos-base">Comandos4D y métodos base</a></li><li><a href="#preemptiveWeb.html_urls-del-servidor-web">URLs delservidor web</a></li><li><a href="#preemptiveWeb.html_icono-de-proceso-web-apropiativo">Icono deproceso web apropiativo</a></li></ul></li></ul></nav></div></div></body></html>