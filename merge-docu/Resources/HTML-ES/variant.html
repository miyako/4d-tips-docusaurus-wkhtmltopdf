<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="es"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Variant · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Variant es un tipo de variable que permite encapsular datos de todo tipo válido y estándar en una variable. Normalmente, este tipo de variable puede utilizarse para escribir código genérico que devuelva o reciba valores cuyo tipo no se conoce. Este es el caso, por ejemplo, del código que maneja los atributos de objeto."name="description" /><meta content="es" name="docsearch:language" /><meta content="Variant · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Variant es un tipo de variable que permite encapsular datos de todo tipo válido y estándar en una variable. Normalmente, este tipo de variable puede utilizarse para escribir código genérico que devuelva o reciba valores cuyo tipo no se conoce. Este es el caso, por ejemplo, del código que maneja los atributos de objeto."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#dt_variant.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Variant<a aria-hidden="true" class="anchor" id="variant.html"></a></h1></header><article><div><p><span>Variant es un tipo de variable que permite encapsulardatos de todo tipo válido y estándar en una variable. Normalmente,este tipo de variable puede utilizarse para escribir códigogenérico que devuelva o reciba valores cuyo tipo no se conoce. Estees el caso, por ejemplo, del código que maneja los atributos deobjeto.</span></p><p><span>Una variable de tipo variant puede contener un valor delos tipos de datos siguientes:</span></p><ul><li><span>BLOB</span></li><li><span>booleano</span></li><li><span>colección</span></li><li><span>fecha</span></li><li><span>entero largo</span></li><li><span>objeto</span></li><li><span>imagen</span></li><li><span>puntero</span></li><li><span>real</span></li><li><span>texto</span></li><li><span>time</span></li><li><span>null</span></li><li><span>indefinido</span></li></ul><blockquote><p><span>Las matrices no pueden almacenarse en variables de tipovariant.</span></p></blockquote><p><span>Tanto en modo interpretado como en compilado, a una mismavariable variant se le pueden asignar contenidos de diferentestipos. A diferencia de los tipos de variable estándar, el tipo decontenido de la variable variant es diferente del tipo de variablevariant mismo. Por ejemplo:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-function">C_VARIANT</span>(<span class="hljs-variable">$variant</span>)<span class="hljs-variable">$variant</span>:=<span class="hljs-string">"hello world"</span><span class="hljs-variable">$vtype</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 12 (Is variant)</span><span class="hljs-variable">$vtypeVal</span>:=<span class="hljs-function">Value type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 2 (Is text)</span><span class="hljs-variable">$variant</span>:=<span class="hljs-number">42</span><span class="hljs-variable">$vtype</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 12 (Is variant)</span><span class="hljs-variable">$vtypeVal</span>:=<span class="hljs-function">Value type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 1 (Is real)</span></code></span></pre><p>Se pueden utilizar variables variant en cualquier lugar donde seesperen variables, sólo hay que asegurarse de que el tipo de datosdel contenido de la variable es del tipo esperado. Al acceder a lasvariables de las variantes, sólo se tiene en cuenta su valoractual. Por ejemplo:</p><pre><code class="hljs css language-4d"><span class="hljs-function">C_VARIANT</span>(<span class="hljs-variable">$v</span>)<span class="hljs-variable">$v</span>:=<span class="hljs-string">"hello world"</span><span class="hljs-variable">$v2</span>:=<span class="hljs-variable">$v </span><span class="hljs-comment">//asignar una variable a otra variable</span><span class="hljs-variable">$t</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$v</span>) <span class="hljs-comment">// 12 (Is variant)</span><span class="hljs-variable">$t2</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$v2</span>) <span class="hljs-comment">// 2 (Is text)</span></code></pre><p>Variant se puede utilizar para declarar parámetros de métodos($0, $1,...) que pueden ser de varios tipos. En este caso, puedeconstruir su código probando el tipo de valor del parámetro, porejemplo:</p><pre><code class="hljs css language-4d"><span class="hljs-function">C_VARIANT</span>(<span class="hljs-variable">$1</span>)<span class="hljs-keyword">Case of</span>: (<span class="hljs-function">Value type</span>(<span class="hljs-variable">$1</span>)=Is longint)...: (<span class="hljs-function">Value type</span>(<span class="hljs-variable">$1</span>)=Is text)...<span class="hljs-keyword">End case</span></code></pre><blockquote><p>Cuando las variables variant no son necesarias (es decir, cuandose conoce el tipo de datos), se recomienda utilizar variables detipo estándar. Las variables de tipo estándar ofrecen un mejorrendimiento, hacen que el código sea más claro y son útiles paraque el compilador evite los errores relacionados con el paso detipos de datos inesperados.</p></blockquote></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#time.html"><span class="arrow-prev">←</span><span>Hora</span></a><a class="docs-next button" href="#variables.html"><span>Variables</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"></nav></div></div></body></html>