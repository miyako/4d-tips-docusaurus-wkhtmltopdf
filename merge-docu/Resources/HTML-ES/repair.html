<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="es"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Página Reparación · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Esta página se utiliza para reparar el archivo de datos cuando se ha dañado. Generalmente, sólo utilizará estas funciones bajo la supervisión de los equipos técnicos de 4D, cuando se hayan detectado anomalías al abrir la aplicación o tras una [verificación](/docs/Rx/es/MSC/verify.html)."name="description" /><meta content="es" name="docsearch:language" /><meta content="Página Reparación · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Esta página se utiliza para reparar el archivo de datos cuando se ha dañado. Generalmente, sólo utilizará estas funciones bajo la supervisión de los equipos técnicos de 4D, cuando se hayan detectado anomalías al abrir la aplicación o tras una [verificación](/docs/Rx/es/MSC/verify.html)."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#repair.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">PáginaReparación<a aria-hidden="true" class="anchor" id="repair.html"></a></h1></header><article><div><p><span>Esta página se utiliza para reparar el archivo de datoscuando se ha dañado. Generalmente, sólo utilizará estas funcionesbajo la supervisión de los equipos técnicos de 4D, cuando se hayandetectado anomalías al abrir la aplicación o tras una <a href="#verify.html">verificación</a>.</span></p><p><span><strong>Atención:</strong> cada operación de reparaciónimplica la duplicación del archivo original, lo que aumenta eltamaño de la carpeta de la aplicación. Es importante tener esto encuenta (especialmente en macOS, donde las aplicaciones 4D aparecencomo paquetes) para que el tamaño de la aplicación no aumenteexcesivamente. Eliminar manualmente las copias del archivo originaldentro del paquete puede ser útil para minimizar el tamaño delpaquete.</span></p><blockquote><p><span>La reparación sólo está disponible en modo mantenimiento.If you attempt to carry out this operation in standard mode, awarning dialog will inform you that the application will be closedand restarted in maintenance mode. Cuando la base está encriptada,la reparación de datos incluye pasos de encriptación ydesencriptación y, por tanto, requiere la llave de encriptación dedatos actual. Si no se ha suministrado ya una llave de cifradoválida, aparecerá un cuadro de diálogo solicitando la frase de pasoo la llave de cifrado (ver página Cifrado).</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="repair.html_archivos"></a><a aria-hidden="true" class="hash-link"href="#repair.html_archivos"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Archivos</span></h2><h3><span><a aria-hidden="true" class="anchor" id="repair.html_archivo-de-datos-a-reparar"></a><a aria-hidden="true"class="hash-link" href="#repair.html_archivo-de-datos-a-reparar"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Archivo de datos a reparar</span></h3><p><span>Nombre de la ruta del archivo de datos actual. El botón<strong>[...]</strong> puede utilizarse para especificar otroarchivo de datos. Al hacer clic en este botón, se muestra undiálogo estándar de ápertura de documentos para que pueda designarel archivo de datos a reparar. If you perform a <a href="#repair.html_standard-repair">standard repair</a>, you must selecta data file that is compatible with the open project file. Sirealiza una reparación <a href="#repair.html_recover-by-record-headers">reparación por encabezadosde registros</a>, puede seleccionar todo archivo de datos. Una vezvalidado este diálogo, se indica en la ventana el nombre de la rutadel archivo a reparar.</span></p><h3><span><a aria-hidden="true" class="anchor" id="repair.html_carpeta-de-copia-de-seguridad-de-los-archivos-originales"></a><a aria-hidden="true" class="hash-link" href="#repair.html_carpeta-de-copia-de-seguridad-de-los-archivos-originales"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Carpeta de copia de seguridad de los archivosoriginales</span></h3><p><span>Por defecto, el archivo de datos original se duplicaráantes de la operación de reparación. It will be placed in asubfolder named “Replaced files (repairing)” in the applicationfolder. El segundo botón <strong>[...]</strong> se puede utilizarpara especificar otra ubicación para guardar los archivosoriginales antes de iniciar la reparación. Esta opción se puedeutilizar más particularmente cuando se reparan archivos voluminososmientras se utilizan diferentes discos.</span></p><h3><span><a aria-hidden="true" class="anchor" id="repair.html_archivos-reparados"></a><a aria-hidden="true" class="hash-link" href="#repair.html_archivos-reparados"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Archivos reparados</span></h3><p><span>4D crea un nuevo archivo de datos vacío en la ubicacióndel archivo original. The original file is moved into the foldernamed "\Replaced Files (Repairing) date time" whose location is setin the "Original files backup folder" area (application folder bydefault). El archivo vacío se llena con los datosrecuperados.</span></p><h2><span><a aria-hidden="true" class="anchor" id="repair.html_reparaci%C3%B3n-est%C3%A1ndar"></a><a aria-hidden="true" class="hash-link" href="#repair.html_reparaci%25C3%25B3n-est%25C3%25A1ndar"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Reparación estándar</span></h2><p><span>Se debe elegir la reparación estándar cuando sólo estándañados unos pocos registros o índices (las tablas de direccionesestán intactas). Los datos se compactan y se reparan. Este tipo dereparación sólo puede realizarse cuando los datos y el archivo deestructura coinciden.</span></p><p><span>Una vez finalizado el procedimiento de reparación, aparecela página "Reparación" del CSM. Un mensaje indica si la reparaciónfue exitosa. Si es así, puede abrir la aplicación inmediatamente.<img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_RepairOK.png" /></span></p><h2><span><a aria-hidden="true" class="anchor" id="repair.html_reparaci%C3%B3n-por-encabezados-de-registros"></a><a aria-hidden="true"class="hash-link" href="#repair.html_reparaci%25C3%25B3n-por-encabezados-de-registros"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Reparación por encabezados de registros</span></h2><p><span>Utilice esta opción de reparación de bajo nivel sólocuando el archivo de datos esté gravemente dañado y después de quetodas las demás soluciones (restitución desde una copia deseguridad, reparación estándar) hayan resultadoineficaces.</span></p><p><span>Los registros 4D varían en tamaño, por lo que es necesariomantener la ubicación donde se almacenan en el disco en una tablaespecífica, llamada tabla de direcciones, para poder encontrarlosde nuevo. Por lo tanto, el programa accede a la dirección delregistro por medio de un índice y de la tabla de direcciones. Sisólo están dañados los registros o los índices, la opción dereparación estándar suele ser suficiente para resolver el problema.Sin embargo, cuando la propia tabla de direcciones se ve afectada,requiere una recuperación más sofisticada, ya que será necesarioreconstituirla. Para ello, el CSM utiliza el marcador situado en elencabezado de cada registro. Los marcadores se comparan con unresumen del registro, que incluye la mayor parte de su información,y a partir del cual es posible reconstruir la tabla dedirecciones.</span></p><blockquote><p><span>If you have deselected the <strong>Records definitivelydeleted</strong> option in the properties of a table in thestructure, performing a recovery by header markers may causerecords that were previously deleted to reappear.</span></p><p><span>La recuperación por encabezados no tiene en cuenta lasrestricciones de integridad. Más concretamente, tras esta operaciónpuede obtener valores duplicados con campos únicos o valores NULLcon campos declarados <strong>Nunca Null</strong>.</span></p></blockquote><p><span>Al hacer clic en <strong>Escanear y reparar...</strong>,4D realiza un análisis completo del archivo de datos. Una vezfinalizado el análisis, los resultados aparecen en la siguienteventana:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/mscrepair2.png" /></span></p><blockquote><p><span>Si todos los registros y todas las tablas han sidoasignados, sólo se muestra el área principal.</span></p></blockquote><p><span>El área "Registros encontrados en el archivo de datos"incluye dos tablas que resumen la información del análisis delarchivo de datos.</span></p><ul><li><p><span>La primera tabla lista la información del análisis delarchivo de datos. Cada línea muestra un grupo de registrosrecuperables en el archivo de datos:</span></p><ul><li><span>La columna <strong>Orden</strong> indica el orden derecuperación del grupo de registros.</span></li><li><span>La columna <strong>Número</strong> indica el número delos registros de la tabla.</span></li><li><span>La columna <strong>Tabla de destino</strong> indica losnombres de las tablas que se asignaron automáticamente a los gruposde registros identificados. Los nombres de las tablas asignadasautomáticamente aparecen en verde. Los grupos no asignados, esdecir, las tablas a las que no se ha podido asociar ningúnregistro, aparecen en rojo.</span></li><li><span>La columna <strong>Recuperar</strong> le permite indicar,para cada grupo, si quiere recuperar los registros. Por defecto,esta opción está marcada para todos los grupos con registros quepueden asociarse a una tabla.</span></li></ul></li><li><p><span>La segunda tabla lista las tablas del archivo delproyecto.</span></p></li></ul><h3><span><a aria-hidden="true" class="anchor" id="repair.html_asignaci%C3%B3n-manual"></a><a aria-hidden="true"class="hash-link" href="#repair.html_asignaci%25C3%25B3n-manual"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Asignación manual</span></h3><p><span>Si varios grupos de registros no han podido ser asignadosa las tablas debido a una tabla de direcciones dañada, puedeasignarlos manualmente. Para ello, seleccione primero un grupo deregistros sin asignar en la primera tabla. El área "Contenido delos registros" muestra entonces una vista previa del contenido delos primeros registros del grupo para facilitar suasignación:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/mscrepair3.png" /></span></p><p><span>A continuación, seleccione la tabla que desea asignar algrupo en la tabla "Tablas no asignadas" y haga clic en el botón<strong>Identificar tabla</strong>. También puede asignar una tablautilizando arrastrar y soltar. El grupo de registros se asociaentonces a la tabla y se recupera en esta tabla. Los nombres de lastablas que se asignan manualmente aparecen en negro. Utilice elbotón <strong>Ignorar registros</strong> para eliminar laasociación realizada manualmente entre la tabla y el grupo deregistros.</span></p><h2><span><a aria-hidden="true" class="anchor" id="repair.html_abrir-archivo-de-historial"></a><a aria-hidden="true"class="hash-link" href="#repair.html_abrir-archivo-de-historial"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Abrir archivo de historial</span></h2><p><span>After repair is completed, 4D generates a log file in theLogs folder of the project. Este archivo permite ver todas lasoperaciones realizadas. It is created in XML format and named:<em>ApplicationName</em><em>_Repair_Log_yyyy-mm-ddhh-mm-ss.xml</em>" where:</span></p><ul><li><span><em>ApplicationName</em> is the name of the project filewithout any extension, for example "Invoices",</span></li><li><span><em>yyyy-mm-dd hh-mm-ss</em> es la marca de tiempo delarchivo, basada en la hora del sistema local cuando se inició laoperación de mantenimiento, por ejemplo "2019-02-1115-20-45".</span></li></ul><p><span>Al presionar el botón <strong>Abrir archivo dehistorial</strong>, 4D muestra el archivo de historial más recienteen el navegador por defecto de la máquina.</span></p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#restore.html"><span class="arrow-prev">←</span> <span>PáginaRestauración</span></a><a class="docs-next button" href="#encrypt.html"><span>Página de cifrado</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#repair.html_archivos">Archivos</a><ul class="toc-headings"><li><a href="#repair.html_archivo-de-datos-a-reparar">Archivo dedatos a reparar</a></li><li><a href="#repair.html_carpeta-de-copia-de-seguridad-de-los-archivos-originales">Carpeta de copia de seguridad de los archivos originales</a></li><li><a href="#repair.html_archivos-reparados">Archivosreparados</a></li></ul></li><li><a href="#repair.html_reparaci%25C3%25B3n-est%25C3%25A1ndar">Reparaciónestándar</a></li><li><a href="#repair.html_reparaci%25C3%25B3n-por-encabezados-de-registros">Reparaciónpor encabezados de registros</a><ul class="toc-headings"><li><a href="#repair.html_asignaci%25C3%25B3n-manual">Asignaciónmanual</a></li></ul></li><li><a href="#repair.html_abrir-archivo-de-historial">Abrir archivode historial</a></li></ul></nav></div></div></body></html>