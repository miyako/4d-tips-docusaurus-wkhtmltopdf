<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>DataStore · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="A [Datastore](/docs/Rx/de/ORDA/dsmapping.html#datastore) is the interface object provided by ORDA to reference and access a database. `Datastore` objects are returned by the following commands:"name="description" /><meta content="de" name="docsearch:language" /><meta content="DataStore · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="A [Datastore](/docs/Rx/de/ORDA/dsmapping.html#datastore) is the interface object provided by ORDA to reference and access a database. `Datastore` objects are returned by the following commands:"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#DataStoreClass.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">DataStore<a aria-hidden="true" class="anchor" id="DataStoreClass.html"></a></h1></header><article><div><p><span>A <a href="#DataStoreClass.html_datastore">Datastore</a>is the interface object provided by ORDA to reference and access adatabase. <code>Datastore</code> objects are returned by thefollowing commands:</span></p><ul><li><span><a href="#DataStoreClass.html_ds">ds</a>: a shortcut tothe main datastore</span></li><li><span><a href="#DataStoreClass.html_open-datastore">Opendatastore</a>: to open any remote datastore</span></li></ul><h3><span><a aria-hidden="true" class="anchor" id="DataStoreClass.html_summary"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_summary"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Summary</span></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#DataStoreClass.html_canceltransaction"><strong>.cancelTransaction()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;cancels the transaction</p></td></tr><tr><td><a href="#DataStoreClass.html_clearallremotecontexts"><strong>.clearAllRemoteContexts()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;clears all the attributes for all theactive contexts in the datastore</p></td></tr><tr><td><a href="#DataStoreClass.html_dataclassname"><strong><em>.dataclassName</em></strong>: 4D.DataClass</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contains a description of thedataclass</p></td></tr><tr><td><a href="#DataStoreClass.html_encryptionstatus"><strong>.encryptionStatus()</strong>:Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns an object providing theencryption status for the current data file</p></td></tr><tr><td><a href="#DataStoreClass.html_getallremotecontexts"><strong>.getAllRemoteContexts()</strong>: Collection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns a collection of objectscontaining information on all the active optimization contexts inthe datastore</p></td></tr><tr><td><a href="#DataStoreClass.html_getinfo"><strong>.getInfo()</strong>:Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns an object providing informationabout the datastore</p></td></tr><tr><td><a href="#DataStoreClass.html_getremotecontextinfo"><strong>.getRemoteContextInfo</strong>(<em>contextName</em>: Text) : Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp; returns an object that holdsinformation on the <em>contextName</em> optimization context in thedatastore.</p></td></tr><tr><td><a href="#DataStoreClass.html_getrequestlog"><strong>.getRequestLog()</strong>: Collection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns the ORDA requests logged inmemory on the client side</p></td></tr><tr><td><a href="#DataStoreClass.html_makeselectionsalterable"><strong>.makeSelectionsAlterable()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;sets all entity selections as alterableby default in the current application datastores</p></td></tr><tr><td><a href="#DataStoreClass.html_providedatakey"><strong>.provideDataKey</strong>(<em>curPassPhrase</em> : Text ) : Object<br /><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) :Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp;allows providing a data encryption keyfor the current data file of the datastore and detects if the keymatches the encrypted data</p></td></tr><tr><td><a href="#DataStoreClass.html_setadminprotection"><strong>.setAdminProtection</strong>(<em>status</em> : Boolean )</a><p>&nbsp;&nbsp;&nbsp;&nbsp;allows disabling any data access on the<a href="#DataStoreClass.html_http-port">web admin port</a>,including for the <a href="#dataExplorer.html">Data Explorer</a> in<code>WebAdmin</code> sessions</p></td></tr><tr><td><a href="#DataStoreClass.html_setremotecontextinfo"><strong>.setRemoteContextInfo</strong>(<em>contextName</em> : Text ; <em>dataClassName</em> : Text ;<em>attributes</em> : Text {; <em>contextType</em> : Text { ;<em>pageLength</em> : Integer}})<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassName</em> : Text; <em>attributesColl</em> :Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer }} )<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassObject</em> : 4D.DataClass ; <em>attributes</em> :Text {; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer }})<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassObject</em> : 4D.DataClass ; <em>attributesColl</em>: Collection {; <em>contextType</em> : Text { ; <em>pageLength</em>: Integer }} )</a><p>&nbsp;&nbsp;&nbsp;&nbsp;links the specified dataclass attributesto the <em>contextName</em> optimization context</p></td></tr><tr><td><a href="#DataStoreClass.html_startrequestlog"><strong>.startRequestLog</strong>()<br /><strong>.startRequestLog</strong>( <em>file</em> : 4D.File )<br /><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</a><p>&nbsp;&nbsp;&nbsp;&nbsp;starts the logging of ORDA requests onthe client side</p></td></tr><tr><td><a href="#DataStoreClass.html_starttransaction"><strong>.startTransaction()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;starts a transaction in the currentprocess on the database matching the datastore to which itapplies</p></td></tr><tr><td><a href="#DataStoreClass.html_stoprequestlog"><strong>.stopRequestLog()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;stops any logging of ORDA requests onthe client side</p></td></tr><tr><td><a href="#DataStoreClass.html_validatetransaction"><strong>.validateTransaction()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;accepts the transaction</p></td></tr></tbody></table><h2><span><a aria-hidden="true" class="anchor" id="DataStoreClass.html_ds"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_ds"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ds</span></h2><details><summary><span>History</span></summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18</td><td>Support of localID parameter</td></tr><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><span><strong>ds</strong> { ( <em>localID</em> : Text ) } :cs.DataStore</span></p><table><thead><tr><th>Parameter</th><th>Typ</th><th></th><th>Beschreibung</th></tr></thead><tbody><tr><td>localID</td><td>Text</td><td>-&gt;</td><td>Local ID of the remote datastore to return</td></tr><tr><td>Ergebnis</td><td>cs.DataStore</td><td>&lt;-</td><td>Reference to the datastore</td></tr></tbody></table><h4><span><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beschreibung"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</span></h4><p><span>The <code>ds</code> command returns a reference to thedatastore matching the current 4D database or the databasedesignated by <em>localID</em>.</span></p><p><span>If you omit the <em>localID</em> parameter (or pass anempty string ""), the command returns a reference to the datastorematching the local 4D database (or the 4D Server database in caseof opening a remote database on 4D Server). The datastore is openedautomatically and available directly through<code>ds</code>.</span></p><p><span>You can also get a reference on an open remote datastoreby passing its local id in the <em>localID</em> parameter. Thedatastore must have been previously opened with the <a href="#DataStoreClass.html_open-datastore"><code>Opendatastore</code></a> command by the current database (host orcomponent). The local id is defined when using thiscommand.</span></p><blockquote><p><span>The scope of the local id is the database where thedatastore has been opened.</span></p></blockquote><p><span>If no <em>localID</em> datastore is found, the commandreturns <strong>Null</strong>.</span></p><p><span>Objects available in the <code>cs.Datastore</code> aremapped from the target database with respect to the <a href="#DataStoreClass.html_general-rules">ORDA generalrules</a>.</span></p><h4><span><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-1"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 1</span></h4><p><span>Using the main datastore on the 4D database:</span></p><pre><span><code class="hljs css language-4d"> <span class="hljs-variable">$result</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName = :1"</span>;<span class="hljs-string">"S@"</span>)</code></span></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-2"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 2</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo</span>; <span class="hljs-variable">$firstFrench</span>; <span class="hljs-variable">$firstForeign </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$frenchStudents</span>; <span class="hljs-variable">$foreignStudents </span>: cs.DataStore <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"4D Server"</span>;<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"192.168.18.11:8044"</span>) <span class="hljs-variable">$frenchStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"french"</span>) <span class="hljs-variable">$connectTo</span>.hostname:=<span class="hljs-string">"192.168.18.11:8050"</span> <span class="hljs-variable">$foreignStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"foreign"</span>)  <span class="hljs-comment">//...</span>  <span class="hljs-comment">//...</span> <span class="hljs-variable">$firstFrench</span>:=<span class="hljs-function">getFirst</span>(<span class="hljs-string">"french"</span>;<span class="hljs-string">"Students"</span>) <span class="hljs-variable">$firstForeign</span>:=<span class="hljs-function">getFirst</span>(<span class="hljs-string">"foreign"</span>;<span class="hljs-string">"Students"</span>)</code></pre><pre><code class="hljs css language-4d">  <span class="hljs-comment">//getFirst method</span>  <span class="hljs-comment">//getFirst(localID;dataclass) -&gt; entity</span> #<span class="hljs-function">DECLARE</span>( <span class="hljs-variable">$localId </span>: Text; <span class="hljs-variable">$dataClassName </span>: Text ) -&gt; <span class="hljs-variable">$entity </span>: 4D.Entity <span class="hljs-variable">$0</span>:=ds(<span class="hljs-variable">$localId</span>)[<span class="hljs-variable">$dataClassName</span>].<span class="hljs-function">all</span>().<span class="hljs-function">first</span>()</code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_open-datastore"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_open-datastore"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Open datastore</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18</td><td>Added</td></tr></tbody></table></details><p><strong>Open datastore</strong>( <em>connectionInfo</em> :Object ; <em>localID</em> : Text ) : cs.DataStore</p><table><thead><tr><th>Parameter</th><th>Typ</th><th></th><th>Beschreibung</th></tr></thead><tbody><tr><td>connectionInfo</td><td>Objekt</td><td>-&gt;</td><td>Connection properties used to reach the remote datastore</td></tr><tr><td>localID</td><td>Text</td><td>-&gt;</td><td>Id to assign to the opened datastore on the local application(mandatory)</td></tr><tr><td>Ergebnis</td><td>cs.DataStore</td><td>&lt;-</td><td>Datastore object</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-1"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>Open datastore</code> command connects the applicationto the 4D database identified by the <em>connectionInfo</em>parameter and returns a matching <code>cs.DataStore</code> objectassociated with the <em>localID</em> local alias.</p><p>The <em>connectionInfo</em> 4D database must be available as aremote datastore, i.e.:</p><ul><li>its web server must be launched with http and/or httpsenabled,</li><li>its <a href="#DataStoreClass.html_starting-the-rest-server"><strong>Expose asREST server</strong></a> option must be checked,</li><li>at least one client license is available.</li></ul><p>If no matching database is found, <code>Open datastore</code>returns <strong>Null</strong>.</p><p><em>localID</em> is a local alias for the session opened onremote datastore. If <em>localID</em> already exists on theapplication, it is used. Otherwise, a new <em>localID</em> sessionis created when the datastore object is used.</p><p>Objects available in the <code>cs.Datastore</code> are mappedfrom the target database with respect to the <a href="#DataStoreClass.html_general-rules">ORDA general rules</a>.</p><p>Once the session is opened, the following statements becomeequivalent and return a reference on the same datastore object:</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$myds</span>:=<span class="hljs-function">Open datastore</span>(connectionInfo;<span class="hljs-string">"myLocalId"</span>) <span class="hljs-variable">$myds2</span>:=ds(<span class="hljs-string">"myLocalId"</span>)  <span class="hljs-comment">//$myds and $myds2 are equivalent</span></code></pre><p>Pass in <em>connectionInfo</em> an object describing the remotedatastore you want to connect to. It can contain the followingproperties (all properties are optional except<em>hostname</em>):</p><table><thead><tr><th>Property</th><th>Typ</th><th>Beschreibung</th></tr></thead><tbody><tr><td>hostname</td><td>Text</td><td>Name or IP address of the remote database + ":" + port number(port number is mandatory)</td></tr><tr><td>user</td><td>Text</td><td>User name</td></tr><tr><td>password</td><td>Text</td><td>User password</td></tr><tr><td>idleTimeout</td><td>Lange Ganzzahl</td><td>Inactivity session timeout (in minutes), after which thesession is automatically closed by 4D. If omitted, default value is60 (1h). The value cannot be &lt; 60 (if a lower value is passed,the timeout is set to 60). For more information, see<strong>Closing sessions</strong>.</td></tr><tr><td>tls</td><td>Boolean</td><td>Use secured connection(*). If omitted, false by default. Usinga secured connection is recommended whenever possible.</td></tr><tr><td>type</td><td>Text</td><td>Must be "4D Server"</td></tr></tbody></table><p>(*) If tls is true, the HTTPS protocol is used if:</p><ul><li>HTTPS is enabled on the remote datastore</li><li>the given port is the right HTTPS port configured in thedatabase settings</li><li>a valid certificate and private encryption key are installed inthe database. Otherwise, error "1610 - A remote request to host xxxhas failed" is raised</li></ul><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-1-1"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-1-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 1</h4><p>Connection to a remote datastore without user / password:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$remoteDS </span>: cs.DataStore <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"4D Server"</span>;<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"192.168.18.11:8044"</span>) <span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"students"</span>)<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"This remote datastore contains "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$remoteDS</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" students"</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-2-1"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-2-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 2</h4><p>Connection to a remote datastore with user / password / timeout/ tls:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$remoteDS </span>: cs.DataStore <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"4D Server"</span>;<span class="hljs-string">"hostname"</span>;\<span class="hljs-string">"192.168.18.11:4443"</span>;\      <span class="hljs-string">"user"</span>;<span class="hljs-string">"marie"</span>;<span class="hljs-string">"password"</span>;<span class="hljs-variable">$pwd</span>;<span class="hljs-string">"idleTimeout"</span>;<span class="hljs-number">70</span>;<span class="hljs-string">"tls"</span>;<span class="hljs-literal">True</span>) <span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"students"</span>)<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"This remote datastore contains "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$remoteDS</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" students"</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_example-3"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_example-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 3</h4><p>Working with several remote datastores:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connectTo </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$frenchStudents</span>; <span class="hljs-variable">$foreignStudents </span>: cs.DataStore <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"192.168.18.11:8044"</span>) <span class="hljs-variable">$frenchStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"french"</span>) <span class="hljs-variable">$connectTo</span>.hostname:=<span class="hljs-string">"192.168.18.11:8050"</span> <span class="hljs-variable">$foreignStudents</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"foreign"</span>)<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"They are "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$frenchStudents</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" French students"</span>)<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"They are "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$foreignStudents</span>.Students.<span class="hljs-function">all</span>().length)+<span class="hljs-string">" foreign students"</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_error-management"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_error-management"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Error management</h4><p>In case of error, the command returns <strong>Null</strong>. Ifthe remote datastore cannot be reached (wrong address, web servernot started, http and https not enabled...), error 1610 "A remoterequest to host XXX has failed" is raised. You can intercept thiserror with a method installed by <code>ON ERR CALL</code>.</p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_dataclassname"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_dataclassname"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><em>.dataclassName</em></h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong><em>.dataclassName</em></strong> : 4D.DataClass</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-2"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>Each dataclass in a datastore is available as a property of the<a href="#DataStoreClass.html_datastore">DataStore object</a>data.The returned object contains a description of the dataclass.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$emp </span>: cs.Employee<span class="hljs-keyword"> var</span> <span class="hljs-variable">$sel </span>: cs.EmployeeSelection <span class="hljs-variable">$emp</span>:=ds.Employee <span class="hljs-comment">//$emp contains the Employee dataclass</span> <span class="hljs-variable">$sel</span>:=<span class="hljs-variable">$emp</span>.<span class="hljs-function">all</span>() <span class="hljs-comment">//gets an entity selection of all employees</span>  <span class="hljs-comment">//you could also write directly:</span> <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">all</span>()</code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_canceltransaction"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_canceltransaction"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.cancelTransaction()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18</td><td>Added</td></tr></tbody></table></details><p><strong>.cancelTransaction()</strong> | Parameter | Typ | |Beschreibung | | --------- | --- |::|------------------------------- | | | | | Does not require anyparameters |</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-3"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.cancelTransaction()</code> function cancels thetransaction opened by the <a href="#DataStoreClass.html_starttransaction"><code>.startTransaction()</code></a>function at the corresponding level in the current process for thespecified datastore.</p><p>The <code>.cancelTransaction()</code> function cancels anychanges made to the data during the transaction.</p><p>You can nest several transactions (sub-transactions). If themain transaction is cancelled, all of its sub-transactions are alsocancelled, even if they were validated individually using the<a href="#DataStoreClass.html_validatetransactions"><code>.validateTransaction()</code></a>function.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-3"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>See example for the <a href="#DataStoreClass.html_starttransaction"><code>.startTransaction()</code></a>function.</p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_clearallremotecontexts"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_clearallremotecontexts"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.clearAllRemoteContexts()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v19 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.clearAllRemoteContexts()</strong> | Parameter | Typ | |Beschreibung | | --------- | --- |::|------------------------------- | | | | | Does not require anyparameters |</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-4"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.clearAllRemoteContexts()</code> function clears allthe attributes for all the active contexts in the datastore.</p><p>This function is mainly used in the context of debugging. Onething to keep in mind is that when you open the debugger, it sendsrequests to the server and queries all the dataclass attributes todisplay them. This can overload your contexts with unnecessarydata.</p><p>In such cases, you can use<code>.clearAllRemoteContexts()</code> to clear your contexts andkeep them clean.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_see-also"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_see-also"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>See also</h4><p><a href="#DataStoreClass.html_getremotecontextinfo">.getRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_getallremotecontexts">.getAllRemoteContexts()</a><br /><a href="#DataStoreClass.html_setremotecontextinfo">.setRemoteContextInfo()</a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_encryptionstatus"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_encryptionstatus"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.encryptionStatus()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.encryptionStatus()</strong>: Object</p><table><thead><tr><th>Parameter</th><th>Typ</th><th style="text-align:center"></th><th>Beschreibung</th></tr></thead><tbody><tr><td>Ergebnis</td><td>Objekt</td><td style="text-align:center">&lt;-</td><td>Information about the encryption of the current datastore andof each table</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-5"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.encryptionStatus()</code> function returns an objectproviding the encryption status for the current data file (i.e.,the data file of the <code>ds</code> datastore). The status foreach table is also provided.</p><blockquote><p>Use the <code>Data file encryption status</code> command todetermine the encryption status of any other data file.</p></blockquote><p><strong>Rückgabewert</strong></p><p>The returned object contains the following properties:</p><table><thead><tr><th>Property</th><th></th><th></th><th>Typ</th><th>Beschreibung</th></tr></thead><tbody><tr><td>isEncrypted</td><td></td><td></td><td>Boolean</td><td>True if the data file is encrypted</td></tr><tr><td>keyProvided</td><td></td><td></td><td>Boolean</td><td>True if the encryption key matching the encrypted data file isprovided(*).</td></tr><tr><td>Tabellen</td><td></td><td></td><td>Objekt</td><td>Object containing as many properties as there are encryptableor encrypted tables.</td></tr><tr><td></td><td><em>tableName</em></td><td></td><td>Objekt</td><td>Encryptable or Encrypted table</td></tr><tr><td></td><td></td><td>name</td><td>Text</td><td>Name of the table</td></tr><tr><td></td><td></td><td>num</td><td>Zahl</td><td>Table number</td></tr><tr><td></td><td></td><td>isEncryptable</td><td>Boolean</td><td>True if the table is declared encryptable in the structurefile</td></tr><tr><td></td><td></td><td>isEncrypted</td><td>Boolean</td><td>True if the records of the table are encrypted in the datafile</td></tr></tbody></table><p>(*) The encryption key can be provided:</p><ul><li>with the <code>.provideDataKey()</code> command,</li><li>at the root of a connected device before opening thedatastore,</li><li>with the <code>Discover data key</code> command.</li></ul><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-4"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>You want to know the number of encrypted tables in the currentdata file:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$status </span>: Object <span class="hljs-variable">$status</span>:=dataStore.<span class="hljs-function">encryptionStatus</span>()<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$status</span>.isEncrypted) <span class="hljs-comment">//the database is encrypted</span><span class="hljs-function">    C_LONGINT</span>(<span class="hljs-variable">$vcount</span>)<span class="hljs-function">    C_TEXT</span>(<span class="hljs-variable">$tabName</span>)<span class="hljs-keyword">    For each</span>(<span class="hljs-variable">$tabName</span>;<span class="hljs-variable">$status</span>.tables)<span class="hljs-keyword">       If</span>(<span class="hljs-variable">$status</span>.tables[<span class="hljs-variable">$tabName</span>].isEncrypted)          <span class="hljs-variable">$vcount</span>:=<span class="hljs-variable">$vcount</span>+<span class="hljs-number">1</span><span class="hljs-keyword">       End if</span><span class="hljs-keyword">    End for each</span><span class="hljs-function">    ALERT</span>(<span class="hljs-function">String</span>(<span class="hljs-variable">$vcount</span>)+<span class="hljs-string">" encrypted table(s) in this datastore."</span>)<span class="hljs-keyword"> Else</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"This database is not encrypted."</span>)<span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_getallremotecontexts"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_getallremotecontexts"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getAllRemoteContexts()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v19 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.getAllRemoteContexts()</strong> : Collection</p><table><thead><tr><th>Parameter</th><th>Typ</th><th></th><th>Beschreibung</th></tr></thead><tbody><tr><td>Ergebnis</td><td>Objekt</td><td>&lt;-</td><td>Collection of optimization context objects</td></tr></tbody></table><blockquote><p><strong>Advanced mode:</strong> This function is intended fordevelopers who need to customize ORDA default features for specificconfigurations. In most cases, you will not need to use it.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-6"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.getAllRemoteContexts()</code> function returns acollection of objects containing information on all the activeoptimization contexts in the datastore.</p><blockquote><p>For more information on how contexts can be created, see<a href="#DataStoreClass.html_clientserver-optimization">client/serveroptimization</a>.</p></blockquote><p>Each object in the returned collection has the properties listedin the <a href="#DataStoreClass.html_properties-of-the-returned-object"><code>.getRemoteContextInfo()</code></a>section.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-5"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-5"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>The following code sets up two contexts and retrieves them using<code>.getAllRemoteContexts()</code>:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-keyword">var</span> <span class="hljs-variable">$persons </span>: cs.PersonsSelection<span class="hljs-keyword">var</span> <span class="hljs-variable">$addresses </span>: cs.AddressSelection<span class="hljs-keyword">var</span> <span class="hljs-variable">$p </span>: cs.PersonsEntity<span class="hljs-keyword">var</span> <span class="hljs-variable">$a </span>: cs.AddressEntity<span class="hljs-keyword">var</span> <span class="hljs-variable">$contextA</span>; <span class="hljs-variable">$contextB </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$info </span>: Collection<span class="hljs-keyword">var</span> <span class="hljs-variable">$text </span>: Text<span class="hljs-comment">// Open remote datastore</span><span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)<span class="hljs-comment">// Set context A</span><span class="hljs-variable">$contextA</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>; <span class="hljs-string">"contextA"</span>)<span class="hljs-variable">$persons</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">all</span>(<span class="hljs-variable">$contextA</span>)<span class="hljs-variable">$text</span>:=<span class="hljs-string">""</span><span class="hljs-keyword"> For each</span> (<span class="hljs-variable">$p</span>; <span class="hljs-variable">$persons</span>)    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$p</span>.firstname+<span class="hljs-string">" lives in "</span>+<span class="hljs-variable">$p</span>.address.city+<span class="hljs-string">" / "</span><span class="hljs-keyword"> End for each</span> <span class="hljs-comment">// Set context B</span><span class="hljs-variable">$contextB</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>; <span class="hljs-string">"contextB"</span>)<span class="hljs-variable">$addresses</span>:=<span class="hljs-variable">$ds</span>.Address.<span class="hljs-function">all</span>(<span class="hljs-variable">$contextB</span>)<span class="hljs-variable">$text</span>:=<span class="hljs-string">""</span><span class="hljs-keyword"> For each</span> (<span class="hljs-variable">$a</span>; <span class="hljs-variable">$addresses</span>)    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$a</span>.zipCode<span class="hljs-keyword">End for each</span> <span class="hljs-comment">// Get all remote contexts (in this case, contextA and contextB)</span><span class="hljs-variable">$info</span>:=<span class="hljs-variable">$ds</span>.<span class="hljs-function">getAllRemoteContexts</span>()<span class="hljs-comment">//$info = [{name:"contextB"; dataclass:"Address"; main:"zipCode"},</span>{name:<span class="hljs-string">"contextA"</span>;dataclass:<span class="hljs-string">"Persons"</span>;main:<span class="hljs-string">"firstname,address.city"</span>}]</code></pre><blockquote><p>This example serves as a demonstration, it is not meant for realimplementation.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_see-also-1"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_see-also-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>See also</h4><p><a href="#DataStoreClass.html_getremotecontextinfo">.getRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_setremotecontextinfo">.setRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_clearallremotecontexts">.clearAllRemoteContexts()</a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_getinfo"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_getinfo"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getInfo()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17</td><td>Added</td></tr></tbody></table></details><p><strong>.getInfo()</strong>: Object</p><table><thead><tr><th>Parameter</th><th>Typ</th><th style="text-align:center"></th><th>Beschreibung</th></tr></thead><tbody><tr><td>Ergebnis</td><td>Objekt</td><td style="text-align:center">&lt;-</td><td>Datastore properties</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-7"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.getInfo()</code> function returns an object providinginformation about the datastore. This function is useful forsetting up generic code.</p><p><strong>Returned object</strong></p><table><thead><tr><th>Property</th><th>Typ</th><th>Beschreibung</th></tr></thead><tbody><tr><td>type</td><td>string</td><td><ul><li>"4D": main datastore, available through ds</li><li>"4D Server": remote datastore, open with Open datastore</li></ul></td></tr><tr><td>networked</td><td>Boolean</td><td><ul><li>True: the datastore is reached through a networkconnection.</li><li>False: the datastore is not reached through a networkconnection (local database)</li></ul></td></tr><tr><td>localID</td><td>Text</td><td>ID of the datastore on the machine. Corresponds to the localIdstring given with the <code>Open datastore</code> command. Emptystring ("") for main datastore.</td></tr><tr><td>connection</td><td>object</td><td>Object describing the remote datastore connection (not returnedfor main datastore). Available properties:<table><tr><th>Property</th><th>Typ</th><th>Beschreibung</th></tr><tr><td>hostname</td><td>Text</td><td>IP address or name of the remote datastore + ":" + portnumber</td></tr><tr><td>tls</td><td>Boolean</td><td>True if secured connection is used with the remotedatastore</td></tr><tr><td>idleTimeout</td><td>number</td><td>Session inactivity timeout (in minutes)</td></tr><tr><td>user</td><td>Text</td><td>User authenticated on the remote datastore</td></tr></table></td></tr></tbody></table><ul><li>If the <code>.getInfo()</code> function is executed on a 4DServer or 4D single-user, <code>networked</code> is False.</li><li>If the <code>.getInfo()</code> function is executed on a remote4D, <code>networked</code> is True</li></ul><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-1-2"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-1-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$info </span>: Object <span class="hljs-variable">$info</span>:=ds.<span class="hljs-function">getInfo</span>() <span class="hljs-comment">//Executed on 4D Server or 4D</span>  <span class="hljs-comment">//{"type":"4D","networked":false,"localID":""}</span> <span class="hljs-variable">$info</span>:=ds.<span class="hljs-function">getInfo</span>() <span class="hljs-comment">// Executed on 4D remote</span>  <span class="hljs-comment">//{"type":"4D","networked":true,"localID":""}</span></code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-2-2"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-2-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 2</h4><p>On a remote datastore:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">  var</span> <span class="hljs-variable">$remoteDS </span>: cs.DataStore<span class="hljs-keyword">  var</span> <span class="hljs-variable">$info</span>; <span class="hljs-variable">$connectTo </span>: Object <span class="hljs-variable">$connectTo</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"111.222.33.44:8044"</span>;<span class="hljs-string">"user"</span>;<span class="hljs-string">"marie"</span>;<span class="hljs-string">"password"</span>;<span class="hljs-string">"aaaa"</span>) <span class="hljs-variable">$remoteDS</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connectTo</span>;<span class="hljs-string">"students"</span>) <span class="hljs-variable">$info</span>:=<span class="hljs-variable">$remoteDS</span>.<span class="hljs-function">getInfo</span>()  <span class="hljs-comment">//{"type":"4D Server",</span>  <span class="hljs-comment">//"localID":"students",</span>  <span class="hljs-comment">//"networked":true,</span>  <span class="hljs-comment">//"connection":{hostname:"111.222.33.44:8044","tls":false,"idleTimeout":2880,"user":"marie"}}</span></code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_getremotecontextinfo"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_getremotecontextinfo"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getRemoteContextInfo()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v19 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.getRemoteContextInfo</strong>(<em>contextName</em> :Text) : Object</p><table><thead><tr><th>Parameter</th><th>Typ</th><th></th><th>Beschreibung</th></tr></thead><tbody><tr><td>contextName</td><td>Text</td><td>-&gt;</td><td>Name of the context</td></tr><tr><td>Ergebnis</td><td>Objekt</td><td>&lt;-</td><td>Description of the optimization context</td></tr></tbody></table><blockquote><p><strong>Advanced mode:</strong> This function is intended fordevelopers who need to customize ORDA default features for specificconfigurations. In most cases, you will not need to use it.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-8"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-8"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.getRemoteContextInfo()</code> function returns anobject that holds information on the <em>contextName</em>optimization context in the datastore..</p><p>For more information on how optimization contexts can becreated, see <a href="#DataStoreClass.html_clientserver-optimization">client/serveroptimization</a>.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_returned-object"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_returned-object"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Returned object</h4><p>The returned object has the following properties:</p><table><thead><tr><th>Property</th><th>Typ</th><th>Beschreibung</th></tr></thead><tbody><tr><td>name</td><td>Text</td><td>Name of the context</td></tr><tr><td>main</td><td>Text</td><td>Attribute(s) associated to the context (attribute names areseparated by a comma)</td></tr><tr><td>dataclass</td><td>Text</td><td>Dataclass name</td></tr><tr><td>currentItem (optional)</td><td>Text</td><td>The attributes of the <a href="#DataStoreClass.html_entity-selection-based-list-box">pagemode</a> if the context is linked to a list box. Returned as<code>Null</code> or empty text element if the context name is notused for a list box, or if there is no context for thecurrentItem</td></tr></tbody></table><p>Since contexts behave as filters for attributes, if<em>main</em> is returned empty, it means that no filter isapplied, and that the server returns all the dataclassattributes.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-6"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-6"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>See the example from the <a href="#DataStoreClass.html_example-1-3">.setRemoteContextInfo()</a>section.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_see-also-2"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_see-also-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>See also</h4><p><a href="#DataStoreClass.html_setremotecontextinfo">.setRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_getallremotecontexts">.getAllRemoteContexts()</a><br /><a href="#DataStoreClass.html_clearallremotecontexts">.clearAllRemoteContexts()</a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_getrequestlog"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_getrequestlog"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.getRequestLog()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.getRequestLog()</strong> : Collection</p><table><thead><tr><th>Parameter</th><th>Typ</th><th style="text-align:center"></th><th>Beschreibung</th></tr></thead><tbody><tr><td>Ergebnis</td><td>Collection</td><td style="text-align:center">&lt;-</td><td>Collection of objects, where each object describes arequest</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-9"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.getRequestLog()</code> function returns the ORDArequests logged in memory on the client side. The ORDA requestlogging must have previously been enabled using the <a href="#DataStoreClass.html_startrequestlog"><code>.startRequestLog()</code></a>function.</p><p>This function must be called on a remote 4D, otherwise itreturns an empty collection. It is designed for debugging purposesin client/server configurations.</p><p><strong>Rückgabewert</strong></p><p>Collection of stacked request objects. The most recent requesthas index 0.</p><p>For a description of the ORDA request log format, please referto the <a href="#DataStoreClass.html_4385373"><strong>ORDA clientrequests</strong></a> section.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-7"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-7"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>See Example 2 of <a href="#DataStoreClass.html_startrequestlog"><code>.startRequestLog()</code></a>.</p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_isadminprotected"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_isadminprotected"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.isAdminProtected()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.isAdminProtected()</strong> : Boolean</p><table><thead><tr><th>Parameter</th><th>Typ</th><th style="text-align:center"></th><th>Beschreibung</th></tr></thead><tbody><tr><td>Ergebnis</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>True if the Data Explorer access is disabled, False if it isenabled (default)</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-10"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-10"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.isAdminProtected()</code> function returns<code>True</code> if <a href="#dataExplorer.html">Data Explorer</a>access has been disabled for the working session.</p><p>By default, the Data Explorer access is granted for<code>webAdmin</code> sessions, but it can be disabled to preventany data access from administrators (see the <a href="#DataStoreClass.html_setadminprotection"><code>.setAdminProtection()</code></a>function).</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_see-also-3"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_see-also-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>See also</h4><p><a href="#DataStoreClass.html_setadminprotection"><code>.setAdminProtection()</code></a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_makeselectionsalterable"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_makeselectionsalterable"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.makeSelectionsAlterable()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.makeSelectionsAlterable()</strong> | Parameter | Typ || Beschreibung | | --------- | --- |::|------------------------------- | | | | | Does not require anyparameters |</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-11"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-11"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.makeSelectionsAlterable()</code> function sets allentity selections as alterable by default in the currentapplication datastores (including <a href="#datastores.html">remotedatastores</a>). It is intended to be used once, for example in the<code>On Startup</code> database method.</p><p>When this function is not called, new entity selections can beshareable, depending on the nature of their "parent", or <a href="#DataStoreClass.html_shareable-or-non-shareable-entity-selections">how they are created</a>.</p><blockquote><p>This function does not modify entity selections created by<a href="#DataStoreClass.html_copy"><code>.copy()</code></a> or<code>OB Copy</code> when the explicit <code>ck shared</code>option is used.</p></blockquote><blockquote><p><strong>Compatibility</strong>: This function must only be usedin projects converted from 4D versions prior to 4D v18 R5 andcontaining <a href="#DataStoreClass.html_add">.add()</a> calls. Inthis context, using <code>.makeSelectionsAlterable()</code> cansave time by restoring instantaneously the previous 4D behavior inexisting projects. On the other hand, using this method in newprojects created in 4D v18 R5 and higher <strong>is notrecommended</strong>, since it prevents entity selections to beshared, which provides greater performance and scalabitlity.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_providedatakey"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_providedatakey"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.provideDataKey()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.provideDataKey</strong>( <em>curPassPhrase</em> : Text) : Object<br /><strong>.provideDataKey</strong>( <em>curDataKey</em> : Object ) :Object</p><table><thead><tr><th>Parameter</th><th>Typ</th><th></th><th>Beschreibung</th></tr></thead><tbody><tr><td>curPassPhrase</td><td>Text</td><td>-&gt;</td><td>Current encryption passphrase</td></tr><tr><td>curDataKey</td><td>Objekt</td><td>-&gt;</td><td>Current data encryption key</td></tr><tr><td>Ergebnis</td><td>Objekt</td><td>&lt;-</td><td>Result of the encryption key matching</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-12"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-12"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.provideDataKey()</code> function allows providing adata encryption key for the current data file of the datastore anddetects if the key matches the encrypted data. This function can beused when opening an encrypted database, or when executing anyencryption operation that requires the encryption key, such asre-encrypting the data file.</p><blockquote><ul><li>The <code>.provideDataKey()</code> function must be called inan encrypted database. If it is called in a non-encrypted database,the error 2003 (the encryption key does not match the data.) isreturned. Use the <code>Data file encryption status</code> commandto determine if the database is encrypted.</li><li>The <code>.provideDataKey()</code> function cannot be calledfrom a remote 4D or an encrypted remote datastore.</li></ul></blockquote><p>If you use the <em>curPassPhrase</em> parameter, pass the stringused to generate the data encryption key. When you use thisparameter, an encryption key is generated.</p><p>If you use the <em>curDataKey</em> parameter, pass an object(with <em>encodedKey</em> property) that contains the dataencryption key. This key may have been generated with the <code>Newdata key</code> command.</p><p>If a valid data encryption key is provided, it is added to the<em>keyChain</em> in memory and the encryption mode is enabled:</p><ul><li>all data modifications in encryptable tables are encrypted ondisk (.4DD, .journal. 4Dindx files)</li><li>all data loaded from encryptable tables is decrypted inmemory</li></ul><p><strong>Ergebnis</strong></p><p>The result of the command is described in the returnedobject:</p><table><thead><tr><th>Property</th><th></th><th>Typ</th><th>Beschreibung</th></tr></thead><tbody><tr><td>success</td><td></td><td>Boolean</td><td>True if the provided encryption key matches the encrypted data,False otherwise</td></tr><tr><td></td><td></td><td></td><td>Properties below are returned only if success is<em>FALSE</em></td></tr><tr><td>status</td><td></td><td>Zahl</td><td>Error code (4 if the provided encryption key is wrong)</td></tr><tr><td>statusText</td><td></td><td>Text</td><td>Error message</td></tr><tr><td>errors</td><td></td><td>Collection</td><td>Stack of errors. The first error has the highest index</td></tr><tr><td></td><td>[ ].componentSignature</td><td>Text</td><td>Internal component name</td></tr><tr><td></td><td>[ ].errCode</td><td>Zahl</td><td>Error number</td></tr><tr><td></td><td>[ ].message</td><td>Text</td><td>Error message</td></tr></tbody></table><p>If no <em>curPassphrase</em> or <em>curDataKey</em> is given,<code>.provideDataKey()</code> returns <strong>null</strong> (noerror is generated).</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-8"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-8"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$keyStatus </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$passphrase </span>: Text <span class="hljs-variable">$passphrase</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Enter the passphrase"</span>)<span class="hljs-keyword"> If</span>(OK=<span class="hljs-number">1</span>)    <span class="hljs-variable">$keyStatus</span>:=ds.<span class="hljs-function">provideDataKey</span>(<span class="hljs-variable">$passphrase</span>)<span class="hljs-keyword">    If</span>(<span class="hljs-variable">$keyStatus</span>.success)<span class="hljs-function">       ALERT</span>(<span class="hljs-string">"You have provided a valid encryption key"</span>)<span class="hljs-keyword">    Else</span><span class="hljs-function">       ALERT</span>(<span class="hljs-string">"You have provided an invalid encryption key, you will not be able to work with encrypted data"</span>)<span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_setadminprotection"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_setadminprotection"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.setAdminProtection()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.setAdminProtection</strong>( <em>status</em> : Boolean)</p><table><thead><tr><th>Parameter</th><th>Typ</th><th></th><th>Beschreibung</th></tr></thead><tbody><tr><td>status</td><td>Boolean</td><td>-&gt;</td><td>True to disable Data Explorer access to data on the<code>webAdmin</code> port, False (default) to grant access</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-13"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-13"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.setAdminProtection()</code> function allows disablingany data access on the <a href="#DataStoreClass.html_http-port">webadmin port</a>, including for the <a href="#dataExplorer.html">DataExplorer</a> in <code>WebAdmin</code> sessions.</p><p>By default when the function is not called, access to data isalways granted on the web administration port for a session with<code>WebAdmin</code> privilege using the Data Explorer. In someconfigurations, for example when the application server is hostedon a third-party machine, you might not want the administrator tobe able to view your data, although they can edit the serverconfiguration, including the <a href="#DataStoreClass.html_access-key">access key</a> settings.</p><p>In this case, you can call this function to disable the dataaccess from Data Explorer on the web admin port of the machine,even if the user session has the <code>WebAdmin</code> privilege.When this function is executed, the data file is immediatelyprotected and the status is stored on disk: the data file will beprotected even if the application is restarted.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-9"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-9"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>You create a <em>protectDataFile</em> project method to callbefore deployments for example:</p><pre><code class="hljs css language-4d"> ds.<span class="hljs-function">setAdminProtection</span>(<span class="hljs-literal">True</span>) <span class="hljs-comment">//Disables the Data Explorer data access</span></code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_see-also-4"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_see-also-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>See also</h4><p><a href="#DataStoreClass.html_isadminprotected"><code>.isAdminProtected()</code></a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_setremotecontextinfo"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_setremotecontextinfo"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.setRemoteContextInfo()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v19 R5</td><td>Added</td></tr></tbody></table></details><p><strong>.setRemoteContextInfo</strong>( <em>contextName</em> :Text ; <em>dataClassName</em> : Text ; <em>attributes</em> : Text{; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer}})<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassName</em> : Text; <em>attributesColl</em> :Collection {; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer }} )<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassObject</em> : 4D.DataClass ; <em>attributes</em> :Text {; <em>contextType</em> : Text { ; <em>pageLength</em> :Integer }})<br /><strong>.setRemoteContextInfo</strong>( <em>contextName</em> : Text; <em>dataClassObject</em> : 4D.DataClass ; <em>attributesColl</em>: Collection {; <em>contextType</em> : Text { ; <em>pageLength</em>: Integer }} )</p><table><thead><tr><th>Parameter</th><th>Typ</th><th></th><th>Beschreibung</th></tr></thead><tbody><tr><td>contextName</td><td>Text</td><td>-&gt;</td><td>Name of the context</td></tr><tr><td>dataClassName</td><td>Text</td><td>-&gt;</td><td>Name of the dataclass</td></tr><tr><td>dataClassObject</td><td>4D.DataClass</td><td>-&gt;</td><td>dataclass object (e.g datastore.Employee)</td></tr><tr><td>attributes</td><td>Text</td><td>-&gt;</td><td>Attribute list separated by a comma</td></tr><tr><td>attributesColl</td><td>Collection</td><td>-&gt;</td><td>Collection of attribute names (text)</td></tr><tr><td>contextType</td><td>Text</td><td>-&gt;</td><td>If provided, value must be "main" or "currentItem"</td></tr><tr><td>pageLength</td><td>Ganzzahl</td><td>-&gt;</td><td>Page length of the entity selection linked to the context(default is 80)</td></tr></tbody></table><blockquote><p><strong>Advanced mode:</strong> This function is intended fordevelopers who need to customize ORDA default features for specificconfigurations. In most cases, you will not need to use it.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-14"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-14"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.setRemoteContextInfo()</code> function links thespecified dataclass attributes to the <em>contextName</em>optimization context. If an optimization context already exists forthe specified attributes, this command replaces it.</p><p>When you pass a context to the ORDA class functions, the RESTrequest optimization is triggered immediately:</p><ul><li>the first entity is not fully loaded as done in automaticmode</li><li>pages of 80 entities (or <code>pageLength</code> entities) areimmediately asked to the server with only the attributes in thecontext</li></ul><blockquote><p>For more information on how optimization contexts are built,refer to the <a href="#DataStoreClass.html_clientserver-optimization">client/serveroptimization paragraph</a></p></blockquote><p>In <em>contextName</em>, pass the name of the optimizationcontext to link to the dataclass attributes.</p><p>To designate the dataclass that will receive the context, youcan pass a <em>dataClassName</em> or a<em>dataClassObject</em>.</p><p>To designate the attributes to link to the context, pass eithera list of attributes separated by a comma in <em>attributes</em>(Text), or a collection of attribute names in<em>attributesColl</em> (collection of text).</p><p>If <em>attributes</em> is an empty Text, or<em>attributesColl</em> is an empty collection, all the scalarattributes of the dataclass are put in the optimization context. Ifyou pass an attribute that does not exist in the dataclass, thefunction ignores it and an error is thrown.</p><p>You can pass a <em>contextType</em> to specify if the context isa standard context or the context of the current entity selectionitem displayed in a list box:</p><ul><li>If set to "main" (default), the <em>contextName</em> designatesa standard context.</li><li>If set to "currentItem", the attributes passed are put in thecontext of the current item. See <a href="#DataStoreClass.html_entity-selection-based-list-box">Entityselection-based list box</a>.</li></ul><p>In <em>pageLength</em>, specify the number of dataclass entitiesto request from the server.</p><p>You can pass a <em>pageLength</em> for a relation attributewhich is an entity selection (one to many). The syntax is<code>relationAttributeName:pageLength</code> (e.gemployees:20).</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-1-3"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-1-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-keyword">var</span> <span class="hljs-variable">$persons </span>: cs.PersonsSelection<span class="hljs-keyword">var</span> <span class="hljs-variable">$p </span>: cs.PersonsEntity<span class="hljs-keyword">var</span> <span class="hljs-variable">$contextA </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$info </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$text </span>: Text<span class="hljs-comment">// Open remote datastore</span><span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)<span class="hljs-comment">// Set context info</span><span class="hljs-variable">$contextA</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>; <span class="hljs-string">"contextA"</span>)<span class="hljs-variable">$ds</span>.<span class="hljs-function">setRemoteContextInfo</span>(<span class="hljs-string">"contextA"</span>; <span class="hljs-variable">$ds</span>.Persons; <span class="hljs-string">"firstname, lastname"</span>)<span class="hljs-comment">// Send requests to the server using a loop</span><span class="hljs-variable">$persons</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">all</span>(<span class="hljs-variable">$contextA</span>)<span class="hljs-variable">$text</span>:=<span class="hljs-string">""</span><span class="hljs-keyword"> For each</span> (<span class="hljs-variable">$p</span>; <span class="hljs-variable">$persons</span>)    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$p</span>.firstname + <span class="hljs-string">" "</span> + <span class="hljs-variable">$p</span>.lastname<span class="hljs-keyword">End for each</span> <span class="hljs-comment">// Check contents of the context</span><span class="hljs-variable">$info</span>:=<span class="hljs-variable">$ds</span>.<span class="hljs-function">getRemoteContextInfo</span>(<span class="hljs-string">"contextA"</span>)<span class="hljs-comment">// $info = {name:"contextA";dataclass:"Persons";main:"firstname, lastname"} </span></code></pre><blockquote><p>This example serves as a demonstration, it is not meant for realimplementation.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-2-3"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-2-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 2</h4><p>The following piece of code requests pages of 30 entities of the<code>Address</code> dataclass from the server. The returnedentities only contain the <code>zipCode</code> attribute.</p><p>For each <code>Address</code> entity, 20 Persons entities arereturned, and they only contain the <code>lastname</code> and<code>firstname</code> attributes:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)<span class="hljs-variable">$ds</span>.<span class="hljs-function">setRemoteContextInfo</span>(<span class="hljs-string">"contextA"</span>; <span class="hljs-variable">$ds</span>.Address; <span class="hljs-string">"zipCode, persons:20,\persons.lastname, persons.firstname"</span>; <span class="hljs-string">"main"</span>; <span class="hljs-number">30</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_example-3---listbox"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_example-3---listbox"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 3 - Listbox</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// When the form loads</span><span class="hljs-keyword">Case of</span>     : (Form event code=On Load)        Form.ds:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)       <span class="hljs-comment">// Set the attributes of the page context</span>        Form.ds.<span class="hljs-function">setRemoteContextInfo</span>(<span class="hljs-string">"LB"</span>; Form.ds.Persons; <span class="hljs-string">"age, gender,\        children"</span>; <span class="hljs-string">"currentItem"</span>)        Form.settings:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>; <span class="hljs-string">"LB"</span>)        Form.persons:=Form.ds.Persons.<span class="hljs-function">all</span>(Form.settings)         <span class="hljs-comment">// Form.persons is displayed in a list box</span><span class="hljs-keyword">End case</span> <span class="hljs-comment">// When you get the attributes in the context of the current item:</span>Form.currentItemLearntAttributes:=Form.selectedPerson.<span class="hljs-function">getRemoteContextAttributes</span>()<span class="hljs-comment">// Form.currentItemLearntAttributes = "age, gender, children" </span></code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_see-also-5"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_see-also-5"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>See also</h4><p><a href="#DataStoreClass.html_getremotecontextinfo">.getRemoteContextInfo()</a><br /><a href="#DataStoreClass.html_getallremotecontexts">.getAllRemoteContexts()</a><br /><a href="#DataStoreClass.html_clearallremotecontexts">.clearAllRemoteContexts()</a></p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_startrequestlog"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_startrequestlog"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.startRequestLog()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.startRequestLog</strong>()<br /><strong>.startRequestLog</strong>( <em>file</em> : 4D.File )<br /><strong>.startRequestLog</strong>( <em>reqNum</em> : Integer )</p><table><thead><tr><th>Parameter</th><th>Typ</th><th></th><th>Beschreibung</th></tr></thead><tbody><tr><td>file</td><td>4D.File</td><td>-&gt;</td><td>File object</td></tr><tr><td>reqNum</td><td>Ganzzahl</td><td>-&gt;</td><td>Number of requests to keep in memory</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-15"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-15"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.startRequestLog()</code> function starts the loggingof ORDA requests on the client side.</p><p>This function must be called on a remote 4D, otherwise it doesnothing. It is designed for debugging purposes in client/serverconfigurations.</p><p>The ORDA request log can be sent to a file or to memory,depending on the parameter type:</p><ul><li>If you passed a <em>file</em> object created with the<code>File</code> command, the log data is written in this file asa collection of objects (JSON format). Each object represents arequest.<br />If the file does not already exist, it is created. Otherwise if thefile already exists, the new log data is appended to it. If<code>.startRequestLog( )</code> is called with a file while alogging was previously started in memory, the memory log is stoppedand emptied.</li></ul><blockquote><p>A ] character must be manually appended at the end of the fileto perform a JSON validation</p></blockquote><ul><li><p>If you passed a <em>reqNum</em> integer, the log in memory isemptied (if any) and a new log is initialized. It will keep<em>reqNum</em> requests in memory until the number is reached, inwhich case the oldest entries are emptied (FIFO stack).<br />If <code>.startRequestLog()</code> is called with a <em>reqNum</em>while a logging was previously started in a file, the file loggingis stopped.</p></li><li><p>If you did not pass any parameter, the log is started in memory.If <code>.startRequestLog()</code> was previously called with a<em>reqNum</em> (before a <code>.stopRequestLog()</code>), the logdata is stacked in memory until the next time the log is emptied or<code>.stopRequestLog()</code> is called.</p></li></ul><p>For a description of the ORDA request log format, please referto the <a href="#DataStoreClass.html_4385373"><strong>ORDA clientrequests</strong></a> section.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-1-4"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-1-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 1</h4><p>You want to log ORDA client requests in a file and use the logsequence number:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$file </span>: 4D.File<span class="hljs-keyword"> var</span> <span class="hljs-variable">$e </span>: cs.PersonsEntity <span class="hljs-variable">$file</span>:=<span class="hljs-function">File</span>(<span class="hljs-string">"/LOGS/ORDARequests.txt"</span>) <span class="hljs-comment">//logs folder</span><span class="hljs-function"> SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">1</span>) <span class="hljs-comment">//to trigger the global log sequence number</span> ds.<span class="hljs-function">startRequestLog</span>(<span class="hljs-variable">$file</span>) <span class="hljs-variable">$e</span>:=ds.Persons.<span class="hljs-function">get</span>(<span class="hljs-number">30001</span>) <span class="hljs-comment">//send a request</span> ds.<span class="hljs-function">stopRequestLog</span>()<span class="hljs-function"> SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">0</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-2-4"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-2-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 2</h4><p>You want to log ORDA client requests in memory:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.PersonsSelection<span class="hljs-keyword"> var</span> <span class="hljs-variable">$log </span>: Collection ds.<span class="hljs-function">startRequestLog</span>(<span class="hljs-number">3</span>) <span class="hljs-comment">//keep 3 requests in memory</span> <span class="hljs-variable">$es</span>:=ds.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"name=:1"</span>;<span class="hljs-string">"Marie"</span>) <span class="hljs-variable">$es</span>:=ds.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"name IN :1"</span>;<span class="hljs-function">New collection</span>(<span class="hljs-string">"Marie"</span>)) <span class="hljs-variable">$es</span>:=ds.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"name=:1"</span>;<span class="hljs-string">"So@"</span>) <span class="hljs-variable">$log</span>:=ds.<span class="hljs-function">getRequestLog</span>()<span class="hljs-function"> ALERT</span>(<span class="hljs-string">"The longest request lasted: "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$log</span>.<span class="hljs-function">max</span>(<span class="hljs-string">"duration"</span>))+<span class="hljs-string">" ms"</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_starttransaction"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_starttransaction"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.startTransaction()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18</td><td>Added</td></tr></tbody></table></details><p><strong>.startTransaction()</strong> | Parameter | Typ | |Beschreibung | | --------- | --- | |------------------------------- | | | | | Does not require anyparameters |</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-16"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-16"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.startTransaction()</code> function starts atransaction in the current process on the database matching thedatastore to which it applies. Any changes made to the datastore'sentities in the transaction's process are temporarily stored untilthe transaction is either validated or cancelled.</p><blockquote><p>If this method is called on the main datastore (i.e. thedatastore returned by the <code>ds</code> command), the transactionis applied to all operations performed on the main datastore and onthe underlying database, thus including ORDA and classiclanguages.</p></blockquote><p>You can nest several transactions (sub-transactions). Eachtransaction or sub-transaction must eventually be cancelled orvalidated. Note that if the main transaction is cancelled, all ofits sub-transactions are also cancelled even if they were validatedindividually using the <code>.validateTransaction()</code>function.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-10"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-10"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$connect</span>; <span class="hljs-variable">$status </span>: Object<span class="hljs-keyword"> var</span> <span class="hljs-variable">$person </span>: cs.PersonsEntity<span class="hljs-keyword"> var</span> <span class="hljs-variable">$ds </span>: cs.DataStore<span class="hljs-keyword"> var</span> <span class="hljs-variable">$choice </span>: Text<span class="hljs-keyword"> var</span> <span class="hljs-variable">$error </span>: Boolean<span class="hljs-keyword"> Case of</span>    :(<span class="hljs-variable">$choice</span>=<span class="hljs-string">"local"</span>)       <span class="hljs-variable">$ds</span>:=ds    :(<span class="hljs-variable">$choice</span>=<span class="hljs-string">"remote"</span>)       <span class="hljs-variable">$connect</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>;<span class="hljs-string">"111.222.3.4:8044"</span>)       <span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-variable">$connect</span>;<span class="hljs-string">"myRemoteDS"</span>)<span class="hljs-keyword"> End case</span> <span class="hljs-variable">$ds</span>.<span class="hljs-function">startTransaction</span>() <span class="hljs-variable">$person</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">query</span>(<span class="hljs-string">"lastname=:1"</span>;<span class="hljs-string">"Peters"</span>).<span class="hljs-function">first</span>()<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$person</span>#<span class="hljs-literal">Null</span>)    <span class="hljs-variable">$person</span>.lastname:=<span class="hljs-string">"Smith"</span>    <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$person</span>.<span class="hljs-function">save</span>()<span class="hljs-keyword"> End if</span> ... ...<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$error</span>)    <span class="hljs-variable">$ds</span>.<span class="hljs-function">cancelTransaction</span>()<span class="hljs-keyword"> Else</span>    <span class="hljs-variable">$ds</span>.<span class="hljs-function">validateTransaction</span>()<span class="hljs-keyword"> End if</span> ...<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$error</span>)    <span class="hljs-variable">$ds</span>.<span class="hljs-function">cancelTransaction</span>()<span class="hljs-keyword"> Else</span>    <span class="hljs-variable">$ds</span>.<span class="hljs-function">validateTransaction</span>()<span class="hljs-keyword"> End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_stoprequestlog"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_stoprequestlog"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.stopRequestLog()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v17 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.stopRequestLog()</strong><br />| Parameter | Typ | | Beschreibung | | --------- | --- | |------------------------------- | | | | | Does not require anyparameters |</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-17"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-17"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.stopRequestLog()</code> function stops any logging ofORDA requests on the client side (in file or in memory). It isparticularly useful when logging in a file, since it actuallycloses the opened document on disk.</p><p>This function must be called on a remote 4D, otherwise it doesnothing. It is designed for debugging purposes in client/serverconfigurations.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-11"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-11"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>See examples for <a href="#DataStoreClass.html_startrequestlog"><code>.startRequestLog()</code></a>.</p><h2><a aria-hidden="true" class="anchor" id="DataStoreClass.html_validatetransaction"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_validatetransaction"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.validateTransaction()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18</td><td>Added</td></tr></tbody></table></details><p><strong>.validateTransaction()</strong><br />| Parameter | Typ | | Beschreibung | | --------- | --- | |------------------------------- | | | | | Does not require anyparameters |</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beschreibung-18"></a><a aria-hidden="true"class="hash-link" href="#DataStoreClass.html_beschreibung-18"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.validateTransaction()</code> function accepts thetransaction that was started with <a href="#DataStoreClass.html_starttransaction"><code>.startTransaction()</code></a>at the corresponding level on the specified datastore.</p><p>The function saves the changes to the data on the datastore thatoccurred during the transaction.</p><p>You can nest several transactions (sub-transactions). If themain transaction is cancelled, all of its sub-transactions are alsocancelled, even if they were validated individually using thisfunction.</p><h4><a aria-hidden="true" class="anchor" id="DataStoreClass.html_beispiel-12"></a><a aria-hidden="true" class="hash-link" href="#DataStoreClass.html_beispiel-12"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>See example for <a href="#DataStoreClass.html_starttransaction"><code>.startTransaction()</code></a>.</p><style><![CDATA[ h2 { background: #d9ebff;}]]></style></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#DataClassAttributeClass.html"><span class="arrow-prev">←</span><span class="function-name-prevnext">DataClassAttribute</span></a><a class="docs-next button" href="#EmailObjectClass.html"><span>Email</span><span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#DataStoreClass.html_ds">ds</a></li><li><a href="#DataStoreClass.html_open-datastore">Opendatastore</a></li><li><a href="#DataStoreClass.html_dataclassname"><em>.dataclassName</em></a></li><li><a href="#DataStoreClass.html_canceltransaction">.cancelTransaction()</a></li><li><a href="#DataStoreClass.html_clearallremotecontexts">.clearAllRemoteContexts()</a></li><li><a href="#DataStoreClass.html_encryptionstatus">.encryptionStatus()</a></li><li><a href="#DataStoreClass.html_getallremotecontexts">.getAllRemoteContexts()</a></li><li><a href="#DataStoreClass.html_getinfo">.getInfo()</a></li><li><a href="#DataStoreClass.html_getremotecontextinfo">.getRemoteContextInfo()</a></li><li><a href="#DataStoreClass.html_getrequestlog">.getRequestLog()</a></li><li><a href="#DataStoreClass.html_isadminprotected">.isAdminProtected()</a></li><li><a href="#DataStoreClass.html_makeselectionsalterable">.makeSelectionsAlterable()</a></li><li><a href="#DataStoreClass.html_providedatakey">.provideDataKey()</a></li><li><a href="#DataStoreClass.html_setadminprotection">.setAdminProtection()</a></li><li><a href="#DataStoreClass.html_setremotecontextinfo">.setRemoteContextInfo()</a></li><li><a href="#DataStoreClass.html_startrequestlog">.startRequestLog()</a></li><li><a href="#DataStoreClass.html_starttransaction">.startTransaction()</a></li><li><a href="#DataStoreClass.html_stoprequestlog">.stopRequestLog()</a></li><li><a href="#DataStoreClass.html_validatetransaction">.validateTransaction()</a></li></ul></nav></div></div></body></html>