<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Authentication · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Authenticating users is necessary when you want to provide specific access rights to web users. Authentication designates the way the information concerning the user credentials (usually name and password) are collected and processed."name="description" /><meta content="de" name="docsearch:language" /><meta content="Authentication · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Authenticating users is necessary when you want to provide specific access rights to web users. Authentication designates the way the information concerning the user credentials (usually name and password) are collected and processed."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#authentication.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Authentication<a aria-hidden="true" class="anchor" id="authentication.html"></a></h1></header><article><div><p><span>Authenticating users is necessary when you want to providespecific access rights to web users. Authentication designates theway the information concerning the user credentials (usually nameand password) are collected and processed.</span></p><h2><span><a aria-hidden="true" class="anchor" id="authentication.html_authentication-modes"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_authentication-modes"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Authentication modes</span></h2><p><span>The 4D web server proposes three authentication modes,that you can select in the <strong>Web</strong>/<strong>Options(I)</strong> page of the Settings dialog box:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/authentication.png" /></span></p><blockquote><p><span>Using a <strong>custom</strong> authentication isrecommended.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="authentication.html_%C3%BCberblick"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_%25C3%25BCberblick"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Überblick</span></h3><p><span>The operation of the 4D web server's access system issummarized in the following diagram:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/serverAccess.png" /></span></p><blockquote><p><span>Requests starting with <code>rest/</code> are directlyhandled by the <a href="#configuration.html">RESTserver</a>.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="authentication.html_custom-default"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_custom-default"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Custom (default)</span></h3><p><span>Basically in this mode, it's up to the developer to definehow to authenticate users. 4D only evaluates HTTP requests <a href="#authentication.html_method-calls">that require anauthentication</a>.</span></p><p><span>This authentication mode is the most flexible because itallows you to:</span></p><ul><li><span>either, delegate the user authentication to a third-partyapplication (e.g. a social network, SSO);</span></li><li><span>or, provide an interface to the user (e.g. a web form) sothat they can create their account in your customer database; then,you can authenticate users with any custom algorithm (see <a href="#authentication.html_example">this example</a> from the "Usersessions" chapter). The important thing is that you never store thepassword in clear, using such code:</span></li></ul><pre><span><code class="hljs css language-4d"><span class="hljs-comment">//... user account creation</span>ds.webUser.password:=<span class="hljs-function">Generate password hash</span>(<span class="hljs-variable">$password</span>)  ds.webUser.<span class="hljs-function">save</span>()</code></span></pre><p>See also <a href="#authentication.html_authenticating-users">this example</a> fromthe "Getting started" chapter.</p><p>If no custom authentication is provided, 4D calls the <a href="#authentication.html_on-web-authentication"><code>On WebAuthentication</code></a> database method (if it exists). Inaddition to $1 and $2, only the IP addresses of the browser and theserver ($3 and $4) are provided, the user name and password ($5 and$6) are empty. The method must return <strong>True</strong> in $0if the user is successfully authenticated, then the resquestedresource is served, or <strong>False</strong> in $0 if theauthentication failed.</p><blockquote><p><strong>Warning:</strong> If the <code>On WebAuthentication</code> database method does not exist, connectionsare automatically accepted (test mode).</p></blockquote><h3><a aria-hidden="true" class="anchor" id="authentication.html_basic-protocol"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_basic-protocol"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Basic protocol</h3><p>When a user connects to the server, a standard dialog boxappears on their browser in order for them to enter their user nameand password.</p><blockquote><p>The name and password entered by the user are sent unencryptedin the HTTP request header. This mode typically requires HTTPS toprovide confidentiality.</p></blockquote><p>Entered values are then evaluated:</p><ul><li><p>If the <strong>Include 4D passwords</strong> option is checked,user credentials will be first evaluated against the <a href="#overview.html">internal 4D users table</a>.</p><ul><li>If the user name sent by the browser exists in the table of 4Dusers and the password is correct, the connection is accepted. Ifthe password is incorrect, the connection is refused.</li><li>If the user name does not exist in the table of 4D users, the<a href="#authentication.html_on-web-authentication"><code>On WebAuthentication</code></a> database method is called. If the<code>On Web Authentication</code> database method does not exist,connections are rejected.</li></ul></li><li><p>If the <strong>Include 4D passwords</strong> option is notchecked, user credentials are sent to the <a href="#authentication.html_on-web-authentication"><code>On WebAuthentication</code></a> database method along with the otherconnection parameters (IP address and port, URL...) so that you canprocess them. If the <code>On Web Authentication</code> databasemethod does not exist, connections are rejected.</p></li></ul><blockquote><p>With the 4D Client web server, keep in mind that all the sitespublished by the 4D Client machines will share the same table ofusers. Validation of users/passwords is carried out by the 4DServer application.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="authentication.html_digest-protocol"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_digest-protocol"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>DIGEST protocol</h3><p>This mode provides a greater level of security since theauthentication information is processed by a one-way process calledhashing which makes their contents impossible to decipher.</p><p>As in BASIC mode, users must enter their name and password whenthey connect. The <a href="#authentication.html_on-web-authentication"><code>On WebAuthentication</code></a> database method is then called. When theDIGEST mode is activated, the $6 parameter (password) is alwaysreturned empty. In fact, when using this mode, this informationdoes not pass by the network as clear text (unencrypted). It istherefore imperative in this case to evaluate connection requestsusing the <code>WEB Validate digest</code> command.</p><blockquote><p>You must restart the web server in order for the changes made tothese parameters to be taken into account.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="authentication.html_on-web-authentication"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_on-web-authentication"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>On Web Authentication</h2><p>The <code>On Web Authentication</code> database method is incharge of managing web server engine access. It is called by 4D or4D Server when a dynamic HTTP request is received.</p><h3><a aria-hidden="true" class="anchor" id="authentication.html_database-method-calls"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_database-method-calls"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Database method calls</h3><p>The <code>On Web Authentication</code> database method isautomatically called when a request or processing requires theexecution of some 4D code (except for REST calls). It is alsocalled when the web server receives an invalid static URL (forexample, if the static page requested does not exist).</p><p>The <code>On Web Authentication</code> database method istherefore called:</p><ul><li>when the web server receives a URL requesting a resource thatdoes not exist</li><li>when the web server receives a URL beginning with<code>4DACTION/</code>, <code>4DCGI/</code>...</li><li>when the web server receives a root access URL and no home pagehas been set in the Settings or by means of the <code>WEB SET HOMEPAGE</code> command</li><li>when the web server processes a tag executing code (e.g<code>4DSCRIPT</code>) in a semi-dynamic page.</li></ul><p>The <code>On Web Authentication</code> database method is NOTcalled:</p><ul><li>when the web server receives a URL requesting a valid staticpage.</li><li>when the web server reveives a URL beginning with<code>rest/</code> and the REST server is launched (in this case,the authentication is handled through the <a href="#authentication.html_using-the-on-rest-authentication-database-method"><code>On REST Authentication</code> database method</a> or <a href="#authentication.html_using-the-structure-settings">Structuresettings</a>).</li></ul><h3><a aria-hidden="true" class="anchor" id="authentication.html_syntax"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_syntax"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntax</h3><p><strong>On Web Authentication</strong>( <em>$1</em> : Text ;<em>$2</em> : Text ; <em>$3</em> : Text ; <em>$4</em> : Text ;<em>$5</em> : Text ; <em>$6</em> : Text ) -&gt; $0 : Boolean</p><table><thead><tr><th>Parameter</th><th>Typ</th><th style="text-align:center"></th><th>Beschreibung</th></tr></thead><tbody><tr><td>$1</td><td>Text</td><td style="text-align:center">&lt;-</td><td>URL</td></tr><tr><td>$2</td><td>Text</td><td style="text-align:center">&lt;-</td><td>HTTP headers + HTTP body (up to 32 kb limit)</td></tr><tr><td>$3</td><td>Text</td><td style="text-align:center">&lt;-</td><td>IP address of the web client (browser)</td></tr><tr><td>$4</td><td>Text</td><td style="text-align:center">&lt;-</td><td>IP address of the server</td></tr><tr><td>$5</td><td>Text</td><td style="text-align:center">&lt;-</td><td>User name</td></tr><tr><td>$6</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Password</td></tr><tr><td>$0</td><td>Boolean</td><td style="text-align:center">-&gt;</td><td>True = request accepted, False = request rejected</td></tr></tbody></table><p>You must declare these parameters as follows:</p><pre><code class="hljs css language-4d"><span class="hljs-comment">//On Web Authentication database method</span><span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$1</span>;<span class="hljs-variable">$2</span>;<span class="hljs-variable">$3</span>;<span class="hljs-variable">$4</span>;<span class="hljs-variable">$5</span>;<span class="hljs-variable">$6</span>)<span class="hljs-function"> C_BOOLEAN</span>(<span class="hljs-variable">$0</span>)<span class="hljs-comment">//Code for the method</span></code></pre><p>Alternatively, you can use the <a href="#authentication.html_named-parameters">named parameters</a>syntax:</p><pre><code class="hljs css language-4d"><span class="hljs-comment">// On Web Authentication database method</span>#<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$url </span>: Text; <span class="hljs-variable">$header </span>: Text; \  <span class="hljs-variable">$BrowserIP </span>: Text; <span class="hljs-variable">$ServerIP </span>: Text; \  <span class="hljs-variable">$user </span>: Text; <span class="hljs-variable">$password </span>: Text) \  -&gt; <span class="hljs-variable">$RequestAccepted </span>: Boolean</code></pre><blockquote><p>All the <code>On Web Authentication</code> database method'sparameters are not necessarily filled in. The information receivedby the database method depends on the selected <a href="#authentication.html_authentication-mode">authenticationmode</a>).</p></blockquote><h4><a aria-hidden="true" class="anchor" id="authentication.html_1---url"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_1---url"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$1 - URL</h4><p>The first parameter (<code>$1</code>) is the URL received by theserver, from which the host address has been removed.</p><p>Let’s take the example of an Intranet connection. Suppose thatthe IP address of your 4D Web Server machine is 123.45.67.89. Thefollowing table shows the values of $1 depending on the URL enteredin the Web browser:</p><table><thead><tr><th>URL entered in web browser</th><th>Value of parameter $1</th></tr></thead><tbody><tr><td>123.45.67.89</td><td>/</td></tr><tr><td><a href="http://123.45.67.89">http://123.45.67.89</a></td><td>/</td></tr><tr><td>123.45.67.89/Customers</td><td>/Customers</td></tr><tr><td><a href="http://123.45.67.89/Customers/Add">http://123.45.67.89/Customers/Add</a></td><td>/Customers/Add</td></tr><tr><td>123.45.67.89/Do_This/If_OK/Do_That</td><td>/Do_This/If_OK/Do_That</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="authentication.html_2---header-and-body-of-the-http-request"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_2---header-and-body-of-the-http-request"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$2 - Header and Body of the HTTP request</h4><p>The second parameter (<code>$2</code>) is the header and thebody of the HTTP request sent by the web browser. Note that thisinformation is passed to your <code>On Web Authentication</code>database method as it is. Its contents will vary depending on thenature of the web browser which is attempting the connection.</p><p>If your application uses this information, it is up to you toparse the header and the body. You can use the <code>WEB GET HTTPHEADER</code> and the <code>WEB GET HTTP BODY</code> commands.</p><blockquote><p>For performance reasons, the size of data passing through the $2parameter must not exceed 32 KB. Beyond this size, they aretruncated by the 4D HTTP server.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="authentication.html_3---web-client-ip-address"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_3---web-client-ip-address"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$3 - Web client IP address</h4><p>The <code>$3</code> parameter receives the IP address of thebrowser’s machine. This information can allow you to distinguishbetween intranet and internet connections.</p><blockquote><p>4D returns IPv4 addresses in a hybrid IPv6/IPv4 format writtenwith a 96-bit prefix, for example ::ffff:192.168.2.34 for the IPv4address 192.168.2.34. For more information, refer to the <a href="#authentication.html_about-ipv6-support">IPv6 Support</a>section.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="authentication.html_4---server-ip-address"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_4---server-ip-address"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$4 - Server IP address</h4><p>The <code>$4</code> parameter receives the IP address used tocall the web server. 4D allows for multi-homing, which allows youto exploit machines with more than one IP address. For moreinformation, please refer to the <a href="#authentication.html_ip-address-to-listen">Configurationpage</a>.</p><h4><a aria-hidden="true" class="anchor" id="authentication.html_5-and-6---user-name-and-password"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_5-and-6---user-name-and-password"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$5 and $6 - User Name and Password</h4><p>The <code>$5</code> and <code>$6</code> parameters receive theuser name and password entered by the user in the standardidentification dialog box displayed by the browser. This dialog boxappears for each connection, if <a href="#authentication.html_basic-protocol">basic</a> or <a href="#authentication.html_digest-protocol">digest</a> authentication isselected.</p><blockquote><p>If the user name sent by the browser exists in 4D, the $6parameter (the user’s password) is not returned for securityreasons.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="authentication.html_0-parameter"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_0-parameter"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$0 parameter</h4><p>The <code>On Web Authentication</code> database method returns aboolean in $0:</p><ul><li><p>If $0 is True, the connection is accepted.</p></li><li><p>If $0 is False, the connection is refused.</p></li></ul><p>The <code>On Web Connection</code> database method is onlyexecuted if the connection has been accepted by <code>On WebAuthentication</code>.</p><blockquote><p><strong>WARNING</strong><br />If no value is set to $0 or if $0 is not defined in the <code>OnWeb Authentication</code> database method, the connection isconsidered as accepted and the <code>On Web Connection</code>database method is executed.</p><ul><li>Do not call any interface elements in the <code>On WebAuthentication</code> database method (<code>ALERT</code>,<code>DIALOG</code>, etc.) because otherwise its execution will beinterrupted and the connection refused. The same thing will happenif an error occurs during its processing.</li></ul></blockquote><h3><a aria-hidden="true" class="anchor" id="authentication.html_beispiel"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_beispiel"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h3><p>Example of the <code>On Web Authentication</code> databasemethod in <a href="#authentication.html_digest-protocol">DIGESTmode</a>:</p><pre><code class="hljs css language-4d"> <span class="hljs-comment">// On Web Authentication Database Method</span> #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$url </span>: Text; <span class="hljs-variable">$header </span>: Text; <span class="hljs-variable">$ipB </span>: Text; <span class="hljs-variable">$ipS </span>: Text; \    <span class="hljs-variable">$user </span>: Text; <span class="hljs-variable">$pw </span>: Text) -&gt; <span class="hljs-variable">$valid </span>: Boolean<span class="hljs-keyword"> var</span> <span class="hljs-variable">$found </span>: cs.WebUserSelection <span class="hljs-variable">$valid</span>:=<span class="hljs-literal">False</span> <span class="hljs-variable">$found</span>:=ds.WebUser.<span class="hljs-function">query</span>(<span class="hljs-string">"User === :1"</span>;<span class="hljs-variable">$user</span>)<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$found</span>.length=<span class="hljs-number">1</span>) <span class="hljs-comment">// User is found</span>    <span class="hljs-variable">$valid</span>:=<span class="hljs-function">WEB Validate digest</span>(<span class="hljs-variable">$user</span>;[WebUser]password)<span class="hljs-keyword"> Else</span>    <span class="hljs-variable">$valid</span>:=<span class="hljs-literal">False</span> <span class="hljs-comment">// User does not exist</span><span class="hljs-keyword"> End if</span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#errorPages.html"><span class="arrow-prev">←</span> <span>CustomHTTP Error Pages</span></a><a class="docs-next button" href="#sessions.html"><span>User sessions</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#authentication.html_authentication-modes">Authenticationmodes</a><ul class="toc-headings"><li><a href="#authentication.html_%25C3%25BCberblick">Überblick</a></li><li><a href="#authentication.html_custom-default">Custom(default)</a></li><li><a href="#authentication.html_basic-protocol">Basicprotocol</a></li><li><a href="#authentication.html_digest-protocol">DIGESTprotocol</a></li></ul></li><li><a href="#authentication.html_on-web-authentication">On WebAuthentication</a><ul class="toc-headings"><li><a href="#authentication.html_database-method-calls">Databasemethod calls</a></li><li><a href="#authentication.html_syntax">Syntax</a></li><li><a href="#authentication.html_beispiel">Beispiel</a></li></ul></li></ul></nav></div></div></body></html>