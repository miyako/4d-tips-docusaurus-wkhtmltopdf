<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Schleifenstrukturen · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Schleifenstrukturen wiederholen eine Abfolge von Anweisungen, bis eine Bedingung gefunden wird oder eine Anzahl an Durchläufen erreicht ist."name="description" /><meta content="de" name="docsearch:language" /><meta content="Schleifenstrukturen · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Schleifenstrukturen wiederholen eine Abfolge von Anweisungen, bis eine Bedingung gefunden wird oder eine Anzahl an Durchläufen erreicht ist."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#cf_looping.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Schleifenstrukturen<a aria-hidden="true" class="anchor" id="looping.html"></a></h1></header><article><div><p><span>Schleifenstrukturen wiederholen eine Abfolge vonAnweisungen, bis eine Bedingung gefunden wird oder eine Anzahl anDurchläufen erreicht ist.</span></p><h2><span><a aria-hidden="true" class="anchor" id="looping.html_whileend-while"></a><a aria-hidden="true" class="hash-link" href="#looping.html_whileend-while"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>While...End while</span></h2><p><span>Die formale Syntax der Abfragefolge <code>While...Endwhile</code> lautet:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-keyword"> While</span>(Boolean_Expression)<span class="hljs-function">    statement</span>(s)    {break}      {continue}<span class="hljs-keyword"> End while</span></code></span></pre><p>Eine Schleife <code>While...End while</code> führt die Anweisunginnerhalb der Schleife solange aus, wie der Boolean Ausdruck wahrist. Sie prüft den Boolean Ausdruck am Beginn der Schleife undtritt gar nicht in die Schleife ein, wenn der Ausdruck FALSEist.</p><p>The <code>break</code> and <code>continue</code> statements are<a href="#looping.html_break-and-continue">described below</a>.</p><p>Es ist üblich, den getesteten Wert im Boolean Ausdruck direktvor Eintreten in die Schleife <code>While...End while</code> zuinitialisieren. Den Wert initialisieren heißt, Sie setzen etwasPassendes, so dass der Boolean Ausdruck TRUE ist und<code>While...End while</code> die Schleife ausführt.</p><p>Sie müssen dem Boolean Ausdruck in der Schleife einen sinnvollenWert zuweisen, da sonst die Schleife endlos läuft. NachfolgendeSchleife läuft endlos, da <em>NeverStop</em> immer wahr ist:</p><pre><code class="hljs css language-4d"> NeverStop:=<span class="hljs-literal">True</span><span class="hljs-keyword"> While</span>(NeverStop)<span class="hljs-keyword"> End while</span></code></pre><p>In solch einer Situation, also bei einer unkontrolliertablaufenden Methode können Sie die Schleife über den Schrittmodusstoppen und das Problem beheben. Weitere Informationen dazu findenSie auf der Seite <a href="#error-handling.html">Fehlerverwaltung</a>.</p><h3><a aria-hidden="true" class="anchor" id="looping.html_beispiel"></a><a aria-hidden="true" class="hash-link"href="#looping.html_beispiel"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h3><pre><code class="hljs css language-4d"><span class="hljs-function"> CONFIRM</span>(<span class="hljs-string">"Add a new record?"</span>) <span class="hljs-comment">//The user wants to add a record?</span><span class="hljs-keyword"> While</span>(OK=<span class="hljs-number">1</span>) <span class="hljs-comment">//Loop as long as the user wants to</span><span class="hljs-function">    ADD RECORD</span>([aTable]) <span class="hljs-comment">//Add a new record</span><span class="hljs-keyword"> End while</span> <span class="hljs-comment">//The loop always ends with End while</span></code></pre><p>In diesem Beispiel wird die Systemvariable <code>OK</code> überden Befehl <code>CONFIRM</code> gesetzt, bevor die Schleifestartet. Klickt der Benutzer im Dialogfenster Bestätigen auf dieSchaltfläche <strong>OK</strong>, wird die Systemvariable<code>OK</code> auf 1 gesetzt und die Schleife startet. Ansonstenwird die Systemvariable <code>OK</code> auf 0 gesetzt und dieSchleife übersprungen. Sobald die Schleife läuft, sorgt der Befehl<code>ADD RECORD</code> dafür, dass sie weiterläuft, da er dieSystemvariable <code>OK</code> auf 1 setzt, wenn der Benutzer denDatensatz sichert. Annulliert der Benutzer den letzten Datensatz,d.h. er sichert ihn nicht, wird die Systemvariable <code>OK</code>auf 0 gesetzt und die Schleife stoppt.</p><h2><a aria-hidden="true" class="anchor" id="looping.html_repeatuntil"></a><a aria-hidden="true" class="hash-link" href="#looping.html_repeatuntil"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Repeat...Until</h2><p>Die formale Syntax der Abfragefolge <code>Repeat...Until</code>lautet:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">Repeat</span><span class="hljs-function">    statement</span>(s)    {break}      {continue}<span class="hljs-keyword">Until</span>(Boolean_Expression)</code></pre><p>Die Schleife <code>Repeat...Until</code> arbeitet ähnlich wiedie Schleife <a href="#looping.html_whileend-while">While...Endwhile</a>, mit dem Unterschied, dass der Boolean Ausdruck nichtvor, sondern nach der Schleife getestet wird. So führt<code>Repeat...Until</code> die Schleife immer einmal aus, während<code>While...End while</code> die Schleife gar nicht ausführt,wenn am Anfang der Boolean Ausdruck falsch ist.</p><p>Ein weiterer Unterschied ist, dass <code>Repeat...Until</code>weiterläuft, bis der Boolean Ausdruck TRUE ist.</p><p>The <code>break</code> and <code>continue</code> statements are<a href="#looping.html_break-and-continue">described below</a>.</p><h3><a aria-hidden="true" class="anchor" id="looping.html_beispiel-1"></a><a aria-hidden="true" class="hash-link" href="#looping.html_beispiel-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h3><p>Vergleichen Sie folgendes Beispiel mit dem Beispiel zu<code>While...End while</code>. Beachten Sie, dass der BooleanAusdruck nicht initialisiert werden muss—es gibt keinen Befehl<code>CONFIRM</code> zum Initialisieren der Variable<code>OK</code>.</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Repeat</span><span class="hljs-function">    ADD RECORD</span>([aTable])<span class="hljs-keyword"> Until</span>(OK=<span class="hljs-number">0</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="looping.html_forend-for"></a><a aria-hidden="true" class="hash-link" href="#looping.html_forend-for"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>For...End for</h2><p>Die formale Syntax der Abfragefolge <code>For..End for</code>lautet:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">For</span>(Counter_Variable;Start_Expression;End_Expression{;Increment_Expression})<span class="hljs-function">   statement</span>(s)    {break}      {continue}<span class="hljs-keyword">End for</span></code></pre><p>Die Schleife <code>For...End for</code> wird über eineZählervariable gesteuert:</p><ul><li><em>Counter_Variable</em> ist eine numerische Variable vom TypZahl oder Lange Ganzzahl. Sie wird von der Schleife <code>For...Endfor</code> auf den in <em>Start_Expression</em> festgelegten Wertinitialisiert.</li><li>Die Zählervariable wird nach jedem Durchlaufen der Schleife umden optionalen Wert erhöht, der in <em>Increment_Expression</em>angegeben ist. Geben Sie <em>Increment_Expression</em> nicht an,wird die Zählervariable standardmäßig um Eins (1) erhöht.</li><li>Sobald die Zählervariable <em>End_Expression</em> durchläuft,stoppt die Schleife.</li></ul><p><strong>Wichtig:</strong> Die numerischen Ausdrücke<em>Start_Expression</em>, <em>End_Expression</em> und<em>Increment_Expression</em> werden einmal am Schleifenbeginngewertet. Sind diese Ausdrücke Variablen, und ändern Sie einedieser Variablen innerhalb der Schleife, hat das keine Auswirkungauf die Schleife.</p><p><strong>Tipp:</strong> Für besondere Zwecke können Sie den Wertder Zählervariablen <em>Counter_Variable</em> innerhalb derSchleife ändern; das wirkt sich dann auch auf die Schleife aus.</p><ul><li>Im Normalfall ist <em>Start_Expression</em> kleiner als<em>End_Expression</em>.</li><li>Sind <em>Start_Expression</em> und <em>End_Expression</em>gleich, wird die Schleife nur einmal ausgeführt.</li><li>Ist <em>Start_Expression</em> größer als<em>End_Expression</em>, wird die Schleife gar nicht ausgeführt,außer <em>Increment_Expression</em> hat einen negativen Wert. SehenSie die Beispiele.</li></ul><p>The <code>break</code> and <code>continue</code> statements are<a href="#looping.html_break-and-continue">described below</a>.</p><h3><a aria-hidden="true" class="anchor" id="looping.html_allgemeine-beispiele"></a><a aria-hidden="true"class="hash-link" href="#looping.html_allgemeine-beispiele"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Allgemeine Beispiele</h3><ol><li>Folgendes Beispiel führt 100 Durchläufe aus:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(vCounter;<span class="hljs-number">1</span>;<span class="hljs-number">100</span>)  <span class="hljs-comment">//Do something</span><span class="hljs-keyword"> End for</span></code></pre><ol start="2"><li>Folgendes Beispiel durchläuft alle Elemente des ArrayanArray:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlElem</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Size of array</span>(anArray))  <span class="hljs-comment">//Do something with the element</span>    anArray{<span class="hljs-variable">$vlElem}</span>:=...<span class="hljs-keyword"> End for</span></code></pre><ol start="3"><li>Folgendes Beispiel durchläuft alle Zeichen des TextesvtSomeText:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlChar</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Length</span>(vtSomeText))  <span class="hljs-comment">//Do something with the character if it is a TAB</span><span class="hljs-keyword">    If</span>(<span class="hljs-function">Character code</span>(vtSomeText<span class="hljs-variable">[[$vlChar]]</span>)=Tab)  <span class="hljs-comment">//...</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End for</span></code></pre><ol start="4"><li>Folgendes Beispiel durchläuft die ausgewählten Datensätze fürdie Tabelle [aTable]:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-function"> FIRST RECORD</span>([aTable])<span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlRecord</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Records in selection</span>([aTable]))  <span class="hljs-comment">//Do something with the record</span><span class="hljs-function">    SEND RECORD</span>([aTable])  <span class="hljs-comment">//...</span>  <span class="hljs-comment">//Go to the next record</span><span class="hljs-function">    NEXT RECORD</span>([aTable])<span class="hljs-keyword"> End for</span></code></pre><p>Die meisten der Schleifen <code>For...End for</code> in IhrenProjekten sehen wie in den oben aufgeführten Beispielen aus.</p><h3><a aria-hidden="true" class="anchor" id="looping.html_variablenz%C3%A4hler-verringern"></a><a aria-hidden="true" class="hash-link" href="#looping.html_variablenz%25C3%25A4hler-verringern"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Variablenzähler verringern</h3><p>Manchmal benötigen Sie in einer Schleife eine absteigendeZählervariable. Dazu muss <em>Start_Expression</em> größer als<em>End_Expression</em> sein und <em>Increment_Expression</em>einen negativen Wert haben. Folgende Beispiele führen dieselbenAktionen wie oben aus, sie zählen jedoch rückwärts:</p><ol start="5"><li>Folgendes Beispiel führt 100 Durchläufe aus:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(vCounter;<span class="hljs-number">100</span>;<span class="hljs-number">1</span>;<span class="hljs-number">-1</span>)  <span class="hljs-comment">//Do something</span><span class="hljs-keyword"> End for</span></code></pre><ol start="6"><li>Folgendes Beispiel durchläuft alle Elemente des ArrayanArray:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlElem</span>;<span class="hljs-function">Size of array</span>(anArray);<span class="hljs-number">1</span>;<span class="hljs-number">-1</span>)  <span class="hljs-comment">//Do something with the element</span>    anArray{<span class="hljs-variable">$vlElem}</span>:=...<span class="hljs-keyword"> End for</span></code></pre><ol start="7"><li>Folgendes Beispiel durchläuft alle Zeichen des TextesvtSomeText:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlChar</span>;<span class="hljs-function">Length</span>(vtSomeText);<span class="hljs-number">1</span>;<span class="hljs-number">-1</span>)  <span class="hljs-comment">//Do something with the character if it is a TAB</span><span class="hljs-keyword">    If</span>(<span class="hljs-function">Character code</span>(vtSomeText<span class="hljs-variable">[[$vlChar]]</span>)=Tab)  <span class="hljs-comment">//...</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End for</span></code></pre><ol start="8"><li>Folgendes Beispiel durchläuft die ausgewählten Datensätze fürdie Tabelle [aTable]:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-function"> LAST RECORD</span>([aTable])<span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlRecord</span>;<span class="hljs-function">Records in selection</span>([aTable]);<span class="hljs-number">1</span>;<span class="hljs-number">-1</span>)  <span class="hljs-comment">//Do something with the record</span><span class="hljs-function">    SEND RECORD</span>([aTable])  <span class="hljs-comment">//...</span>  <span class="hljs-comment">//Go to the previous record</span><span class="hljs-function">    PREVIOUS RECORD</span>([aTable])<span class="hljs-keyword"> End for</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_die-z%C3%A4hlervariable-um-mehr-als-eins-erh%C3%B6hen"></a><a aria-hidden="true" class="hash-link" href="#looping.html_die-z%25C3%25A4hlervariable-um-mehr-als-eins-erh%25C3%25B6hen"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Die Zählervariable um mehr als Eins erhöhen</h3><p>Bei Bedarf können Sie <em>Increment_Expression</em> (positivoder negativ) für absolute Werte größer als Eins einsetzen.</p><ol start="9"><li>Folgende Schleife ordnet dem Array anArray nur die geradenElemente zu:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlElem</span>;<span class="hljs-number">2</span>;<span class="hljs-function">Size of array</span>(anArray);<span class="hljs-number">2</span>)  <span class="hljs-comment">//Do something with the element #2,#4...#2n</span>    anArray{<span class="hljs-variable">$vlElem}</span>:=...<span class="hljs-keyword"> End for</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_die-strukturen-der-schleifen-vergleichen"></a><a aria-hidden="true"class="hash-link" href="#looping.html_die-strukturen-der-schleifen-vergleichen"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Die Strukturen der Schleifen vergleichen</h3><p>Gehen wir zurück zum ersten Beispiel in <code>For...Endfor</code>. Folgendes Beispiel führt 100 Durchläufe aus:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(vCounter;<span class="hljs-number">1</span>;<span class="hljs-number">100</span>)  <span class="hljs-comment">//Do something</span><span class="hljs-keyword"> End for</span></code></pre><p>Es ist interessant zu vergleichen, wie die Schleifen<code>While...End while</code> und <code>Repeat...Until</code>dieselbe Aktion durchführen. Ausführung mit der Schleife<code>While...End while</code>:</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$i</span>:=<span class="hljs-number">1</span> <span class="hljs-comment">//Initialize the counter</span><span class="hljs-keyword"> While</span>(<span class="hljs-variable">$i</span>&lt;=<span class="hljs-number">100</span>) <span class="hljs-comment">//Loop 100 times</span>  <span class="hljs-comment">//Do something</span>    <span class="hljs-variable">$i</span>:=<span class="hljs-variable">$i</span>+<span class="hljs-number">1</span> <span class="hljs-comment">//Need to increment the counter</span><span class="hljs-keyword"> End while</span></code></pre><p>Ausführung mit der Schleife <code>Repeat...Until</code>:</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$i</span>:=<span class="hljs-number">1</span> <span class="hljs-comment">//Initialize the counter</span><span class="hljs-keyword"> Repeat</span>  <span class="hljs-comment">//Do something</span>    <span class="hljs-variable">$i</span>:=<span class="hljs-variable">$i</span>+<span class="hljs-number">1</span> <span class="hljs-comment">//Need to increment the counter</span><span class="hljs-keyword"> Until</span>(<span class="hljs-variable">$i</span>=<span class="hljs-number">100</span>) <span class="hljs-comment">//Loop 100 times</span></code></pre><p><strong>Tipp:</strong> Die Schleife <code>For...End for</code>ist normalerweise schneller als die Schleifen <code>While...Endwhile</code> und <code>Repeat...Until</code>, da 4D die Bedingungfür jeden Schleifenzyklus intern abfragt und dann den Zählererhöht. Verwenden Sie deshalb möglichst die Schleife<code>For...End for</code>.</p><h3><a aria-hidden="true" class="anchor" id="looping.html_die-ausf%C3%BChrung-der-schleife-forend-for-optimieren"></a><a aria-hidden="true" class="hash-link" href="#looping.html_die-ausf%25C3%25BChrung-der-schleife-forend-for-optimieren"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Die Ausführung der Schleife For...End for optimieren</h3><p>Sie können als Zähler Variablen vom Typ Zahl und Lange Ganzzahl,aber auch Interprozess-, Prozess- und lokale Variablen verwenden.Verwenden Sie für lange sich wiederholende Schleifen, besonders imkompilierten Modus, lokale Variablen vom Typ Lange Ganzzahl.</p><ol start="10"><li>Hier ein Beispiel:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-function"> C_LONGINT</span>(<span class="hljs-variable">$vlCounter</span>) <span class="hljs-comment">//use local Long Integer variables</span><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlCounter</span>;<span class="hljs-number">1</span>;<span class="hljs-number">10000</span>)  <span class="hljs-comment">//Do something</span><span class="hljs-keyword"> End for</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_in-schleifen-eingebaute-forend-for-abfragen"></a><a aria-hidden="true"class="hash-link" href="#looping.html_in-schleifen-eingebaute-forend-for-abfragen"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>In Schleifen eingebaute For...End for Abfragen</h3><p>Sie können so viele Kontrollstrukturen verschachteln, wie Sie(vernünftigerweise) benötigen. Das sind verschachtelte<code>For...End for</code> Schleifen. Um Fehler zu vermeiden,verwenden Sie für jede Schleifenstruktur eine andereZählervariable.</p><p>Hier zwei Beispiele:</p><ol><li>Folgendes Beispiel durchläuft alle Elemente eineszweidimensionalen Array:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlElem</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Size of array</span>(anArray))  <span class="hljs-comment">//...</span>  <span class="hljs-comment">//Do something with the row</span>  <span class="hljs-comment">//...</span><span class="hljs-keyword">    For</span>(<span class="hljs-variable">$vlSubElem</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Size of array</span>(anArray{<span class="hljs-variable">$vlElem}</span>))  <span class="hljs-comment">//Do something with the element</span>       anArray{<span class="hljs-variable">$vlElem}{</span><span class="hljs-variable">$vlSubElem}</span>:=...<span class="hljs-keyword">    End for</span><span class="hljs-keyword"> End for</span></code></pre><ol start="2"><li>Dieses Beispiel erstellt ein Array mit Zeigern auf allevorhandenen Datumsfelder in der Anwendung:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-function"> ARRAY POINTER</span>(<span class="hljs-variable">$apDateFields</span>;<span class="hljs-number">0</span>) <span class="hljs-variable">$vlElem</span>:=<span class="hljs-number">0</span><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlTable</span>;<span class="hljs-number">1</span>;Get last table number)<span class="hljs-keyword">    If</span>(<span class="hljs-function">Is table number valid</span>(<span class="hljs-variable">$vlTable</span>))<span class="hljs-keyword">       For</span>(<span class="hljs-variable">$vlField</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Get last field number</span>(<span class="hljs-variable">$vlTable</span>))<span class="hljs-keyword">          If</span>(<span class="hljs-function">Is field number valid</span>(<span class="hljs-variable">$vlTable</span>;<span class="hljs-variable">$vlField</span>))             <span class="hljs-variable">$vpField</span>:=<span class="hljs-function">Field</span>(<span class="hljs-variable">$vlTable</span>;<span class="hljs-variable">$vlField</span>)<span class="hljs-keyword">             If</span>(<span class="hljs-function">Type</span>(<span class="hljs-variable">$vpField</span>-&gt;)=Is date)                <span class="hljs-variable">$vlElem</span>:=<span class="hljs-variable">$vlElem</span>+<span class="hljs-number">1</span><span class="hljs-function">                INSERT IN ARRAY</span>(<span class="hljs-variable">$apDateFields</span>;<span class="hljs-variable">$vlElem</span>)                <span class="hljs-variable">$apDateFields{</span><span class="hljs-variable">$vlElem}</span>:=<span class="hljs-variable">$vpField</span><span class="hljs-keyword">             End if</span><span class="hljs-keyword">          End if</span><span class="hljs-keyword">       End for</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End for</span></code></pre><h2><a aria-hidden="true" class="anchor" id="looping.html_for-eachend-for-each"></a><a aria-hidden="true"class="hash-link" href="#looping.html_for-eachend-for-each"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>For each...End for each</h2><p>Die formale Syntax der Abfragefolge <code>For each..End foreach</code> lautet:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For each</span>(Current_Item;Expression{;begin{;end}}){<span class="hljs-keyword">Until</span>|<span class="hljs-keyword">While</span>}(Boolean_Expression)}<span class="hljs-function">    statement</span>(s)    {break}      {continue}<span class="hljs-keyword"> End for each</span></code></pre><p>Die Struktur <code>For each...End for each</code> durchläuft denangegebenen Eintrag <em>Current_item</em> für alle Werte von<em>Expression</em>. Der Typ <em>Current_item</em> richtet sichnach der Art von <em>Expression</em>. Die Schleife <code>Foreach...End for each</code> kann drei Arten von <em>Ausdrücken</em>durchlaufen:</p><ul><li>Collections: Schleife durch jedes Element der Collection</li><li>Entity-Selections: Schleife durch jede Entity</li><li>Objekte: Schleife durch jede Objekteigenschaft</li></ul><p>Folgende Tabelle vergleicht drei Typen von <code>For each...Endfor each</code>:</p><table><thead><tr><th></th><th>Schleife durch Collections</th><th>Schleife durch Entity-Selections</th><th>Schleife durch Objekte</th></tr></thead><tbody><tr><td>Typ Current_Item</td><td>Variable vom gleichen Typ wie Collection Elemente</td><td>Entity</td><td>Textvariable</td></tr><tr><td>Typ Expression</td><td>Collection (mit Elementen vom gleichen Typ)</td><td>Entity-Selection</td><td>Objekt</td></tr><tr><td>Anzahl Schleifen (standardmäßig)</td><td>Anzahl der Collection Elemente</td><td>Anzahl Entities in der Selection</td><td>Anzahl der Objekteigenschaften</td></tr><tr><td>Unterstützung der Parameter begin / end</td><td>Ja</td><td>Ja</td><td>Nein</td></tr></tbody></table><ul><li>Die Anzahl Schleifen wird beim Starten berechnet und ändertsich nicht während der Durchführung. Einträge während der Schleifehinzufügen oder entfernen wird generell nicht empfohlen, da dies zufehlenden oder überflüssigen Wiederholungen führen kann.</li><li>Standardmäßig werden die angegebenen <em>Anweisungen</em> fürjeden Wert in <em>Expression</em> ausgeführt. Es ist jedochmöglich, die Schleife durch Testen einer Bedingung entweder amAnfang (<code>While</code>) oder am Ende der Schleife(<code>Until</code>) zu verlassen.</li><li>Über die optionalen Parameter <em>begin</em> und <em>end</em>lassen sich in Collections und Entity-Selections Grenzen für dieSchleife definieren.</li><li>Die Schleife <code>For each...End for each</code> lässt sichfür eine <strong>shared collection</strong> oder ein <strong>sharedobject</strong> verwenden. Muss Ihr Code ein oder mehrere Elementeder Collection oder Objekteigenschaften ändern, müssen Sie<code>Use...End use</code> verwenden. Sie können <code>Use...Enduse</code> je nach Bedarf wie folgt aufrufen:<ul><li>Vor Eintreten in die Schleife, wenn Einträge zur Wahrung derIntegrität gemeinsam geändert werden sollen, oder</li><li>Innerhalb der Schleife, wenn nur ein paarElemente/Eigenschaften geändert werden müssen und kein Verwaltender Integrität erforderlich ist.</li></ul></li></ul><p>The <code>break</code> and <code>continue</code> statements are<a href="#looping.html_break-and-continue">described below</a>.</p><h3><a aria-hidden="true" class="anchor" id="looping.html_schleife-durch-collections"></a><a aria-hidden="true"class="hash-link" href="#looping.html_schleife-durch-collections"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Schleife durch Collections</h3><p>Beim Verwenden von <code>For each...End for each</code> miteiner <em>Expression</em> vom Typ <em>Collection</em> ist derParameter <em>Current_Item</em> eine Variable vom gleichen Typ wiedie Collection Elemente. Die Anzahl Schleifen basiert standardmäßigauf der Anzahl Einträge in der Collection.</p><p>Die Collection darf nur Elemente vom gleichen Typ enthalten,sonst wird ein Fehler zurückgegeben, sobald die Variable<em>Current_Item</em> dem ersten Wert mit einem unpassenden Typzugewiesen wird.</p><p>Bei jeder Wiederholung der Schleife wird die Variable<em>Current_Item</em> automatisch mit dem passenden Element derCollection gefüllt. Dabei müssen Sie folgende Punkteberücksichtigen:</p><ul><li>Ist die Variable <em>Current_Item</em> vom Typ Objekt oderCollection (z.B. wenn <em>Expression</em> eine Collection vonObjekten oder von Collections ist), wird durch Ändern dieserVariablen automatisch das zutreffende Element der Collectiongeändert (weil Objekte und Collections beide dieselbe Referenznutzen). Bei einer Variablen mit einem skalaren Typ wird nur dieVariable geändert.</li><li>Die Variable <em>Current_Item</em> muss vom gleichen Typ wiedie Elemente der Collection sein. Ist ein Element davon nicht vomgleichen Typ wie die Variable, wird ein Fehler generiert und dieSchleife stoppt.</li><li>Enthält die Collection Elemente mit einem Wert<strong>Null</strong>, wird ein Fehler generiert, wenn derVariablentyp von <em>Current_Item</em> keine <strong>Null</strong>Werte unterstützt, wie z. B. der Typ Lange Ganzzahl.</li></ul><h4><a aria-hidden="true" class="anchor" id="looping.html_beispiel-2"></a><a aria-hidden="true" class="hash-link" href="#looping.html_beispiel-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>Sie wollen für eine Collection mit Zahlen ein paar Statistikenberechnen:</p><pre><code class="hljs css language-4d"><span class="hljs-function"> C_COLLECTION</span>(<span class="hljs-variable">$nums</span>) <span class="hljs-variable">$nums</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-number">10</span>;<span class="hljs-number">5001</span>;<span class="hljs-number">6665</span>;<span class="hljs-number">33</span>;<span class="hljs-number">1</span>;<span class="hljs-number">42</span>;<span class="hljs-number">7850</span>)<span class="hljs-function"> C_LONGINT</span>(<span class="hljs-variable">$item</span>;<span class="hljs-variable">$vEven</span>;<span class="hljs-variable">$vOdd</span>;<span class="hljs-variable">$vUnder</span>;<span class="hljs-variable">$vOver</span>)<span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$item</span>;<span class="hljs-variable">$nums</span>)<span class="hljs-keyword">    If</span>(<span class="hljs-variable">$item</span>%<span class="hljs-number">2</span>=<span class="hljs-number">0</span>)       <span class="hljs-variable">$vEven</span>:=<span class="hljs-variable">$vEven</span>+<span class="hljs-number">1</span><span class="hljs-keyword">    Else</span>       <span class="hljs-variable">$vOdd</span>:=<span class="hljs-variable">$vOdd</span>+<span class="hljs-number">1</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword">    Case of</span>       :(<span class="hljs-variable">$item</span>&lt;<span class="hljs-number">5000</span>)          <span class="hljs-variable">$vUnder</span>:=<span class="hljs-variable">$vUnder</span>+<span class="hljs-number">1</span>       :(<span class="hljs-variable">$item</span>&gt;<span class="hljs-number">6000</span>)          <span class="hljs-variable">$vOver</span>:=<span class="hljs-variable">$vOver</span>+<span class="hljs-number">1</span><span class="hljs-keyword">    End case</span><span class="hljs-keyword"> End for each</span>  <span class="hljs-comment">//$vEven=3, $vOdd=4</span>  <span class="hljs-comment">//$vUnder=4,$vOver=2</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_schleife-durch-entity-selections"></a><a aria-hidden="true" class="hash-link" href="#looping.html_schleife-durch-entity-selections"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Schleife durch Entity-Selections</h3><p>Beim Verwenden von <code>For each...End for each</code> miteiner <em>Expression</em> vom Typ <em>Entity-Selection</em> ist derParameter <em>Current_Item</em> die Entity, die gerade bearbeitetwird.</p><p>Die Anzahl Schleifen basiert auf der Anzahl Entities in derEntity-Selection. Bei jeder Wiederholung der Schleife wird derParameter <em>Current_Item</em> automatisch mit der Entity derEntity-Selection gefüllt, die gerade bearbeitet wird.</p><p><strong>Hinweis:</strong> Enthält die Entity-Selection eineEntity, die zwischenzeitlich durch einen anderen Prozess entferntwurde, wird sie während der Schleife automatisch übersprungen.</p><p>Beachten Sie, dass jede Änderung in der aktuellen Entityexplizit mit <code>entity.save( )</code> gesichert werden muss.</p><h4><a aria-hidden="true" class="anchor" id="looping.html_beispiel-3"></a><a aria-hidden="true" class="hash-link" href="#looping.html_beispiel-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>Sie wollen das Gehalt aller britischen Angestellten in einerEntity-Selection erhöhen:</p><pre><code class="hljs css language-4d"><span class="hljs-function"> C_OBJECT</span>(emp)<span class="hljs-keyword"> For each</span>(emp;ds.Employees.<span class="hljs-function">query</span>(<span class="hljs-string">"country='UK'"</span>))    emp.salary:=emp.salary*<span class="hljs-number">1</span>,<span class="hljs-number">03</span>    emp.<span class="hljs-function">save</span>()<span class="hljs-keyword"> End for each</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_schleife-durch-objekteigenschaften"></a><a aria-hidden="true"class="hash-link" href="#looping.html_schleife-durch-objekteigenschaften"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Schleife durch Objekteigenschaften</h3><p>Beim Verwenden von <code>For each...End for each</code> miteiner* Expression* vom Typ Objekt ist der Parameter<em>Current_Item</em> eine Textvariable, die automatisch mit demNamen der gerade bearbeiteten Eigenschaft gefüllt wird.</p><p>Die Eigenschaften des Objekts werden in der Reihenfolge ihrerErstellung bearbeitet. Während der Schleife lassen sichEigenschaften im Objekt hinzufügen oder daraus entfernen. Dasverändert nicht die Anzahl Schleifen, diese basiert weiterhin aufder ursprünglichen Anzahl Eigenschaften für das Objekt.</p><h4><a aria-hidden="true" class="anchor" id="looping.html_beispiel-4"></a><a aria-hidden="true" class="hash-link" href="#looping.html_beispiel-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>Sie wollen die Namen in folgendem Objekt auf Großschreibungumstellen:</p><pre><code class="hljs css language-4d">{    <span class="hljs-string">"firstname"</span>: <span class="hljs-string">"gregory"</span>,    <span class="hljs-string">"lastname"</span>: <span class="hljs-string">"badikora"</span>,    <span class="hljs-string">"age"</span>: <span class="hljs-number">20</span>}</code></pre><p>Sie schreiben:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For each</span>(property;vObject)<span class="hljs-keyword">    If</span>(<span class="hljs-function">Value type</span>(vObject[property])=Is text)       vObject[property]:=<span class="hljs-function">Uppercase</span>(vObject[property])<span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End for each</span></code></pre><pre><code class="hljs">{    <span class="hljs-attr">"firstname"</span>: <span class="hljs-string">"GREGORY"</span>,    <span class="hljs-attr">"lastname"</span>: <span class="hljs-string">"BADIKORA"</span>,    <span class="hljs-attr">"age"</span>: <span class="hljs-number">20</span>}</code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_parameter-begin--end"></a><a aria-hidden="true"class="hash-link" href="#looping.html_parameter-begin--end"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Parameter begin / end</h3><p>Mit den optionalen Parametern begin und end können Sie Grenzenfür die Wiederholung der Schleife definieren.</p><p><strong>Hinweis:</strong> Die Parameter <em>begin</em> und<em>end</em> sind nur für Schleifen in Collections undEntity-Selections möglich, in Objekteigenschaften werden sieignoriert.</p><ul><li>Im Parameter <em>begin</em> übergeben Sie die Position desElements in <em>Expression</em>, bei der der Durchlauf startet(inkl. <em>begin</em>).</li><li>Im Parameter <em>end</em> übergeben Sie die Position desElements in <em>Expression</em>, bei der Durchlauf stoppt (exkl.<em>end</em>).</li></ul><p>Wird <em>end</em> weggelassen oder ist <em>end</em> größer alsdie Anzahl Elemente in <em>Expression</em>, werden Elemente ab<em>begin</em> bis zum letzten Element einschließlich durchlaufen.Sind die Parameter <em>begin</em> und <em>end</em> positive Werte,geben sie die aktuellen Positionen der Elemente in<em>Expression</em> an. Ist <em>begin</em> ein negativer Wert, wirder als <code>begin:=begin+Expression size</code> berechnet(=Versatz vom Ende der <em>Expression</em>). Ist der berechneteWert negativ, wird <em>begin</em> auf 0 gesetzt.<strong>Hinweis:</strong> Auch wenn <em>begin</em> negativ ist,erfolgt der Durchlauf in der standardmäßigen Reihenfolge. Ist<em>end</em> ein negativer Wert, wird er berechnet als<code>end:=end+Expression size</code></p><p>Beispiel:</p><ul><li>Eine Collection enthält 10 Elemente (nummeriert von 0 bis9)</li><li>begin=-4 &gt; -&gt; begin=-4+10=6 &gt;-&gt; der Durchlaufstartet mit dem 6. Element (#5)</li><li>end=-2 &gt; end=-2+10=8 &gt; der Durchlauf stoppt vor dem 8.Element (#7), z.B. beim 7. Element.</li></ul><h4><a aria-hidden="true" class="anchor" id="looping.html_beispiel-5"></a><a aria-hidden="true" class="hash-link" href="#looping.html_beispiel-5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><pre><code class="hljs css language-4d"><span class="hljs-function"> C_COLLECTION</span>(<span class="hljs-variable">$col</span>;<span class="hljs-variable">$col2</span>) <span class="hljs-variable">$col</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-string">"a"</span>;<span class="hljs-string">"b"</span>;<span class="hljs-string">"c"</span>;<span class="hljs-string">"d"</span>;<span class="hljs-string">"e"</span>) <span class="hljs-variable">$col2</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-number">1</span>;<span class="hljs-number">2</span>;<span class="hljs-number">3</span>)<span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$item</span>)<span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$item</span>;<span class="hljs-variable">$col</span>;<span class="hljs-number">0</span>;<span class="hljs-number">3</span>)    <span class="hljs-variable">$col2</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$item</span>)<span class="hljs-keyword"> End for each</span>  <span class="hljs-comment">//$col2=[1,2,3,"a","b","c"]</span><span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$item</span>;<span class="hljs-variable">$col</span>;<span class="hljs-number">-2</span>;<span class="hljs-number">-1</span>)    <span class="hljs-variable">$col2</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$item</span>)<span class="hljs-keyword"> End for each</span>  <span class="hljs-comment">//$col2=[1,2,3,"a","b","c","d"]</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_bedingungen-until-und-while"></a><a aria-hidden="true" class="hash-link" href="#looping.html_bedingungen-until-und-while"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Bedingungen Until und While</h3><p>Sie können die Ausführung von <code>For each...End foreach</code> durch Einfügen einer Bedingung <code>Until</code> oder<code>While</code> in der Schleife steuern. Ist eine Anweisung<code>Until(condition)</code> in der Schleife vorhanden, stoppt derDurchlauf, sobald condition mit <code>Wahr</code> gewertet wird.Bei einer Anweisung <code>While(condition)</code> stoppt derDurchlauf dagegen, sobald condition mit <code>Falsch</code>gewertet wird.</p><p>Sie können je nach Bedarf ein anderes Schlüsselwortverwenden:</p><ul><li>Die Bedingung <code>Until</code> wird am Ende jedes Durchlaufsgetestet, d. h. wenn <em>Expression</em> nicht leer oder null ist,wird die Schleife mindestens einmal ausgeführt.</li><li>Die Bedingung <code>While</code> wird am Anfang jedesDurchlaufs getestet, d. h. je nach Ergebnis der Bedingung wird dieSchleife u. U. gar nicht ausgeführt.</li></ul><h4><a aria-hidden="true" class="anchor" id="looping.html_beispiel-6"></a><a aria-hidden="true" class="hash-link" href="#looping.html_beispiel-6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><pre><code class="hljs css language-4d"> <span class="hljs-variable">$colNum</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-number">1</span>;<span class="hljs-number">2</span>;<span class="hljs-number">3</span>;<span class="hljs-number">4</span>;<span class="hljs-number">5</span>;<span class="hljs-number">6</span>;<span class="hljs-number">7</span>;<span class="hljs-number">8</span>;<span class="hljs-number">9</span>;<span class="hljs-number">10</span>) <span class="hljs-variable">$total</span>:=<span class="hljs-number">0</span><span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$num</span>;<span class="hljs-variable">$colNum</span>)<span class="hljs-keyword">While</span>(<span class="hljs-variable">$total</span>&lt;<span class="hljs-number">30</span>) <span class="hljs-comment">//tested at the beginning</span>    <span class="hljs-variable">$total</span>:=<span class="hljs-variable">$total</span>+<span class="hljs-variable">$num</span><span class="hljs-keyword"> End for each</span><span class="hljs-function"> ALERT</span>(<span class="hljs-function">String</span>(<span class="hljs-variable">$total</span>)) <span class="hljs-comment">//$total = 36 (1+2+3+4+5+6+7+8)</span> <span class="hljs-variable">$total</span>:=<span class="hljs-number">1000</span><span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$num</span>;<span class="hljs-variable">$colNum</span>)<span class="hljs-keyword">Until</span>(<span class="hljs-variable">$total</span>&gt;<span class="hljs-number">30</span>) <span class="hljs-comment">//tested at the end</span>    <span class="hljs-variable">$total</span>:=<span class="hljs-variable">$total</span>+<span class="hljs-variable">$num</span><span class="hljs-keyword"> End for each</span><span class="hljs-function"> ALERT</span>(<span class="hljs-function">String</span>(<span class="hljs-variable">$total</span>)) <span class="hljs-comment">//$total = 1001 (1000+1)</span></code></pre><h2><a aria-hidden="true" class="anchor" id="looping.html_break-and-continue"></a><a aria-hidden="true" class="hash-link" href="#looping.html_break-and-continue"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>break</code> and <code>continue</code></h2><p>All looping structures above support both <code>break</code> and<code>continue</code> statements. These statements give you morecontrol over the loops by allowing to exit the loop and to bypassthe current iteration at any moment.</p><h3><a aria-hidden="true" class="anchor" id="looping.html_break"></a><a aria-hidden="true" class="hash-link"href="#looping.html_break"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>break</h3><p>The <code>break</code> statement terminates the loop containingit. Control of the program flows to the statement immediately afterthe body of the loop.</p><p>If the <code>break</code> statement is inside a <a href="#looping.html_nested-forend-for-looping-structures">nestedloop</a> (loop inside another loop), the <code>break</code>statement will terminate the innermost loop.</p><h4><a aria-hidden="true" class="anchor" id="looping.html_beispiel-7"></a><a aria-hidden="true" class="hash-link" href="#looping.html_beispiel-7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">For</span> (vCounter;<span class="hljs-number">1</span>;<span class="hljs-number">100</span>)<span class="hljs-keyword">    If</span> (<span class="hljs-variable">$tab{vCounter}</span>=<span class="hljs-string">""</span>) <span class="hljs-comment">//if a condition becomes true</span>        break <span class="hljs-comment">//end of the for loop</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword">End for</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_continue"></a><a aria-hidden="true" class="hash-link"href="#looping.html_continue"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>continue</h3><p>The <code>continue</code> statement terminates execution of thestatements in the current iteration of the current loop, andcontinues execution of the loop with the next iteration.</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$text </span>: Text<span class="hljs-keyword">For</span> (<span class="hljs-variable">$i</span>; <span class="hljs-number">0</span>; <span class="hljs-number">9</span>)<span class="hljs-keyword">    If</span> (<span class="hljs-variable">$i</span>=<span class="hljs-number">3</span>)        continue <span class="hljs-comment">//go directly to the next iteration</span><span class="hljs-keyword">    End if</span>    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$text</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$i</span>)<span class="hljs-keyword">End for</span><span class="hljs-comment">// $text="012456789" </span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#branching.html"><span class="arrow-prev">←</span><span>Abfragestrukturen</span></a><a class="docs-next button" href="#error-handling.html"><span>Fehlerverwaltung</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#looping.html_whileend-while">While...End while</a><ul class="toc-headings"><li><a href="#looping.html_beispiel">Beispiel</a></li></ul></li><li><a href="#looping.html_repeatuntil">Repeat...Until</a><ul class="toc-headings"><li><a href="#looping.html_beispiel-1">Beispiel</a></li></ul></li><li><a href="#looping.html_forend-for">For...End for</a><ul class="toc-headings"><li><a href="#looping.html_allgemeine-beispiele">AllgemeineBeispiele</a></li><li><a href="#looping.html_variablenz%25C3%25A4hler-verringern">Variablenzählerverringern</a></li><li><a href="#looping.html_die-z%25C3%25A4hlervariable-um-mehr-als-eins-erh%25C3%25B6hen">Die Zählervariable um mehr als Eins erhöhen</a></li><li><a href="#looping.html_die-strukturen-der-schleifen-vergleichen">DieStrukturen der Schleifen vergleichen</a></li><li><a href="#looping.html_die-ausf%25C3%25BChrung-der-schleife-forend-for-optimieren">Die Ausführung der Schleife For...End for optimieren</a></li><li><a href="#looping.html_in-schleifen-eingebaute-forend-for-abfragen">InSchleifen eingebaute For...End for Abfragen</a></li></ul></li><li><a href="#looping.html_for-eachend-for-each">For each...End foreach</a><ul class="toc-headings"><li><a href="#looping.html_schleife-durch-collections">Schleifedurch Collections</a></li><li><a href="#looping.html_schleife-durch-entity-selections">Schleife durchEntity-Selections</a></li><li><a href="#looping.html_schleife-durch-objekteigenschaften">Schleife durchObjekteigenschaften</a></li><li><a href="#looping.html_parameter-begin--end">Parameter begin /end</a></li><li><a href="#looping.html_bedingungen-until-und-while">BedingungenUntil und While</a></li></ul></li><li><a href="#looping.html_break-and-continue"><code>break</code>and <code>continue</code></a><ul class="toc-headings"><li><a href="#looping.html_break">break</a></li><li><a href="#looping.html_continue">continue</a></li></ul></li></ul></nav></div></div></body></html>