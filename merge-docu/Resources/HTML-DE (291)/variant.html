<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Variant · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Variant ist ein Variablentyp, um Daten von beliebigem regulären Typ in eine Variable zu setzen. Dieser Typ lässt sich z.B. zum Schreiben von generischem Code verwenden, der Werte von nicht bekanntem Typ zurückgibt oder empfängt. Das ist beispielsweise bei Code zum Verwalten von Objektattributen der Fall."name="description" /><meta content="de" name="docsearch:language" /><meta content="Variant · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Variant ist ein Variablentyp, um Daten von beliebigem regulären Typ in eine Variable zu setzen. Dieser Typ lässt sich z.B. zum Schreiben von generischem Code verwenden, der Werte von nicht bekanntem Typ zurückgibt oder empfängt. Das ist beispielsweise bei Code zum Verwalten von Objektattributen der Fall."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#dt_variant.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Variant<a aria-hidden="true" class="anchor" id="variant.html"></a></h1></header><article><div><p><span>Variant ist ein Variablentyp, um Daten von beliebigemregulären Typ in eine Variable zu setzen. Dieser Typ lässt sichz.B. zum Schreiben von generischem Code verwenden, der Werte vonnicht bekanntem Typ zurückgibt oder empfängt. Das istbeispielsweise bei Code zum Verwalten von Objektattributen derFall.</span></p><p><span>Eine Variable vom Typ Variant kann einen Wert in folgendenDatentypen enthalten:</span></p><ul><li><span>BLOB</span></li><li><span>Boolean</span></li><li><span>collection</span></li><li><span>date</span></li><li><span>Lange Ganzzahl</span></li><li><span>object</span></li><li><span>picture</span></li><li><span>pointer</span></li><li><span>Zahl</span></li><li><span>Text</span></li><li><span>time</span></li><li><span>Null</span></li><li><span>Undefiniert</span></li></ul><blockquote><p><span>Arrays lassen sich nicht in Variablen vom Typ Variantspeichern.</span></p></blockquote><p><span>Sowohl im interpretierten als auch im kompilierten Moduskann derselben Variablen vom Typ Variant Inhalt mitunterschiedlichen Typen zugewiesen werden. Im Gegensatz zu festenVariablentypen ist der Inhaltstyp von Variant unterschiedlich vonder Variable selbst. Beispiel:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-function">C_VARIANT</span>(<span class="hljs-variable">$variant</span>)<span class="hljs-variable">$variant</span>:=<span class="hljs-string">"hello world"</span><span class="hljs-variable">$vtype</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 12 (Is variant)</span><span class="hljs-variable">$vtypeVal</span>:=<span class="hljs-function">Value type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 2 (Is text)</span><span class="hljs-variable">$variant</span>:=<span class="hljs-number">42</span><span class="hljs-variable">$vtype</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 12 (Is variant)</span><span class="hljs-variable">$vtypeVal</span>:=<span class="hljs-function">Value type</span>(<span class="hljs-variable">$variant</span>) <span class="hljs-comment">// 1 (Is real)</span></code></span></pre><p>Sie können Variablen vom Typ Variant immer verwenden, woVariablen erwartet werden. Sie müssen nur sicherstellen, dass derDatentyp des Variableninhalts vom erwarteten Typ ist. Beim Zugriffauf Variablen vom Typ Variant wird nur ihr aktueller Wertberücksichtigt. Beispiel:</p><pre><code class="hljs css language-4d"><span class="hljs-function">C_VARIANT</span>(<span class="hljs-variable">$v</span>)<span class="hljs-variable">$v</span>:=<span class="hljs-string">"hello world"</span><span class="hljs-variable">$v2</span>:=<span class="hljs-variable">$v </span><span class="hljs-comment">//assign variable to another variable</span><span class="hljs-variable">$t</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$v</span>) <span class="hljs-comment">// 12 (Is variant)</span><span class="hljs-variable">$t2</span>:=<span class="hljs-function">Type</span>(<span class="hljs-variable">$v2</span>) <span class="hljs-comment">// 2 (Is text)</span></code></pre><p>Mit Variant lassen sich Parameter in Methoden ($0, $1,...)deklarieren, die von unterschiedlichem Typ sein können. In diesemFall können Sie Code schreiben, der den Typ des Parameterwertestestet, zum Beispiel:</p><pre><code class="hljs css language-4d"><span class="hljs-function">C_VARIANT</span>(<span class="hljs-variable">$1</span>)<span class="hljs-keyword">Case of</span>: (<span class="hljs-function">Value type</span>(<span class="hljs-variable">$1</span>)=Is longint)...: (<span class="hljs-function">Value type</span>(<span class="hljs-variable">$1</span>)=Is text)...<span class="hljs-keyword">End case</span></code></pre><blockquote><p>Sind Variablen vom Typ Variant nicht erforderlich (z.B. wenn derDatentyp bekannt ist), empfehlen wir, Variablen mit festen Typen zuverwenden. Denn sie bieten bessere Performance, klareren Code undsind für den Compiler hilfreich, da sie Fehler durch Übergebenunerwarteter Datentypen vermeiden.</p></blockquote></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#time.html"><span class="arrow-prev">←</span><span>Zeit</span></a><a class="docs-next button" href="#variables.html"><span>Variablen</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"></nav></div></div></body></html>