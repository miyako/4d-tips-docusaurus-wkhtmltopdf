<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Seite Kompakt · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Auf dieser Seite können Sie die Funktionen zum Komprimieren der Datendatei verwenden."name="description" /><meta content="de" name="docsearch:language" /><meta content="Seite Kompakt · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Auf dieser Seite können Sie die Funktionen zum Komprimieren der Datendatei verwenden."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#compact.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">SeiteKompakt<a aria-hidden="true" class="anchor" id="compact.html"></a></h1></header><article><div><p><span>Auf dieser Seite können Sie die Funktionen zumKomprimieren der Datendatei verwenden.</span></p><h2><span><a aria-hidden="true" class="anchor" id="compact.html_warum-dateien-komprimieren"></a><a aria-hidden="true"class="hash-link" href="#compact.html_warum-dateien-komprimieren"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Warum Dateien komprimieren?</span></h2><p><span>Komprimieren der Dateien erfüllt zweiAnforderungen:</span></p><ul><li><p><span><strong>Größe verringern und Dateien optimieren</strong>:Die Dateien können nicht-verwendete Leerräume ("Löcher") enthalten.Beim Löschen von Datensätzen wird der zuvor belegte Platz in derDatei zum Leerraum. In der Regel verwendet 4D diese Leerräumesoweit wie möglich erneut. Da jedoch die Datengröße unterschiedlichist, entstehen durch sukzessives Löschen oder Ändern unweigerlichnicht-verwendbare Leerräume. Dasselbe passiert, wenn eine großeMenge Daten gerade gelöscht wurde: die leeren Stellen bleiben inder Datei ohne Zuweisung. Das Verhältnis zwischen Größe derDatendatei und derzeit für die Daten genutztem Platz ist dieAuslastungsrate der Daten. Eine zu geringe Rate ist zunächstPlatzverschwendung, kann aber auch die Performance der Datenbankbeeinträchtigen. Hier schafft Komprimieren Abhilfe, denn dadurchwird das Speichern der Daten neu organisiert und optimiert, d. h.die Löcher werden entfernt. Der Bereich “Information” fasst dieDaten im Hinblick auf Fragmentierung zusammen und schlägt dieauszuführenden Operationen vor. Die Registerkarte <a href="#compact.html_daten">Daten</a> auf der Seite “Information” des MSCgibt die Fragmentierung der aktuellen Datendatei an.</span></p></li><li><p><span><strong>Komplettes Updaten der Daten</strong> mit deraktuellen Formatierung, die in der Strukturdatei festgelegt ist.Das ist hilfreich, wenn Daten aus der gleichen Tabelle inunterschiedlichen Formaten gespeichert wurden, z. B. nach einerÄnderung in der Struktur der Anwendung.</span></p></li></ul><blockquote><p><span>Komprimieren ist nur im Wartungsmodus verfügbar. VersuchenSie, diese Operation im Standardmodus auszuführen, erhalten Sie dieMeldung, dass die Anwendung geschlossen und im Wartungsmodus neugestartet wird. Sie können jedoch eine Datendatei komprimieren, dienicht von der Anwendung geöffnet ist (siehe unten <a href="#compact.html_komprimiere-datens%25C3%25A4tze-und-indizes">KomprimiereDatensätze und Indizes</a>).</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="compact.html_standard-komprimierung"></a><a aria-hidden="true"class="hash-link" href="#compact.html_standard-komprimierung"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Standard Komprimierung</span></h2><p><span>Um das Komprimieren direkt zu starten, klicken Sie imMSC-Fenster auf die Schaltfläche zum Komprimieren.</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_compact.png" /></span></p><blockquote><p><span>Da beim Komprimieren die Originaldatei dupliziert wird,ist die Schaltfläche inaktiv, wenn auf der Festplatte mit dieserDatei nicht genügend Speicherplatz vorhanden ist.</span></p></blockquote><p><span>Dieser Vorgang komprimiert die Hauptdatei sowie alleIndex-Dateien. 4D kopiert die Originaldateien und setzt sie ineinen Ordner mit Namen <strong>Replaced Files(Compacting)</strong>, der neben der Originaldatei angelegt wird.Haben Sie mehrere Komprimierungen durchgeführt, wird jedes Mal einneuer Ordner angelegt. Er lautet “Replaced Files (Compacting)_1”,“Replaced Files (Compacting)_2”, usw. Im erweiterten Modus könnenSie den Ordner zum Abspeichern der Originaldateienverändern.</span></p><p><span>Ist die Operation abgeschlossen, ersetzen diekomprimierten Dateien automatisch die Originaldateien. DieAnwendung ist ohne weitere Bearbeitung soforteinsatzbereit.</span></p><blockquote><p><span>Bei einer verschlüsselten Anwendung enthält dieKomprimierung auch die Schritte Entschlüsselung undVerschlüsselung. Dazu ist auch der aktuelle Verschlüsselungscodeerforderlich. Ist noch kein gültiger Datenschlüssel angegeben,erscheint ein Dialogfenster, dass die Passphrase oder denDatenschlüssel anfordert.</span></p></blockquote><p><span><strong>Warnung:</strong> Die Originaldatei wird bei jedemRepariervorgang dupliziert, was den Anwendungsordner vergrößert.Sie sollten darauf achten (besonders auf macOS, wo 4D Anwendungenals Package erscheinen), dass die Größe der Anwendung nichtexzessiv ansteigt. In diesem Fall ist es hilfreich, die Kopien derOriginaldatei im Package manuell zu entfernen, damit die Größe desPackage im Rahmen bleibt.</span></p><h2><span><a aria-hidden="true" class="anchor" id="compact.html_logbuch-%C3%B6ffnen"></a><a aria-hidden="true" class="hash-link" href="#compact.html_logbuch-%25C3%25B6ffnen"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Logbuch öffnen</span></h2><p><span>Ist das Komprimieren abgeschlossen, erzeugt 4D ein Logbuchim Ordner Logs des Projekts. Hier können Sie alle ausgeführtenOperationen ansehen. Es wird im XML-Format erstellt und lautet:<em>ApplicationName</em><em>_Compact_Log_yyyy-mm-ddhh-mm-ss.xml</em>":</span></p><ul><li><span><em>ApplicationName</em> ist der Name der Projektdateiohne Endung, zum Beispiel "Rechnungen"</span></li><li><span><em>yyyy-mm-dd hh-mm-ss</em> ist der Zeitstempel derDatei. Er basiert auf der lokalen Systemzeit, zur der dieWartungsoperation gestartet wurde, zum Beispiel "2019-02-1115-20-45".</span></li></ul><p><span>Klicken Sie auf die Schaltfläche <strong>Logbuchöffnen</strong>, zeigt 4D das neueste Logbuch im standardmäßigenBrowser des Rechners an.</span></p><h2><span><a aria-hidden="true" class="anchor" id="compact.html_erweiterter-modus"></a><a aria-hidden="true" class="hash-link" href="#compact.html_erweiterter-modus"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Erweiterter Modus</span></h2><p><span>Die Seite Kompakt enthält die Schaltfläche<strong>Erweitert&gt;</strong>. Damit öffnen Sie eine Seite mitOptionen zum Komprimieren der Datendatei.</span></p><h3><span><a aria-hidden="true" class="anchor" id="compact.html_komprimiere-datens%C3%A4tze-und-indizes"></a><a aria-hidden="true"class="hash-link" href="#compact.html_komprimiere-datens%25C3%25A4tze-und-indizes"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Komprimiere Datensätze und Indizes</span></h3><p><span>Der Bereich <strong>Komprimiere Datensätze undIndizes</strong> enthält den Pfadnamen der aktuellen Datendatei unddie Schaltfläche <strong>[...]</strong> zum Auswählen einer anderenDatendatei. Klicken Sie auf diese Schaltfläche, erscheint einStandard-Öffnen Dialog, um die gewünschte Datendatei zumKomprimieren auszuwählen. Sie müssen eine Datendatei auswählen, diezur geöffneten Strukturdatei passt. Bestätigen Sie diesesDialogfenster, erscheint der Pfadname der zu komprimierenden Dateiim Fenster.</span></p><p><span>Über die Schaltfläche <strong>[...]</strong> können Sievor dem Komprimieren einen anderen Ort zum Speichern derOriginaldateien angeben. Diese Option ist insbesondere beimKomprimieren umfangreicher Dateien auf verschiedenen Festplattenhilfreich.</span></p><h3><span><a aria-hidden="true" class="anchor" id="compact.html_erzwinge-aktualisierung-aller-datens%C3%A4tze"></a><a aria-hidden="true"class="hash-link" href="#compact.html_erzwinge-aktualisierung-aller-datens%25C3%25A4tze"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Erzwinge Aktualisierung aller Datensätze</span></h3><p><span>Ist diese Option markiert, schreibt 4D während derKomprimierung jeden Datensatz für jede Tabelle gemäß seinerBeschreibung in der Struktur erneut. Ist diese Option nichtmarkiert, organisiert 4D lediglich das Speichern der Daten auf derFestplatte neu. Diese Option ist in folgenden Fällen vonNutzen:</span></p><ul><li><p><span>Wenn Feldtypen in der Struktur der Anwendung nach derDateneingabe geändert wurden. Sie haben z. B. ein Feld vom TypLange Ganzzahl in den Typ Zahl geändert. 4D erlaubt sogarÄnderungen zwischen unterschiedlichen Typen (mit dem Risiko vonDatenverlust), z. B. lässt sich ein Feld vom Typ Zahl in den TypText ändern und umgekehrt. In diesem Fall konvertiert 4D bereitseingegebene Daten nicht rückwirkend; Daten werden nur beim Ladenund Sichern von Datensätzen konvertiert. Diese Option erzwingt dieKonvertierung aller Daten.</span></p></li><li><p><span>Wenn die Option externes Speichern für Daten vom Typ Text,Bild oder BLOB nach der Dateneingabe geändert wurde. Das kanninsbesondere beim Konvertieren der Datenbanken aus einer Versionälter als v13 passieren. Auch hier konvertiert 4D bereitseingegebene Daten nicht rückwirkend. Mit dieser Option können Sieerzwingen, dass alle Datensätze aktualisiert werden, damit der neueSpeicherungsmodus auch auf bereits eingegebene Datensätze angewandtwird.</span></p></li><li><p><span>Wenn Tabellen oder Felder gelöscht wurden. In diesem Fallwird der Platz der entfernten Daten beim Komprimieren mitAktualisieren aller Datensätze wieder verwendet und so dieDateigröße verringert.</span></p></li></ul><blockquote><p><span>Ist diese Option gewählt, werden alle Indizesaktualisiert.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="compact.html_komprimiere-adresstabelle"></a><a aria-hidden="true"class="hash-link" href="#compact.html_komprimiere-adresstabelle"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Komprimiere Adresstabelle</span></h3><p><span>(Option nur aktiv, wenn die vorige Option markiertist)</span></p><p><span>Diese Option baut beim Komprimieren die Adresstabelle fürdie Datensätze komplett neu auf. Das optimiert die Größe derAdresstabelle und ist nur sinnvoll für Datenbanken, woumfangreiches Datenvolumen erstellt und dann wieder gelöscht wurde.In anderen Fällen ist die Optimierung nicht signifikant.</span></p><p><span>Beachten Sie, dass diese Option die Komprimierungbeträchtlich verlangsamt und alle Mengen, die über den Befehl<code>SAVE SET</code> gesichert wurden, ungültig werden. Wirempfehlen außerdem dringend, in diesem Fall gesicherte Mengen zulöschen, da ihre Verwendung zur Auswahl nicht-korrekter Datenführen kann.</span></p><blockquote><ul><li><span>Beim Komprimieren werden auch die Datensätze von Tabellenberücksichtigt, die im Papierkorb liegen. Gibt es dort eine großeAnzahl Datensätze, kann das ein weiterer Faktor sein, der dieOperation verlangsamt.</span></li><li><span>Diese Option macht die Adresstabelle und folglich auchdie Anwendung inkompatibel zum aktuellen Logbuch (sofernvorhanden). Es wird automatisch gesichert und beim nächsten Startder Anwendung muss ein neues Logbuch angelegt werden.</span></li><li><span>Um zu sehen, ob die Adresstabelle komprimiert werdenmuss, gehen Sie auf die Seite <a href="#information.html">Information</a> des MSC und vergleichen dieGesamtanzahl der Datensätze mit der Größe derAdresstabelle.</span></li></ul></blockquote></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#backup.html"><span class="arrow-prev">←</span> <span>SeiteBackup</span></a><a class="docs-next button" href="#rollback.html"><span>Seite Zurückfahren</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#compact.html_warum-dateien-komprimieren">WarumDateien komprimieren?</a></li><li><a href="#compact.html_standard-komprimierung">StandardKomprimierung</a></li><li><a href="#compact.html_logbuch-%25C3%25B6ffnen">Logbuchöffnen</a></li><li><a href="#compact.html_erweiterter-modus">Erweiterter Modus</a><ul class="toc-headings"><li><a href="#compact.html_komprimiere-datens%25C3%25A4tze-und-indizes">KomprimiereDatensätze und Indizes</a></li><li><a href="#compact.html_erzwinge-aktualisierung-aller-datens%25C3%25A4tze">ErzwingeAktualisierung aller Datensätze</a></li><li><a href="#compact.html_komprimiere-adresstabelle">KomprimiereAdresstabelle</a></li></ul></li></ul></nav></div></div></body></html>