<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>TLS Protocol (HTTPS) · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="All 4D servers can communicate in secured mode through the TLS (Transport Layer Security) protocol:"name="description" /><meta content="de" name="docsearch:language" /><meta content="TLS Protocol (HTTPS) · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="All 4D servers can communicate in secured mode through the TLS (Transport Layer Security) protocol:"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#tls.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">TLS Protocol(HTTPS)<a aria-hidden="true" class="anchor" id="tls.html"></a></h1></header><article><div><p><span>All 4D servers can communicate in secured mode through theTLS (Transport Layer Security) protocol:</span></p><ul><li><span>the web server</span></li><li><span>the application server (client-server desktopapplications)</span></li><li><span>the SQL server</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="tls.html_%C3%BCberblick"></a><a aria-hidden="true" class="hash-link" href="#tls.html_%25C3%25BCberblick"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Überblick</span></h2><p><span>The TLS protocol (successor of SSL) has been designed tosecure data exchanges between two applications —mainly between aweb server and a browser. This protocol is widely used and iscompatible with most web browsers.</span></p><p><span>At the network level, the security protocol is insertedbetween the TCP/IP layer (low level) and the HTTP high levelprotocol. It has been designed mainly to work with HTTP.</span></p><p><span>Network configuration using TSL:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/tls1.png" /></span></p><p><span>The TLS protocol is designed to authenticate the senderand receiver and to guarantee the confidentiality and integrity ofthe exchanged information:</span></p><ul><li><span><strong>Authentication</strong>: The sender and receiveridentities are confirmed.</span></li><li><span><strong>Confidentiality</strong>: The sent data isencrypted so that no third person can understand themessage.</span></li><li><span><strong>Integrity</strong>: The received data has notbeen changed, by accident or malevolently.</span></li></ul><p><span>TLS uses a public key encryption technique based on a pairof asymmetric keys for encryption and decryption: a public key anda private key. The private key is used to encrypt data. The sender(the website) does not give it to anyone. The public key is used todecrypt the information and is sent to the receivers (web browsers)through a certificate. When using TLS with the Internet, thecertificate is delivered through a certification authority, such asVerisign®. The website pays the Certificate Authority to deliver acertificate which guaranties the server authentication and containsthe public key allowing to exchange data in a securedmode.</span></p><blockquote><p><span>For more information on the encryption method and thepublic and private key issues, refer to the <code>ENCRYPTBLOB</code> command description.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="tls.html_minimum-version"></a><a aria-hidden="true" class="hash-link" href="#tls.html_minimum-version"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Minimum version</span></h2><p><span>By default, the minimum version of the secured protocolaccepted by the server is TLS 1.2. You can modify this value byusing the <code>Min TLS version</code> selector with the <code>SETDATABASE PARAMETER command</code>.</span></p><p><span>You can control the level of security of your web serverby defining the <a href="#tls.html_minimum-tls-version">minimum TLSversion</a> accepted for connections.</span></p><h2><span><a aria-hidden="true" class="anchor" id="tls.html_how-to-get-a-certificate"></a><a aria-hidden="true"class="hash-link" href="#tls.html_how-to-get-a-certificate"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>How to get a certificate?</span></h2><p><span>A server working in secured mode means that you need adigital certificate from a certification authority. Thiscertificate contains various information such as the site ID aswell as the public key used to communicate with the server. Thiscertificate is transmitted to the clients (e.g. Web browsers)connecting to this server. Once the certificate has been identifiedand accepted, the communication is made in secured mode.</span></p><blockquote><p><span>Web browsers authorize only the certificates issued by acertification authority referenced in their properties.</span></p></blockquote><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/tls2.png" /></span></p><p><span>The certification authority is chosen according to severalcriteria. If the certification authority is well known, thecertificate will be authorized by many browsers, however the priceto pay will be expensive.</span></p><p><span>To get a digital certificate:</span></p><ol><li><span>Generate a private key using the <code>GENERATEENCRYPTION KEYPAIR</code> command.</span></li></ol><blockquote><p><span><strong>Warning</strong>: For security reasons, theprivate key should always be kept secret. Actually, it shouldalways remain with the server machine. For the Web server, theKey.pem file must be placed in the Project folder.</span></p></blockquote><ol start="2"><li><p><span>Use the <code>GENERATE CERTIFICATE REQUEST</code> commandto issue a certificate request.</span></p></li><li><p><span>Send the certificate request to the chosen certificateauthority.</span></p><p><span>To fill in a certificate request, you might need tocontact the certification authority. The certification authoritychecks that the information transmitted are correct. Thecertificate request is generated in a BLOB using the PKCS formatencoded in base64 (PEM format). This principle allows you to copyand paste the keys as text and to send them via E-mail withoutmodifying the key content. For example, you can save the BLOBcontaining the certificate request in a text document (using the<code>BLOB TO DOCUMENT</code> command), then open and copy andpaste its content in a mail or a Web form to be sent to thecertification authority.</span></p></li><li><p><span>Once you get your certificate, create a text file named“cert.pem” and paste the contents of the certificate intoit.</span></p><p><span>You can receive a certificate in different ways (usuallyby email or HTML form). 4D accepts all platform-related textformats for certificates (OS X, PC, Linux, etc.). However, thecertificate must be in PEM format, <em>i.e.</em>, PKCS encoded inbase64.</span></p></li></ol><blockquote><p><span>CR line-ending characters are not supported on their own;you must use CRLF or LF.</span></p></blockquote><ol start="5"><li><span>Place the “cert.pem” file in the <a href="#tls.html_installation-and-activation">appropriatelocation</a>.</span></li></ol><p><span>The 4D server can now work in a secured mode. Acertificate is valid between 3 months to a year.</span></p><h2><span><a aria-hidden="true" class="anchor" id="tls.html_installation-and-activation"></a><a aria-hidden="true"class="hash-link" href="#tls.html_installation-and-activation"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Installation and activation</span></h2><h3><span><a aria-hidden="true" class="anchor" id="tls.html_installing-keypem-and-certpem-files"></a><a aria-hidden="true" class="hash-link" href="#tls.html_installing-keypem-and-certpem-files"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Installing <code>key.pem</code> and <code>cert.pem</code>files</span></h3><p><span>To be able to use the TLS protocol with the server, youmust install the <strong>key.pem</strong> (document containing theprivate encryption key) and <strong>cert.pem</strong> (documentcontaining the certificate) at the appropriate location(s).Different locations are required depending on the server on whichyou want to use TLS.</span></p><blockquote><p><span>Default <em>key.pem</em> and <em>cert.pem</em> files areprovided with 4D. For a higher level of security, we stronglyrecommend that you replace these files with your owncertificates.</span></p></blockquote><h4><span><a aria-hidden="true" class="anchor" id="tls.html_with-the-web-server"></a><a aria-hidden="true" class="hash-link" href="#tls.html_with-the-web-server"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>With the web server</span></h4><p><span>To be used by the 4D web server, the<strong>key.pem</strong> and <strong>cert.pem</strong> files mustbe placed:</span></p><ul><li><span>with 4D in local mode or 4D Server, next to the <a href="#tls.html_project-folder">project folder</a></span></li><li><span>with 4D in remote mode, in the client database folder onthe remote machine (for more information about the location of thisfolder, see the <a href="https://doc.4d.com/4dv19/help/command/en/page485.html"><code>Get4D folder</code></a> command).</span></li></ul><p><span>You must copy these files manually on the remotemachine.</span></p><h4><span><a aria-hidden="true" class="anchor" id="tls.html_with-the-application-server-client-server-desktop-applications"></a><a aria-hidden="true" class="hash-link" href="#tls.html_with-the-application-server-client-server-desktop-applications"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>With the application server (client-server desktopapplications)</span></h4><p><span>To be used by the 4D application server, the<strong>key.pem</strong> and <strong>cert.pem</strong> files mustbe placed:</span></p><ul><li><span>in the <a href="#tls.html_resources"><strong>Resources</strong> folder</a> of the4D Server application</span></li><li><span>and in the <strong>Resources</strong> folder on eachremote 4D application (for more information about the location ofthis folder, see the <a href="https://doc.4d.com/4dv19/help/command/en/page485.html"><code>Get4D folder</code></a> command).</span></li></ul><h4><span><a aria-hidden="true" class="anchor" id="tls.html_with-the-sql-server"></a><a aria-hidden="true" class="hash-link" href="#tls.html_with-the-sql-server"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>With the SQL server</span></h4><p><span>To be used by the 4D SQL server, the<strong>key.pem</strong> and <strong>cert.pem</strong> files mustbe placed next to the <a href="#tls.html_project-folder">projectfolder</a>.</span></p><h3><span><a aria-hidden="true" class="anchor" id="tls.html_enabling-tls"></a><a aria-hidden="true" class="hash-link"href="#tls.html_enabling-tls"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Enabling TLS</span></h3><p><span>The installation of <strong>key.pem</strong> and<strong>cert.pem</strong> files makes it possible to use TLS withthe 4D server. However, in order for TLS connections to be acceptedby the server, you must enable them:</span></p><ul><li><span>With the 4D web server, you must <a href="#tls.html_enable-https">enable HTTPS</a>. You can set the <a href="#tls.html_enable-hsts">HSTS option</a> to redirect browsers tryingto connect in http mode.</span></li><li><span>With the application server, you must select the<strong>Encrypt Client-Server Communications</strong> option in the"Client-server/Network options" page of the Settings dialogbox.</span></li><li><span>With the SQL server, you must select the <strong>EnableTLS</strong> option in the "SQL" page of the Settings dialogbox.</span></li></ul><blockquote><p><span>The 4D web server also supports <a href="#tls.html_enable-hsts">HSTS option</a> to declare that browsersshould only interact with it via secure HTTPSconnections.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="tls.html_perfect-forward-secrecy-pfs"></a><a aria-hidden="true"class="hash-link" href="#tls.html_perfect-forward-secrecy-pfs"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Perfect Forward Secrecy (PFS)</span></h2><p><span><a href="https://en.wikipedia.org/wiki/Forward_secrecy">PFS</a> adds anadditional layer of security to your communications. Rather thanusing pre-established exchange keys, PFS creates session keyscooperatively between the communicating parties usingDiffie-Hellman (DH) algorithms. The joint manner in which the keysare constructed creates a "shared secret" which impedes outsideparties from being able to compromise them.</span></p><p><span>When TLS is enabled on the server, PFS is automaticallyenabled. If the <em>dhparams.pem</em> file (document containing theserver's DH private key) does not already exist, 4D willautomatically generate it with a key size of 2048. The initialgeneration of this file could take several minutes. The file isplaced with the <a href="#tls.html_key-pem-and-cert-pem-files"><em>key.pem</em> and<em>cert.pem</em> files</a>.</span></p><p><span>If you use a <a href="#tls.html_%23cipher-list">customcipher list</a> and want to enable PFS, you must verify that itcontains entries with DH or ECDH (Elliptic-curve Diffie–Hellman)algorithms.</span></p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#cli.html"><span class="arrow-prev">←</span> <span>Command LineInterface</span></a><a class="docs-next button" href="#licenses.html"><span>Managing 4D Licenses</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#tls.html_%25C3%25BCberblick">Überblick</a></li><li><a href="#tls.html_minimum-version">Minimum version</a></li><li><a href="#tls.html_how-to-get-a-certificate">How to get acertificate?</a></li><li><a href="#tls.html_installation-and-activation">Installationand activation</a><ul class="toc-headings"><li><a href="#tls.html_installing-keypem-and-certpem-files">Installing<code>key.pem</code> and <code>cert.pem</code> files</a></li><li><a href="#tls.html_enabling-tls">Enabling TLS</a></li></ul></li><li><a href="#tls.html_perfect-forward-secrecy-pfs">Perfect ForwardSecrecy (PFS)</a></li></ul></nav></div></div></body></html>