<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Operatoren · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="An operator is a symbol or a group of symbols that you use to check, modify, or combine values. Sie kennen bereits viele Operatoren. For example, `1 + 2` uses the addition (or plus sign) operator to add two numbers together, and the result is 3. Comparison operators, like = or &gt;, let you compare two or more values."name="description" /><meta content="de" name="docsearch:language" /><meta content="Operatoren · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="An operator is a symbol or a group of symbols that you use to check, modify, or combine values. Sie kennen bereits viele Operatoren. For example, `1 + 2` uses the addition (or plus sign) operator to add two numbers together, and the result is 3. Comparison operators, like = or &gt;, let you compare two or more values."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#operators.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Operatoren<a aria-hidden="true" class="anchor" id="operators.html"></a></h1></header><article><div><p><span>An operator is a symbol or a group of symbols that you useto check, modify, or combine values. Sie kennen bereits vieleOperatoren. For example, <code>1 + 2</code> uses the addition (orplus sign) operator to add two numbers together, and the result is3. Comparison operators, like = or &gt;, let you compare two ormore values.</span></p><p><span>The 4D language supports the operators you may alreadyknow from other languages like C or JavaScript. However, theassignment operator is <code>:=</code> to prevent it from beingmistakenly used when the equal to operator (<code>=</code>) isintended. <a href="#operators.html_basic-operators">Basicoperators</a> such as arithmetic operators (+, -, *, /, %...) andcomparison operators (=, &gt;, &gt;=...) can be used with numbers,but also with boolean, text, date, time, pointer, or picture datatypes. Like JavaScript, the 4D language supports the concept of<a href="#operators.html_truthy-and-falsy">truthy and falsyvalues</a>, which in use in <a href="#operators.html_short-circuit-operators">short-cicrcuitoperators</a>.</span></p><h2><span><a aria-hidden="true" class="anchor" id="operators.html_terminology"></a><a aria-hidden="true" class="hash-link" href="#operators.html_terminology"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Terminology</span></h2><p><span>The 4D language supports <strong>binary</strong> and<strong>ternary</strong> operators:</span></p><ul><li><span>binary operators operate on two targets (such as <code>2+ 3</code>) and appear in between their two targets.</span></li><li><span>ternary operators operate on three targets. Like C, 4Dhas only one ternary operator, the <a href="#operators.html_ternary-operator">ternary conditional operator</a>(<code>a ? b : c</code>). b : c</span>).</li></ul><p>The values that operators affect are operands. In the expression<code>1 + 2</code>, the + symbol is a binary operator and its twooperands are the values 1 and 2.</p><h2><a aria-hidden="true" class="anchor" id="operators.html_zuweisung"></a><a aria-hidden="true" class="hash-link" href="#operators.html_zuweisung"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Zuweisung</h2><p>The <strong>assignment operator</strong> (<code>a:=b</code>)initializes or updates the value of <code>a</code> with the valueof <code>b</code>:</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$myNumber</span>:=<span class="hljs-number">3</span> <span class="hljs-comment">//assigns 3 to MyNumber variable  </span><span class="hljs-variable">$myDate</span>:=<span class="hljs-literal">!2018/01/21!</span> <span class="hljs-comment">//assigns a date literal</span><span class="hljs-variable">$myLength</span>:=<span class="hljs-function">Length</span>(<span class="hljs-string">"Acme"</span>) <span class="hljs-comment">//assigns the result of the command (4) to $myLength</span><span class="hljs-variable">$col</span>:=New collection <span class="hljs-comment">//$col is initialized with an empty collection</span></code></pre><blockquote><p>Do NOT confuse the assignment operator <code>:=</code> with theequality comparison operator <code>=</code>. A different assignmentoperator (and not <code>=</code>) was deliberately chosen to avoidissues and confusion which often occur with == or === in otherprogramming languages. Denn solche Fehler sind für den Compiler nurschwer zu erkennen und führen zu einer zeitaufwändigenFehlerbehebung.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="operators.html_basic-operators"></a><a aria-hidden="true" class="hash-link" href="#operators.html_basic-operators"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Basic operators</h2><p>Operator results depend on the <strong>data types</strong> theyare applied to. 4D supports different operators on scalar datatypes. They are described with the data types, in the followingsections:</p><ul><li><a href="#operators.html_logical-operators"><strong>Logicaloperators</strong></a> (on <strong>boolean</strong>expressions)</li><li><a href="#operators.html_date-operators"><strong>Datumsoperatoren</strong></a></li><li><a href="#operators.html_time-operators"><strong>Zeitoperatoren</strong></a></li><li><a href="#operators.html_number-operators"><strong>Zahlenoperatoren</strong></a></li><li><a href="#operators.html_bitwise-operators"><strong>Bitwiseoperators</strong></a> (on <strong>long integer</strong>expressions)</li><li><a href="#operators.html_picture-operators"><strong>Bildoperatoren</strong></a></li><li><a href="#operators.html_pointer-operators"><strong>Zeigeroperatoren</strong></a></li><li><a href="#operators.html_string-operators"><strong>StringOperatoren</strong></a></li></ul><h2><a aria-hidden="true" class="anchor" id="operators.html_compound-assignment-operators"></a><a aria-hidden="true" class="hash-link" href="#operators.html_compound-assignment-operators"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Compound assignment operators</h2><p>4D provides <strong>compound assignment operators</strong> thatcombine assignment with another operation. One example is theaddition assignment operator (<code>+=</code>):</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$a</span>:=<span class="hljs-number">1</span> <span class="hljs-variable">$a</span>+=<span class="hljs-number">2</span> <span class="hljs-comment">// $a=3</span></code></pre><p>The following compound assignment operators are supported:</p><table><thead><tr><th>Operator</th><th>Syntax</th><th>Assigns</th><th>Beispiel</th></tr></thead><tbody><tr><td>Addition</td><td>Text += Text</td><td>Text</td><td><code>$t+=" World" //$t:=$t+" World"</code></td></tr><tr><td></td><td>Number += Number</td><td>Zahl</td><td><code>$n+=5 //$n:=$n+5</code></td></tr><tr><td></td><td>Date += Number</td><td>Datum</td><td><code>$d+=5 //$d:=$d+5</code></td></tr><tr><td></td><td>Time += Time</td><td>Zeit</td><td><code>$t1+=$t2 //$t1:=$t1+$t2</code></td></tr><tr><td></td><td>Time += Number</td><td>Zahl</td><td><code>$t1+=5 //$t1:=$t1+5</code></td></tr><tr><td></td><td>Picture += Picture</td><td>Bild</td><td><code>$p1+=$p2 //$p1:=$p1+$p2 (add $p2 to the right of$p1)</code></td></tr><tr><td></td><td>Picture += Number</td><td>Bild</td><td><code>$p1+=5 //$p1:=$p1+5 (move $p1 horizontally 5 pixels tothe right)</code></td></tr><tr><td>Subtraktion</td><td>Number -= Number</td><td>Zahl</td><td><code>$n-=5 //$n:=$n-5</code></td></tr><tr><td></td><td>Date -= Number</td><td>Datum</td><td><code>$d-=5 //$d:=$d-5</code></td></tr><tr><td></td><td>Time -= Time</td><td>Zeit</td><td><code>$t1-=$t2 //$t1:=$t1-$t2</code></td></tr><tr><td></td><td>Time -= Number</td><td>Zahl</td><td><code>$t1-=5 //$t1:=$t1-5</code></td></tr><tr><td></td><td>Picture -= Number</td><td>Bild</td><td><code>$p1-=5 //$p1:=$p1-5 (move $p1 horizontally 5 pixels tothe left)</code></td></tr><tr><td>Division</td><td>Number /= Number</td><td>Zahl</td><td><code>$n/=5 //$n:=$n/5</code></td></tr><tr><td></td><td>Time /= Time</td><td>Zeit</td><td><code>$t1/=$t2 //$t1:=$t1/$t2</code></td></tr><tr><td></td><td>Time /= Number</td><td>Zahl</td><td><code>$t1/=5 //$t1:=$t1/5</code></td></tr><tr><td></td><td>Picture /= Picture</td><td>Bild</td><td><code>$p1/=$p2 //$p1:=$p1/$p2 (add $p2 to the bottom of$p1)</code></td></tr><tr><td></td><td>Picture /= Number</td><td>Bild</td><td><code>$p1/=5 //$p1:=$p1/5 (move $p1 vertically 5pixels)</code></td></tr><tr><td>Multiplikation</td><td>Text *= Number</td><td>Text</td><td><code>$t*="abc" //$t:=$t*"abc"</code></td></tr><tr><td></td><td>Number *= Number</td><td>Zahl</td><td><code>$n*=5 //$n:=$n*5</code></td></tr><tr><td></td><td>Time *= Time</td><td>Zeit</td><td><code>$t1*=$t2 //$t1:=$t1*$t2</code></td></tr><tr><td></td><td>Time *= Number</td><td>Zahl</td><td><code>$t1*=5 //$t1:=$t1*5</code></td></tr><tr><td></td><td>Picture *= Number</td><td>Bild</td><td><code>$p1*=5 //$p1:=$p1*5 (resize $p1 by 5)</code></td></tr></tbody></table><p>These operators apply on any <a href="#operators.html_assignable-vs-non-assignable-expressions">assignableexpressions</a> (except pictures as object properties or collectionelements).</p><p>The operation "source <code>operator</code> value" is notstrictly equivalent to "source := source <code>operator</code>value" because the expression designating the source (variable,field, object property, collection element) is only evaluated once.For example, in such expression as<code>getPointer()-&gt;+=1</code> the <code>getPointer</code>method is called only once.</p><blockquote><p><a href="#operators.html_character-reference-symbols">Characterindexing in text</a> and <a href="#operators.html_accessing-a-scalar-blobs-bytes">byte indexing inblob</a> do not support these operators.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="operators.html_beispiele"></a><a aria-hidden="true" class="hash-link" href="#operators.html_beispiele"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiele</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// Addition</span><span class="hljs-variable">$x</span>:=<span class="hljs-number">2</span><span class="hljs-variable">$x</span>+=<span class="hljs-number">5</span> <span class="hljs-comment">//$x=7</span><span class="hljs-variable">$t</span>:=<span class="hljs-string">"Hello"</span> <span class="hljs-variable">$t</span>+=<span class="hljs-string">" World"</span> <span class="hljs-comment">//$t="Hello World" </span><span class="hljs-variable">$d</span>:=<span class="hljs-literal">!2000-11-10!</span><span class="hljs-variable">$d</span>+=<span class="hljs-number">10</span> <span class="hljs-comment">//$d=!2000-11-20!</span><span class="hljs-comment">// Subtraction</span><span class="hljs-variable">$x1</span>:=<span class="hljs-number">10</span><span class="hljs-variable">$x1</span>-=<span class="hljs-number">5</span> <span class="hljs-comment">//$x1=5</span><span class="hljs-variable">$d1</span>:=<span class="hljs-literal">!2000-11-10!</span><span class="hljs-variable">$d1</span>-=<span class="hljs-number">10</span> <span class="hljs-comment">// $d1=!2000-10-31!</span><span class="hljs-comment">// Division</span><span class="hljs-variable">$x3</span>:=<span class="hljs-number">10</span><span class="hljs-variable">$x3</span>/=<span class="hljs-number">2</span> <span class="hljs-comment">// $x3=5</span><span class="hljs-comment">// Multiplication</span><span class="hljs-variable">$x2</span>:=<span class="hljs-number">10</span><span class="hljs-variable">$x2</span>*=<span class="hljs-number">5</span> <span class="hljs-comment">// $x2=10</span><span class="hljs-variable">$t2</span>:=<span class="hljs-string">"Hello"</span> <span class="hljs-variable">$t2</span>*=<span class="hljs-number">2</span> <span class="hljs-comment">// $t2="HelloHello"</span></code></pre><h2><a aria-hidden="true" class="anchor" id="operators.html_short-circuit-operators"></a><a aria-hidden="true"class="hash-link" href="#operators.html_short-circuit-operators"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Short-circuit operators</h2><p>The <strong>&amp;&amp;</strong> and <strong>||</strong>operators are <strong>short circuit operators</strong>. A shortcircuit operator is one that doesn't necessarily evaluate all ofits operands.</p><p>The difference with the single <a href="#operators.html_logical-operators"><strong>&amp;</strong> and<strong>|</strong> boolean operators</a> is that the short-circuitoperators <strong>&amp;&amp;</strong> and <strong>||</strong> don'treturn a boolean value. They evaluate expressions as <a href="#operators.html_truthy-and-falsy">truthy or falsy</a>, then returnone of the expressions.</p><h3><a aria-hidden="true" class="anchor" id="operators.html_short-circuit-and-operator-"></a><a aria-hidden="true" class="hash-link" href="#operators.html_short-circuit-and-operator-"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Short-circuit AND operator (&amp;&amp;)</h3><p>The rule is as follows:</p><p>Given <code>Expr1 &amp;&amp; Expr2</code>:</p><p>The short-circuit AND operator evaluates operands from left toright, returning immediately with the value of the first falsyoperand it encounters; if all values are <a href="#operators.html_truthy-and-falsy">truthy</a>, the value of thelast operand is returned.</p><p>The following table summarizes the different cases for the<strong>&amp;&amp;</strong> operator:</p><table><thead><tr><th>Expr1</th><th>Expr2</th><th>Value returned</th></tr></thead><tbody><tr><td>truthy</td><td>truthy</td><td>Expr2</td></tr><tr><td>truthy</td><td>falsy</td><td>Expr2</td></tr><tr><td>falsy</td><td>truthy</td><td>Expr1</td></tr><tr><td>falsy</td><td>falsy</td><td>Expr1</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="operators.html_beispiel-1"></a><a aria-hidden="true" class="hash-link" href="#operators.html_beispiel-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$v </span>: Variant<span class="hljs-variable">$v</span>:= <span class="hljs-string">"Hello"</span> &amp;&amp; <span class="hljs-string">"World"</span> <span class="hljs-comment">//"World"</span><span class="hljs-variable">$v</span>:=<span class="hljs-literal">False</span> &amp;&amp; <span class="hljs-number">0</span> <span class="hljs-comment">// False</span><span class="hljs-variable">$v</span>:=<span class="hljs-number">0</span> &amp;&amp; <span class="hljs-literal">False</span> <span class="hljs-comment">// False</span><span class="hljs-variable">$v</span>:=<span class="hljs-number">5</span> &amp;&amp; <span class="hljs-literal">!00-00-00!</span> <span class="hljs-comment">// 00/00/00</span><span class="hljs-variable">$v </span>:= <span class="hljs-number">5</span> &amp;&amp; <span class="hljs-number">10</span> &amp;&amp; <span class="hljs-string">"hello"</span> <span class="hljs-comment">//"hello"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="operators.html_beispiel-2"></a><a aria-hidden="true" class="hash-link" href="#operators.html_beispiel-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 2</h4><p>Say you have an online store, and some products have a tax rateapplied, and others don't.</p><p>To calculate the tax, you multiply the price by the tax rate,which may not have been specified.</p><p>So you can write this:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$tax </span>: Variant<span class="hljs-variable">$tax</span>:=<span class="hljs-variable">$item</span>.taxRate &amp;&amp; (<span class="hljs-variable">$item</span>.price*<span class="hljs-variable">$item</span>.taxRate)</code></pre><p><code>$tax</code> will be NULL if taxRate is NULL (orundefined), otherwise it will store the result of thecalculation.</p><h4><a aria-hidden="true" class="anchor" id="operators.html_example-3"></a><a aria-hidden="true" class="hash-link" href="#operators.html_example-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Example 3</h4><p>Short-circuit operators are useful in tests such as:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span>((<span class="hljs-variable">$myObject</span>#<span class="hljs-literal">Null</span>) &amp;&amp; (<span class="hljs-variable">$myObject</span>.value&gt;<span class="hljs-number">10</span>))    <span class="hljs-comment">//code</span><span class="hljs-keyword">End if</span></code></pre><p>If $myObject is Null, the second argument is not executed, thusno error is thrown.</p><h3><a aria-hidden="true" class="anchor" id="operators.html_short-circuit-or-operator-"></a><a aria-hidden="true" class="hash-link" href="#operators.html_short-circuit-or-operator-"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Short-circuit OR operator (||)</h3><p>The || operator returns the value of one of the specifiedoperands. The expression is evaluated left to right and tested forpossible "short-circuit" evaluation using the following rule:</p><p>Given <code>Expr1 || Expr2</code>:</p><p>If Expr1 is <a href="#operators.html_truthy-and-falsy">truthy</a>, Expr2 is notevaluated and the calculation returns Expr1.</p><p>If Expr1 is <a href="#operators.html_truthy-and-falsy">falsy</a>, the calculationreturns Expr2.</p><p>The following table summarizes the different cases and the valuereturned for the <strong>||</strong> operator:</p><table><thead><tr><th>Expr1</th><th>Expr2</th><th>Value returned</th></tr></thead><tbody><tr><td>truthy</td><td>truthy</td><td>Expr1</td></tr><tr><td>truthy</td><td>falsy</td><td>Expr1</td></tr><tr><td>falsy</td><td>truthy</td><td>Expr2</td></tr><tr><td>falsy</td><td>falsy</td><td>Expr2</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="operators.html_beispiel-1-1"></a><a aria-hidden="true" class="hash-link" href="#operators.html_beispiel-1-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 1</h4><p>Say you have a table called Employee. Some employees haveentered a phone number, and others haven't. This means that<code>$emp.phone</code> could be NULL, and you cannot assign NULLto a Text variable. But you can write the following:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$phone </span>: Text<span class="hljs-variable">$phone</span>:=<span class="hljs-variable">$emp</span>.phone || <span class="hljs-string">"n/a"</span></code></pre><p>In which case <code>$phone</code> will store either a phonenumber or the "n/a" string.</p><h4><a aria-hidden="true" class="anchor" id="operators.html_beispiel-2-1"></a><a aria-hidden="true" class="hash-link" href="#operators.html_beispiel-2-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel 2</h4><p>Given a table called Person with a <em>name</em> field, as wellas a <em>maiden name</em> field for married women.</p><p>The following example checks if there is a maiden name andstores it in a variable, otherwise it simply stores the person'sname:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$name</span>: Text<span class="hljs-variable">$name</span>:=<span class="hljs-variable">$person</span>.maidenName || <span class="hljs-variable">$person</span>.name</code></pre><h3><a aria-hidden="true" class="anchor" id="operators.html_rangfolge"></a><a aria-hidden="true" class="hash-link" href="#operators.html_rangfolge"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Rangfolge</h3><p>The <code>&amp;&amp;</code> and <code>||</code> operators havethe same precedence as the logical operators <code>&amp;</code> and<code>|</code>, and are evaluated left to right.</p><p>This means that <code>a || b &amp;&amp; c</code> is evaluated as<code>(a || b) &amp;&amp; c</code>.</p><h2><a aria-hidden="true" class="anchor" id="operators.html_ternary-operator"></a><a aria-hidden="true" class="hash-link" href="#operators.html_ternary-operator"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Ternary operator</h2><p>The ternary conditional operator allows you to write one-lineconditional expressions. For example, it can replace a fullsequence of <a href="#operators.html_ifelseend-if">If…Else</a>statements.</p><p>It takes three operands in the following order:</p><ul><li>a condition followed by a question mark (?)</li><li>an expression to execute if the condition is <a href="#operators.html_truthy-and-falsy">truthy</a>, followed by a colon(:)</li><li>an expression to execute if the condition is <a href="#operators.html_truthy-and-falsy">falsy</a></li></ul><h3><a aria-hidden="true" class="anchor" id="operators.html_syntax"></a><a aria-hidden="true" class="hash-link"href="#operators.html_syntax"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntax</h3><p>The syntax is as follows:</p><p><code>condition ? condition ? exprIfTruthy : exprIfFalsycondition ? exprIfTruthy : exprIfFalsy condition ? exprIfTruthy :exprIfFalsy</code></p><blockquote><p>Since the <a href="https://doc.4d.com/4Dv19R3/4D/19-R3/Using-tokens-in-formulas.300-5583062.en.html">token syntax</a> uses colons, we recommend inserting a space afterthe colon <code>:</code> or enclosing tokens using parentheses toavoid any conflicts.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="operators.html_beispiele-1"></a><a aria-hidden="true" class="hash-link" href="#operators.html_beispiele-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiele</h3><h4><a aria-hidden="true" class="anchor" id="operators.html_a-simple-example"></a><a aria-hidden="true" class="hash-link" href="#operators.html_a-simple-example"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>A simple example</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$age </span>: Integer<span class="hljs-keyword">var</span> <span class="hljs-variable">$beverage </span>: Text<span class="hljs-variable">$age</span>:=<span class="hljs-number">26</span><span class="hljs-variable">$beverage</span>:=(<span class="hljs-variable">$age</span>&gt;=<span class="hljs-number">21</span>) ? <span class="hljs-string">"Beer"</span> : <span class="hljs-string">"Juice"</span><span class="hljs-function">ALERT</span>(<span class="hljs-variable">$beverage</span>) <span class="hljs-comment">// "Beer" "Beer" : "Juice"</span><span class="hljs-function">ALERT</span>(<span class="hljs-variable">$beverage</span>) <span class="hljs-comment">// "Beer" "Beer" : "Juice"</span><span class="hljs-function">ALERT</span>(<span class="hljs-variable">$beverage</span>) <span class="hljs-comment">// "Beer" "Beer" : "Juice"</span><span class="hljs-function">ALERT</span>(<span class="hljs-variable">$beverage</span>) <span class="hljs-comment">// "Beer"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="operators.html_handling-data-from-a-table"></a><a aria-hidden="true" class="hash-link" href="#operators.html_handling-data-from-a-table"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Handling data from a table</h4><p>This example stores a person's full name in a variable, andhandles the case when no first name or last name has beenspecified:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$fullname </span>: Text<span class="hljs-comment">// If one of the names is missing, store the one that exists, otherwise store an empty string</span><span class="hljs-variable">$fullname</span>:=(<span class="hljs-variable">$person</span>.firstname &amp;&amp; <span class="hljs-variable">$person</span>.lastname)<span class="hljs-function"> ? </span>(<span class="hljs-variable">$person</span>.firstname+<span class="hljs-string">" "</span>+<span class="hljs-variable">$person</span>.lastname) : (<span class="hljs-variable">$person</span>.lastname || <span class="hljs-variable">$person</span>.firstname) || <span class="hljs-string">""</span></code></pre><h2><a aria-hidden="true" class="anchor" id="operators.html_truthy-and-falsy"></a><a aria-hidden="true" class="hash-link" href="#operators.html_truthy-and-falsy"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Truthy and falsy</h2><p>As well as a type, each value also has an inherent Booleanvalue, generally known as either <strong>truthy</strong> or<strong>falsy</strong>.</p><blockquote><p><strong>truthy</strong> and <strong>falsy</strong> values areonly evaluated by <a href="#operators.html_short-circuit-operators">short-circuit</a> and<a href="#operators.html_ternary-operator">ternary</a>operators.</p></blockquote><p>The following values are <strong>falsy</strong>:</p><ul><li>false</li><li>Null</li><li>Undefiniert</li><li>Null object</li><li>Null collection</li><li>Null pointer</li><li>Null picture</li><li>Null date !00-00-00!</li><li>"" - Empty strings</li><li>[] - Empty collections</li><li>{} - Empty objects</li></ul><p>All other values are considered <strong>truthy</strong>,including:</p><ul><li>0 - numeric zero (Integer or otherwise)</li></ul><p>In 4D, <strong>truthy</strong> and <strong>falsy</strong>evaluation reflects the <strong>usability</strong> of a value,which means that a truthy value exists and can be processed by thecode without generating errors or unexpected results. The rationalebehind this is to provide a convenient way to handle<em>undefined</em> and <em>null</em> values in objects andcollections, so that a reduced number of <a href="#operators.html_ifelseend-if">If…Else</a> statements are necessaryto avoid runtime errors.</p><p>For example, when you use a <a href="#operators.html_short-circuit-or-operator-">short-circuit ORoperator</a>:</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$value</span>:=<span class="hljs-variable">$object</span>.value || <span class="hljs-variable">$defaultValue</span></code></pre><p>... you get the default value whenever <em>$object</em> does notcontain the <code>value</code> property OR when it is<em>null</em>. So this operator checks the existence or usabilityof the value instead of a specific value. Note that because thenumerical value 0 exists and is usable, it is not treatedspecially, thus it is <strong>truthy</strong>.</p><p>Regarding values representing collections, objects, or strings,"empty" values are considered <strong>falsy</strong>. It is handywhen you want to assign a default value whenever an empty one isencountered.</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$phone</span>:=<span class="hljs-variable">$emp</span>.phone || <span class="hljs-string">"n/a"</span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#quick-tour.html"><span class="arrow-prev">←</span> <span>SchnelleTour</span></a><a class="docs-next button" href="#data-types.html"><span>Überblick über Datentypen</span><span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#operators.html_terminology">Terminology</a></li><li><a href="#operators.html_zuweisung">Zuweisung</a></li><li><a href="#operators.html_basic-operators">Basicoperators</a></li><li><a href="#operators.html_compound-assignment-operators">Compound assignmentoperators</a></li><li><a href="#operators.html_short-circuit-operators">Short-circuitoperators</a><ul class="toc-headings"><li><a href="#operators.html_short-circuit-and-operator-">Short-circuit ANDoperator (&amp;&amp;)</a></li><li><a href="#operators.html_short-circuit-or-operator-">Short-circuit ORoperator (||)</a></li><li><a href="#operators.html_rangfolge">Rangfolge</a></li></ul></li><li><a href="#operators.html_ternary-operator">Ternary operator</a><ul class="toc-headings"><li><a href="#operators.html_syntax">Syntax</a></li><li><a href="#operators.html_beispiele-1">Beispiele</a></li></ul></li><li><a href="#operators.html_truthy-and-falsy">Truthy andfalsy</a></li></ul></nav></div></div></body></html>