<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Server Configuration · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Using standard HTTP requests, the 4D REST Server allows external applications to access the data of your application directly, *i.e.* to retrieve information about the dataclasses in your project, manipulate data, log into your web application, and much more."name="description" /><meta content="de" name="docsearch:language" /><meta content="Server Configuration · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Using standard HTTP requests, the 4D REST Server allows external applications to access the data of your application directly, *i.e.* to retrieve information about the dataclasses in your project, manipulate data, log into your web application, and much more."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#configuration.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">ServerConfiguration<a aria-hidden="true" class="anchor" id="configuration.html"></a></h1></header><article><div><p><span>Using standard HTTP requests, the 4D REST Server allowsexternal applications to access the data of your applicationdirectly, <em>i.e.</em> to retrieve information about thedataclasses in your project, manipulate data, log into your webapplication, and much more.</span></p><p><span>To start using the REST features, you need to start andconfigure the 4D REST server.</span></p><blockquote><ul><li><span>On 4D Server, opening a REST session requires that a free4D client licence is available.<br /></span></li><li><span>On 4D single-user, you can open up to three REST sessionsfor testing purposes.</span></li><li><span>You need to manage the <a href="#authUsers.html">session</a> for your requestingapplication.</span></li></ul></blockquote><h2><span><a aria-hidden="true" class="anchor" id="configuration.html_starting-the-rest-server"></a><a aria-hidden="true" class="hash-link" href="#configuration.html_starting-the-rest-server"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Starting the REST Server</span></h2><p><span>For security reasons, by default, 4D does not respond toREST requests. If you want to start the REST Server, you must checkthe <strong>Expose as REST server</strong> option in the<strong>Web</strong> &gt; <strong>Web Features</strong> page of thestructure settings in order for REST requests to beprocessed.</span></p><p><span><img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/en/REST/Settings.png" /></span></p><blockquote><p><span>REST services use the 4D HTTP server, so you need to makesure that the 4D web server is started.</span></p></blockquote><p><span>The warning message "Caution, check the access privileges"is displayed when you check this option to draw your attention tothe fact that when REST services are activated, by default accessto database objects is free as long as the REST accesses have notbeen configured.</span></p><blockquote><p><span>You must restart the 4D application for your changes totake effect.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="configuration.html_configuring-rest-access"></a><a aria-hidden="true" class="hash-link" href="#configuration.html_configuring-rest-access"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Configuring REST access</span></h2><p><span>By default, REST accesses are open to all users which isobviously not recommended for security reasons, and also to controlclient licenses usage.</span></p><p><span>You can configuring REST accesses with one of thefollowing means:</span></p><ul><li><span>assigning a <strong>Read/Write</strong> user group toREST services in the "<strong>Web</strong> &gt; <strong>WebFeatures</strong>" page of the Structure Settings;</span></li><li><span>writing an <code>On REST Authentication</code> databasemethod to intercept and handle every initial RESTrequest.</span></li></ul><blockquote><p><span>You cannot use both features simultaneously. Once an<code>On REST Authentication</code> database method has beendefined, 4D fully delegates control of REST requests to it: anysetting made using the "Read/Write" menu on the<strong>Web</strong> &gt; <strong>Web Features</strong> page of theStructure Settings is ignored.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="configuration.html_using-the-structure-settings"></a><a aria-hidden="true"class="hash-link" href="#configuration.html_using-the-structure-settings"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Using the Structure Settings</span></h3><p><span>The <strong>Read/Write</strong> menu in the"<strong>Web</strong> &gt; <strong>Web Features</strong>" page ofthe structure settings specifies a group of 4D users that isauthorized to establish the link to the 4D application using RESTqueries.</span></p><p><span>By default, the menu displays<strong>&lt;Anyone&gt;</strong>, which means that REST accesses areopen to all users. Once you have specified a group, only a 4D useraccount that belongs to this group may be used to <a href="#authUsers.html">access 4D by means of a REST request</a>. If anaccount is used that does not belong to this group, 4D returns anauthentication error to the sender of the request.</span></p><blockquote><p><span>In order for this setting to take effect, the <code>OnREST Authentication</code> database method must not be defined. Ifit exists, 4D ignores access settings defined in the StructureSettings.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="configuration.html_using-the-on-rest-authentication-database-method"></a><a aria-hidden="true" class="hash-link" href="#configuration.html_using-the-on-rest-authentication-database-method"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Using the On REST Authentication databasemethod</span></h3><p><span>The <code>On REST Authentication</code> database methodprovides you with a custom way of controlling the opening of RESTsessions on 4D. This database method is automatically called when anew session is opened through a REST request. This database methodis automatically called when a new session is opened through a RESTrequest. When a <a href="#authUsers.html">request to open a RESTsession</a> is received, the connection identifiers are provided inthe header of the request. The <code>On REST Authentication</code>database method is called so that you can evaluate theseidentifiers. You can use the list of users for the 4D applicationor you can use your own table of identifiers. For more information,refer to the <code>On REST Authentication</code> database method<a href="https://doc.4d.com/4Dv18/4D/18/On-REST-Authentication-database-method.301-4505004.en.html">documentation</a>.</span></p><h2><span><a aria-hidden="true" class="anchor" id="configuration.html_exposing-tables-and-fields"></a><a aria-hidden="true" class="hash-link" href="#configuration.html_exposing-tables-and-fields"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exposing tables and fields</span></h2><p><span>Once REST services are enabled in the 4D application, bydefault a REST session can access all tables and fields of the 4Ddatabase through the <a href="#configuration.html_datastore">datastore interface</a>. Thus, itcan use their data. For example, if your database contains an[Employee] table, it is possible to write:</span></p><pre><span><code class="hljs"><span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/127.0.0.1:8044/rest</span><span class="hljs-regexp">/Employee/</span>?<span class="hljs-variable">$filter</span>=<span class="hljs-string">"salary&gt;10000"</span></code></span></pre><p>This request will return all employees whose salary field ishigher than 10000.</p><blockquote><p>4D tables and/or fields that have the "Invisible" attribute arealso exposed in REST by default.</p></blockquote><p>If you want to customize the datastore objects accessiblethrough REST, you must disable the exposure of each table and/orfield that you want to hide. When a REST request attempts to accessan unauthorized resource, 4D returns an error.</p><h3><a aria-hidden="true" class="anchor" id="configuration.html_exposing-tables"></a><a aria-hidden="true"class="hash-link" href="#configuration.html_exposing-tables"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exposing tables</h3><p>By default, all tables are exposed in REST.</p><p>For security reasons, you may want to only expose certain tablesof your datastore to REST calls. For instance, if you created a[Users] table storing user names and passwords, it would be betternot to expose it.</p><p>To remove the REST exposure for a table:</p><ol><li><p>Display the Table Inspector in the Structure editor and selectthe table you want to modify.</p></li><li><p>Uncheck the <strong>Expose as REST resource</strong> option:<img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/en/REST/table.png" /> Dothis for each table whose exposure needs to be modified.</p></li></ol><h3><a aria-hidden="true" class="anchor" id="configuration.html_exposing-fields"></a><a aria-hidden="true"class="hash-link" href="#configuration.html_exposing-fields"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exposing fields</h3><p>By default, all 4D database fields are exposed in REST.</p><p>You may not want to expose certain fields of your tables toREST. For example, you may not want to expose the [Employees]Salaryfield.</p><p>To remove the REST exposure for a field:</p><ol><li><p>Display the Field Inspector in the Structure editor and selectthe field you want to modify.</p></li><li><p>Uncheck the <strong>Expose as REST resource</strong> for thefield. <img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/en/REST/field.png" />Repeat this for each field whose exposure needs to be modified.</p></li></ol><blockquote><p>In order for a field to be accessible through REST, the parenttable must be as well. If the parent table is not exposed, none ofits fields will be, regardless of their status.</p></blockquote></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#gettingStarted.html"><span class="arrow-prev">←</span><span>Getting Started</span></a><a class="docs-next button" href="#authUsers.html"><span>Users and sessions</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#configuration.html_starting-the-rest-server">Startingthe REST Server</a></li><li><a href="#configuration.html_configuring-rest-access">Configuring RESTaccess</a><ul class="toc-headings"><li><a href="#configuration.html_using-the-structure-settings">Using theStructure Settings</a></li><li><a href="#configuration.html_using-the-on-rest-authentication-database-method">Using the On REST Authentication database method</a></li></ul></li><li><a href="#configuration.html_exposing-tables-and-fields">Exposing tablesand fields</a><ul class="toc-headings"><li><a href="#configuration.html_exposing-tables">Exposingtables</a></li><li><a href="#configuration.html_exposing-fields">Exposingfields</a></li></ul></li></ul></nav></div></div></body></html>