<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Session · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Session objects are returned by the [`Session`](#session) command when [scalable sessions are enabled in your project](/docs/Rx/de/WebServer/sessions.html#enabling-sessions). The Session object is automatically created and maintained by the 4D web server to control the session of a web client (e.g. a browser). This object provides the web developer with an interface to the user session, allowing to manage privileges, store contextual data, share information between processes, and launch session-related preemptive processes."name="description" /><meta content="de" name="docsearch:language" /><meta content="Session · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Session objects are returned by the [`Session`](#session) command when [scalable sessions are enabled in your project](/docs/Rx/de/WebServer/sessions.html#enabling-sessions). The Session object is automatically created and maintained by the 4D web server to control the session of a web client (e.g. a browser). This object provides the web developer with an interface to the user session, allowing to manage privileges, store contextual data, share information between processes, and launch session-related preemptive processes."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#SessionClass.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Session<a aria-hidden="true" class="anchor" id="SessionClass.html"></a></h1></header><article><div><p><span>Session objects are returned by the <a href="#SessionClass.html_session"><code>Session</code></a> command when<a href="#SessionClass.html_enabling-sessions">scalable sessionsare enabled in your project</a>. The Session object isautomatically created and maintained by the 4D web server tocontrol the session of a web client (e.g. a browser). This objectprovides the web developer with an interface to the user session,allowing to manage privileges, store contextual data, shareinformation between processes, and launch session-relatedpreemptive processes.</span></p><p><span>For detailed information about the session implementation,please refer to the <a href="#sessions.html">web serverSessions</a> section.</span></p><h3><span><a aria-hidden="true" class="anchor" id="SessionClass.html_summary"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_summary"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Summary</span></h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#SessionClass.html_clearprivileges"><strong>.clearPrivileges()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;removes all the privileges associated tothe session</p></td></tr><tr><td><a href="#SessionClass.html_expirationdate"><strong>.expirationDate</strong>: Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;the expiration date and time of thesession cookie</p></td></tr><tr><td><a href="#SessionClass.html_hasprivilege"><strong>.hasPrivilege</strong>(<em>privilege</em> : Text ) : Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns True if the privilege isassociated to the session, and False otherwise</p></td></tr><tr><td><a href="#SessionClass.html_idletimeout"><strong>.idleTimeout</strong> :Integer</a><p>&nbsp;&nbsp;&nbsp;&nbsp;the inactivity session timeout (inminutes), after which the session is automatically closed by 4D</p></td></tr><tr><td><a href="#SessionClass.html_isguest"><strong>.isGuest()</strong> :Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;returns True if the session is a Guestsession (i.e. it has no privileges)</p></td></tr><tr><td><a href="#SessionClass.html_setprivileges"><strong>.setPrivileges</strong>(<em>privilege</em> : Text )<br /><strong>.setPrivileges</strong>( <em>privileges</em> : Collection)<br /><strong>.setPrivileges</strong>( <em>settings</em> : Object )</a><p>&nbsp;&nbsp;&nbsp;&nbsp;associates the privilege(s) defined inthe parameter to the session</p></td></tr><tr><td><a href="#SessionClass.html_storage"><strong>.storage</strong>: Object</a><p>&nbsp;&nbsp;&nbsp;&nbsp;a shared object that can be used tostore information available to all requests of the web client</p></td></tr><tr><td><a href="#SessionClass.html_username"><strong>.userName</strong> : Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;the user name associated to thesession</p></td></tr></tbody></table><h2><span><a aria-hidden="true" class="anchor" id="SessionClass.html_session"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_session"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Session</span></h2><details><summary><span>History</span></summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><span><strong>Session</strong> : 4D.Session</span></p><table><thead><tr><th>Parameter</th><th>Typ</th><th style="text-align:center"></th><th>Beschreibung</th></tr></thead><tbody><tr><td>Ergebnis</td><td>4D.Session</td><td style="text-align:center">&lt;-</td><td>Session object</td></tr></tbody></table><h4><span><a aria-hidden="true" class="anchor" id="SessionClass.html_beschreibung"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beschreibung"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</span></h4><p><span>The <code>Session</code> command returns the<code>Session</code> object corresponding to the current scalableuser web session.</span></p><p><span>This command only works when <a href="#SessionClass.html_enabling-sessions">scalable sessions areenabled</a>. It returns <em>Null</em> when sessions are disabled orwhen legacy sessions are used.</span></p><p><span>When scalable sessions are enabled, the<code>Session</code> object is available from any web processes inthe following contexts:</span></p><ul><li><span><code>On Web Authentication</code>, <code>On WebConnection</code>, and <code>On REST Authentication</code> databasemethods,</span></li><li><span>ORDA <a href="#ordaClasses.html">Data Model Classfunctions</a> called with REST requests,</span></li><li><span>code processed through 4D tags in semi-dynamic pages(4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)</span></li><li><span>project methods with the "Available through 4D tags andURLs (4DACTION...)" attribute and called through 4DACTION/urls.</span></li></ul><h4><span><a aria-hidden="true" class="anchor" id="SessionClass.html_beispiel"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beispiel"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</span></h4><p><span>You have defined the <code>action_Session</code> methodwith attribute "Available through 4D tags and URLs". You call themethod by entering the following URL in your browser:</span></p><pre><span><code class="hljs"><span class="hljs-string">IP:</span>port<span class="hljs-regexp">/4DACTION/</span>action_Session</code></span></pre><pre><code class="hljs css language-4d">  <span class="hljs-comment">//action_Session method</span><span class="hljs-keyword"> Case of</span>    :(Session#<span class="hljs-literal">Null</span>)<span class="hljs-keyword">       If</span>(Session.<span class="hljs-function">hasPrivilege</span>(<span class="hljs-string">"WebAdmin"</span>)) <span class="hljs-comment">//calling the hasPrivilege function</span><span class="hljs-function">          WEB SEND TEXT</span>(<span class="hljs-string">"4DACTION --&gt; Session is WebAdmin"</span>)<span class="hljs-keyword">       Else</span><span class="hljs-function">          WEB SEND TEXT</span>(<span class="hljs-string">"4DACTION --&gt; Session is not WebAdmin"</span>)<span class="hljs-keyword">       End if</span><span class="hljs-keyword">    Else</span><span class="hljs-function">       WEB SEND TEXT</span>(<span class="hljs-string">"4DACTION --&gt; Sesion is null"</span>)<span class="hljs-keyword"> End case</span></code></pre><h2><a aria-hidden="true" class="anchor" id="SessionClass.html_clearprivileges"></a><a aria-hidden="true"class="hash-link" href="#SessionClass.html_clearprivileges"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.clearPrivileges()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.clearPrivileges()</strong> | Parameter | Typ | |Beschreibung | | --------- | --- |::|------------------------------- | | | | | Does not require anyparameters |</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beschreibung-1"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beschreibung-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.clearPrivileges()</code> function removes all theprivileges associated to the session. As a result, the sessionautomatically becomes a Guest session.</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beispiel-1"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beispiel-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">//Invalidate a session</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$isGuest </span>: Boolean  Session.<span class="hljs-function">clearPrivileges</span>()<span class="hljs-variable">$isGuest</span>:=Session.<span class="hljs-function">isGuest</span>() <span class="hljs-comment">//$isGuest is True</span></code></pre><h2><a aria-hidden="true" class="anchor" id="SessionClass.html_expirationdate"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_expirationdate"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.expirationDate</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.expirationDate</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beschreibung-2"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beschreibung-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.expirationDate</code> property contains theexpiration date and time of the session cookie. The value isexpressed as text in the ISO 8601 format:<code>YYYY-MM-DDTHH:MM:SS.mmmZ</code>.</p><p>This property is <strong>read-only</strong>. It is automaticallyrecomputed if the <a href="#SessionClass.html_idletimeout"><code>.idleTimeout</code></a>property value is modified.</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beispiel-2"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beispiel-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$expiration </span>: Text<span class="hljs-variable">$expiration</span>:=Session.expirationDate <span class="hljs-comment">//eg "2021-11-05T17:10:42Z"</span></code></pre><h2><a aria-hidden="true" class="anchor" id="SessionClass.html_hasprivilege"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_hasprivilege"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.hasPrivilege()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.hasPrivilege</strong>( <em>privilege</em> : Text ) :Boolean</p><table><thead><tr><th>Parameter</th><th>Typ</th><th style="text-align:center"></th><th>Beschreibung</th></tr></thead><tbody><tr><td>privilege</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Name of the privilege to verify</td></tr><tr><td>Ergebnis</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>True if session has <em>privilege</em>, False otherwise</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beschreibung-3"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beschreibung-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.hasPrivilege()</code> function returns True if theprivilege is associated to the session, and False otherwise.</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beispiel-3"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beispiel-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>You want to check if the "WebAdmin" privilege is associated tothe session:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span> (Session.<span class="hljs-function">hasPrivilege</span>(<span class="hljs-string">"WebAdmin"</span>))    <span class="hljs-comment">//Access is granted, do nothing</span><span class="hljs-keyword">Else</span>    <span class="hljs-comment">//Display an authentication page</span><span class="hljs-keyword">End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="SessionClass.html_idletimeout"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_idletimeout"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.idleTimeout</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.idleTimeout</strong> : Integer</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beschreibung-4"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beschreibung-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.idleTimeout</code> property contains the inactivitysession timeout (in minutes), after which the session isautomatically closed by 4D.</p><p>If this property is not set, the default value is 60 (1h).</p><p>When this property is set, the <a href="#SessionClass.html_expirationdate"><code>.expirationDate</code></a>property is updated accordingly.</p><blockquote><p>The value cannot be less than 60: if a lower value is set, thetimeout is raised up to 60.</p></blockquote><p>This property is <strong>read write</strong>.</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beispiel-4"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beispiel-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span> (Session.<span class="hljs-function">isGuest</span>())        <span class="hljs-comment">// A Guest session will close after 60 minutes of inactivity</span>    Session.idleTimeout:=<span class="hljs-number">60</span><span class="hljs-keyword">Else</span>        <span class="hljs-comment">// Other sessions will close after 120 minutes of inactivity</span>    Session.idleTimeout:=<span class="hljs-number">120</span><span class="hljs-keyword">End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="SessionClass.html_isguest"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_isguest"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.isGuest()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.isGuest()</strong> : Boolean</p><table><thead><tr><th>Parameter</th><th>Typ</th><th style="text-align:center"></th><th>Beschreibung</th></tr></thead><tbody><tr><td>Ergebnis</td><td>Boolean</td><td style="text-align:center">&lt;-</td><td>True if session is a Guest one, False otherwise</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beschreibung-5"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beschreibung-5"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.isGuest()</code> function returns True if the sessionis a Guest session (i.e. it has no privileges).</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beispiel-5"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beispiel-5"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>In the <code>On Web Connection</code> database method:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span> (Session.<span class="hljs-function">isGuest</span>())    <span class="hljs-comment">//Do something for Guest user</span><span class="hljs-keyword">End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="SessionClass.html_setprivileges"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_setprivileges"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.setPrivileges()</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.setPrivileges</strong>( <em>privilege</em> : Text)<br /><strong>.setPrivileges</strong>( <em>privileges</em> : Collection)<br /><strong>.setPrivileges</strong>( <em>settings</em> : Object )</p><table><thead><tr><th>Parameter</th><th>Typ</th><th style="text-align:center"></th><th>Beschreibung</th></tr></thead><tbody><tr><td>privilege</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Privilege name</td></tr><tr><td>privileges</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Collection of privilege names</td></tr><tr><td>settings</td><td>Objekt</td><td style="text-align:center">-&gt;</td><td>Object with a "privileges" property (string or collection)</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beschreibung-6"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beschreibung-6"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.setPrivileges()</code> function associates theprivilege(s) defined in the parameter to the session.</p><ul><li><p>In the <em>privilege</em> parameter, pass a string containing aprivilege name (or several comma-separated privilege names).</p></li><li><p>In the <em>privileges</em> parameter, pass a collection ofstrings containing privilege names.</p></li><li><p>In the <em>settings</em> parameter, pass an object containingthe following properties:</p></li></ul><table><thead><tr><th>Property</th><th>Typ</th><th>Beschreibung</th></tr></thead><tbody><tr><td>privileges</td><td>Text or Collection</td><td><ul><li>String containing a privilege name, or</li><li>Collection of strings containing privilege names</li></ul></td></tr><tr><td>userName</td><td>Text</td><td>User name to associate to the session (optional)</td></tr></tbody></table><p>If the <code>privileges</code> property contains an invalidprivilege name, it is ignored.</p><blockquote><p>In the current implementation, only the "WebAdmin" privilege isavailable.</p></blockquote><p>By default when no privilege is associated to the session, thesession is a <a href="#SessionClass.html_isguest">Guestsession</a>.</p><p>The <a href="#SessionClass.html_username"><code>userName</code></a> property isavailable at session object level (read-only).</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beispiel-6"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beispiel-6"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>In a custom authentication method, you set the "WebAdmin"privilege to the user:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$userOK </span>: Boolean... <span class="hljs-comment">//Authenticate the user</span><span class="hljs-keyword">If</span> (<span class="hljs-variable">$userOK</span>) <span class="hljs-comment">//The user has been approved</span><span class="hljs-keyword">  var</span> <span class="hljs-variable">$info </span>: Object  <span class="hljs-variable">$info</span>:=<span class="hljs-function">New object</span>()  <span class="hljs-variable">$info</span>.privileges:=<span class="hljs-function">New collection</span>(<span class="hljs-string">"WebAdmin"</span>)  Session.<span class="hljs-function">setPrivileges</span>(<span class="hljs-variable">$info</span>)<span class="hljs-keyword">End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="SessionClass.html_storage"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_storage"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.storage</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.storage</strong> : Object</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beschreibung-7"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beschreibung-7"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.storage</code> property contains a shared object thatcan be used to store information available to all requests of theweb client.</p><p>When a <code>Session</code> object is created, the<code>.storage</code> property is empty. Since it is a sharedobject, this property will be available in the <code>Storage</code>object of the server.</p><blockquote><p>Like the <code>Storage</code> object of the server, the<code>.storage</code> property is always "single": adding a sharedobject or a shared collection to <code>.storage</code> does notcreate a shared group.</p></blockquote><p>This property is <strong>read only</strong> itself but itreturns a read-write object.</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beispiel-7"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beispiel-7"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beispiel</h4><p>You want to store the client IP in the <code>.storage</code>property. You can write in the <code>On Web Authentication</code>database method:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span> (Session.storage.clientIP=<span class="hljs-literal">Null</span>) <span class="hljs-comment">//first access</span><span class="hljs-keyword">    Use</span> (Session.storage)        Session.storage.clientIP:=<span class="hljs-function">New shared object</span>(<span class="hljs-string">"value"</span>; <span class="hljs-variable">$clientIP</span>)<span class="hljs-keyword">    End use</span><span class="hljs-keyword"> End if</span> </code></pre><h2><a aria-hidden="true" class="anchor" id="SessionClass.html_username"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_username"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.userName</h2><details><summary>History</summary><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v18 R6</td><td>Added</td></tr></tbody></table></details><p><strong>.userName</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SessionClass.html_beschreibung-8"></a><a aria-hidden="true" class="hash-link" href="#SessionClass.html_beschreibung-8"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Beschreibung</h4><p>The <code>.userName</code> property contains the user nameassociated to the session. You can use it to identify the userwithin your code.</p><p>This property is an empty string by default. It can be set usingthe <code>privileges</code> property of the <a href="#SessionClass.html_setprivileges"><code>setPrivileges()</code></a>function.</p><p>This property is <strong>read only</strong>.</p><style><![CDATA[ h2 { background: #d9ebff;}]]></style></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#POP3TransporterClass.html"><span class="arrow-prev">←</span><span>POP3Transporter</span></a><a class="docs-next button" href="#SignalClass.html"><span>Signal</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#SessionClass.html_session">Session</a></li><li><a href="#SessionClass.html_clearprivileges">.clearPrivileges()</a></li><li><a href="#SessionClass.html_expirationdate">.expirationDate</a></li><li><a href="#SessionClass.html_hasprivilege">.hasPrivilege()</a></li><li><a href="#SessionClass.html_idletimeout">.idleTimeout</a></li><li><a href="#SessionClass.html_isguest">.isGuest()</a></li><li><a href="#SessionClass.html_setprivileges">.setPrivileges()</a></li><li><a href="#SessionClass.html_storage">.storage</a></li><li><a href="#SessionClass.html_username">.userName</a></li></ul></nav></div></div></body></html>