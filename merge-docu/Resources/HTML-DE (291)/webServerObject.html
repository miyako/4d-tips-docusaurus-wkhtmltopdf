<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="de"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Web Server object · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="A 4D project can start and monitor a web server for the main (host) application as well as each hosted component."name="description" /><meta content="de" name="docsearch:language" /><meta content="Web Server object · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="A 4D project can start and monitor a web server for the main (host) application as well as each hosted component."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#webServerObject.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Web Serverobject<a aria-hidden="true" class="anchor" id="webServerObject.html"></a></h1></header><article><div><p><span>A 4D project can start and monitor a web server for themain (host) application as well as each hostedcomponent.</span></p><p><span>For example, if you installed two components in your mainapplication, you can start and monitor up to three independant webservers from your application:</span></p><ul><li><span>one web server for the host application,</span></li><li><span>one web server for the component #1,</span></li><li><span>one web server for the component #2.</span></li></ul><p><span>Other than memory, there is no limit to the number ofcomponents and thus, of web servers, that can be attached to asingle 4D application project.</span></p><p><span>Each 4D web server, including the main application's webserver, is exposed as a specific <strong>object</strong> of the<code>4D.WebServer</code> class. Once instantiated, a web serverobject can be handled from the current application or from anycomponent using a <a href="#WebServerClass.html">large number ofproperties and functions</a>.</span></p><blockquote><p><span>The legacy <a href="https://doc.4d.com/4Dv18/4D/18/Web-Server.201-4504301.en.html">WEBcommands</a> of the 4D language are supported but cannot select theweb server to which they apply (see below).</span></p></blockquote><p><span>Each web server (host application or component) can beused in its own separate context, including:</span></p><ul><li><span><code>On Web Authentication</code> and <code>On WebConnection</code> database method calls</span></li><li><span>4D tags processing and method calls,</span></li><li><span>web sessions and TLS protocol management.</span></li></ul><p><span>This allows you to develop independant components andfeatures that come with their own web interfaces.</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerObject.html_instantiating-a-web-server-object"></a><a aria-hidden="true"class="hash-link" href="#webServerObject.html_instantiating-a-web-server-object"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Instantiating a web server object</span></h2><p><span>The web server object of the host application (default webserver) is automatically loaded by 4D at startup. Thus, if youwrite in a newly created project:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-variable">$nbSrv</span>:=WEB Server list.length   <span class="hljs-comment">//$nbSrv value is 1</span></code></span></pre><p>To instantiate a web server object, call the <a href="#webServerObject.html_web-server"><code>WEB Server</code></a>command:</p><pre><code class="hljs css language-4d">    <span class="hljs-comment">//create an object variable of the 4D.WebServer class</span><span class="hljs-keyword">var</span> webServer : 4D.WebServer     <span class="hljs-comment">//call the web server from the current context</span>webServer:=WEB Server      <span class="hljs-comment">//equivalent to</span>webServer:=<span class="hljs-function">WEB Server</span>(Web server database)</code></pre><p>If the application uses components and you want to call:</p><ul><li>the host application's web server from a component or</li><li>the server that received the request (whatever theserver),</li></ul><p>you can also use:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> webServer : 4D.WebServer     <span class="hljs-comment">//call the host web server from a component  </span>webServer:=<span class="hljs-function">WEB Server</span>(Web server host database)      <span class="hljs-comment">//call the target web server</span>webServer:=<span class="hljs-function">WEB Server</span>(Web server receiving request)  </code></pre><h2><a aria-hidden="true" class="anchor" id="webServerObject.html_web-server-functions"></a><a aria-hidden="true" class="hash-link" href="#webServerObject.html_web-server-functions"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Web server functions</h2><p>A <a href="#webServerObject.html_web-server-object">web serverclass object</a> contains the following functions:</p><table><thead><tr><th>Funktionen</th><th>Parameter</th><th>Return value</th><th>Beschreibung</th></tr></thead><tbody><tr><td><a href="#webServerObject.html_start"><code>start()</code></a></td><td>settings (object)</td><td>status (object)</td><td>Starts the web server</td></tr><tr><td><a href="#webServerObject.html_start"><code>stop()</code></a></td><td>-</td><td>-</td><td>Stops the web server</td></tr></tbody></table><p>To start and stop a web server, just call the <a href="#webServerObject.html_start"><code>start()</code></a> and <a href="#webServerObject.html_stop"><code>stop()</code></a> functions ofthe web server object:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$status </span>: Object    <span class="hljs-comment">//to start a web server with default settings</span><span class="hljs-variable">$status</span>:=webServer.<span class="hljs-function">start</span>()    <span class="hljs-comment">//to start the web server with custom settings  </span>    <span class="hljs-comment">//$settings object contains web server properties</span>webServer.<span class="hljs-function">start</span>(<span class="hljs-variable">$settings</span>)    <span class="hljs-comment">//to stop the web server</span><span class="hljs-variable">$status</span>:=webServer.<span class="hljs-function">stop</span>()</code></pre><h2><a aria-hidden="true" class="anchor" id="webServerObject.html_web-server-properties"></a><a aria-hidden="true" class="hash-link" href="#webServerObject.html_web-server-properties"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Web server properties</h2><p>A web server object contains <a href="#webServerObject.html_web-server-object">various properties</a>which configure the web server.</p><p>These properties are defined:</p><ol><li>using the <code>settings</code> parameter of the <a href="#webServerObject.html_start"><code>.start()</code></a> function(except for read-only properties, see below),</li><li>if not used, using the <code>WEB SET OPTION</code> command(host applications only),</li><li>if not used, in the settings of the host application or thecomponent.</li></ol><ul><li>If the web server is not started, the properties contain thevalues that will be used at the next web server startup.</li><li>If the web server is started, the properties contain the actualvalues used by the web server (default settings could have beenoverriden by the <code>settings</code> parameter of the <a href="#webServerObject.html_start"><code>.start()</code></a>function.</li></ul><blockquote><p><em>isRunning</em>, <em>name</em>, <em>openSSLVersion</em>, and<em>perfectForwardSecrecy</em> are read-only properties that cannotbe predefined in the <code>settings</code> object parameter for the<a href="#webServerObject.html_start"><code>start()</code></a>function.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="webServerObject.html_scope-of-the-4d-web-commands"></a><a aria-hidden="true"class="hash-link" href="#webServerObject.html_scope-of-the-4d-web-commands"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Scope of the 4D Web commands</h2><p>The 4D Language contains <a href="https://doc.4d.com/4Dv18/4D/18/Web-Server.201-4504301.en.html">severalcommands</a> that can be used to control the web server. However,these commands are designed to work with a single (default) webserver. When using these commands in the context of web serverobjects, make sure their scope is appropriate.</p><table><thead><tr><th>Command</th><th>Scope</th></tr></thead><tbody><tr><td><code>SET DATABASE PARAMETER</code></td><td>Host application web server</td></tr><tr><td><code>WEB CLOSE SESSION</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB GET BODY PART</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB Get body part count</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB Get Current Session ID</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB GET HTTP BODY</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB GET HTTP HEADER</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB GET OPTION</code></td><td>Host application web server</td></tr><tr><td><code>WEB Get server info</code></td><td>Host application web server</td></tr><tr><td><code>WEB GET SESSION EXPIRATION</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB Get session process count</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB GET STATISTICS</code></td><td>Host application web server</td></tr><tr><td><code>WEB GET VARIABLES</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB Is secured connection</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB Is server running</code></td><td>Host application web server</td></tr><tr><td><code>WEB SEND BLOB</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB SEND FILE</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB SEND HTTP REDIRECT</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB SEND RAW DATA</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB SEND TEXT</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB SET HOME PAGE</code></td><td>Host application web server</td></tr><tr><td><code>WEB SET HTTP HEADER</code></td><td>Web server that received the request</td></tr><tr><td><code>WEB SET OPTION</code></td><td>Host application web server</td></tr><tr><td><code>WEB SET ROOT FOLDER</code></td><td>Host application web server</td></tr><tr><td><code>WEB START SERVER</code></td><td>Host application web server</td></tr><tr><td><code>WEB STOP SERVER</code></td><td>Host application web server</td></tr><tr><td><code>WEB Validate digest</code></td><td>Web server that received the request</td></tr></tbody></table></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#webServerAdmin.html"><span class="arrow-prev">←</span><span>Administration</span></a><a class="docs-next button" href="#gettingStarted.html"><span>Getting Started</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#webServerObject.html_instantiating-a-web-server-object">Instantiatinga web server object</a></li><li><a href="#webServerObject.html_web-server-functions">Web serverfunctions</a></li><li><a href="#webServerObject.html_web-server-properties">Webserver properties</a></li><li><a href="#webServerObject.html_scope-of-the-4d-web-commands">Scope of the4D Web commands</a></li></ul></nav></div></div></body></html>