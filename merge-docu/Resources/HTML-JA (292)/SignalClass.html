<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="ja"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Signal · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="シグナルは、マルチプロセスアプリケーションにおいてプロセス間でのやり取りを管理し衝突を避けるために 4Dランゲージが提供するツールです。 シグナルは、1つ以上のプロセスが実行を一時停止し、特定のタスクが完了するまで待つようにする仕組みです。 どのプロセスもシグナルを待機またはリリースすることができます。"name="description" /><meta content="ja" name="docsearch:language" /><meta content="Signal · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="シグナルは、マルチプロセスアプリケーションにおいてプロセス間でのやり取りを管理し衝突を避けるために 4Dランゲージが提供するツールです。 シグナルは、1つ以上のプロセスが実行を一時停止し、特定のタスクが完了するまで待つようにする仕組みです。 どのプロセスもシグナルを待機またはリリースすることができます。"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#SignalClass.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Signal<a aria-hidden="true" class="anchor" id="SignalClass.html"></a></h1></header><article><div><p><span>シグナルは、マルチプロセスアプリケーションにおいてプロセス間でのやり取りを管理し衝突を避けるために4Dランゲージが提供するツールです。シグナルは、1つ以上のプロセスが実行を一時停止し、特定のタスクが完了するまで待つようにする仕組みです。どのプロセスもシグナルを待機またはリリースすることができます。</span></p><blockquote><p><span>プロセス間のやり取りを管理するには、セマフォーも使用できます。 セマフォーは、2つ以上のプロセスが同じリソース(ファイル、レコードなど) を同時に変更しないようにするための仕組みです。セマフォーを解除できるのは、それを設定したプロセスのみです。</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="SignalClass.html_signal-%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"></a><a aria-hidden="true" class="hash-link" href="#SignalClass.html_signal-%25E3%2582%25AA%25E3%2583%2596%25E3%2582%25B8%25E3%2582%25A7%25E3%2582%25AF%25E3%2583%2588"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Signal オブジェクト</span></h3><p><span>シグナルは、ワーカーやプロセスを呼び出す/作成するコマンドに対して引数として渡す必要のある共有オブジェクトです。</span></p><p><span><code>4D.Signal</code>オブジェクトは次のビルトインされたメソッドおよびプロパティを持ちます:</span></p><ul><li><span><a href="#SignalClass.html_wait"><code>.wait()</code></a></span></li><li><span><a href="#SignalClass.html_trigger"><code>.trigger()</code></a></span></li><li><span><a href="#SignalClass.html_signaled"><code>.signaled</code></a></span></li><li><span><a href="#SignalClass.html_description"><code>.description</code></a></span></li></ul><p><span>シグナルの <code>.wait()</code>メソッドを呼び出したワーカーやプロセスは、<code>.signaled</code> プロパティが trueになるまで実行を停止します。 シグナルを待っている間、呼び出したプロセスは CPU を消費しません。これはマルチプロセスアプリケーションのパフォーマンスを鑑みると有意義な仕組みです。 <code>.signaled</code>プロパティは、いずれかのワーカーまたはプロセスがシグナルの <code>.trigger()</code> メソッドを呼び出した時点でtrue になります。</span></p><p><span>また、コードのブロックを避けるため、<code>.wait()</code>呼び出しの際に定義したタイムアウト時間に達することでも待機状態を脱することができます。</span></p><p><span>Signal オブジェクトは、<a href="#SignalClass.html_new-signal">Newsignal</a> コマンドによって作成されます。</span></p><h3><span><a aria-hidden="true" class="anchor" id="SignalClass.html_%E3%82%B7%E3%82%B0%E3%83%8A%E3%83%AB%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9"></a><a aria-hidden="true" class="hash-link" href="#SignalClass.html_%25E3%2582%25B7%25E3%2582%25B0%25E3%2583%258A%25E3%2583%25AB%25E3%2581%25AE%25E4%25BD%25BF%25E3%2581%2584%25E6%2596%25B9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>シグナルの使い方</span></h3><p><span>4D では、<a href="#SignalClass.html_new-signal"><code>Newsignal</code></a> コマンドを呼び出すことで新規 Signal オブジェクトを作成します。作成したシグナルは、<code>New process</code> あるいは <code>CALL WORKER</code>コマンドに引数として渡す必要があります。それにより、プロセスやワーカーはタスクを完了した際にシグナルを書き換えることができます。</span></p><ul><li><span><code>signal.wait()</code>は、他のワーカー/プロセスのタスクが完了するまで待機するワーカー/プロセスから呼び出す必要があります。</span></li><li><span><code>signal.trigger()</code>は、他のワーカー/プロセスを待機状態から解放するために、タスク実行を終えたワーカー/プロセスが呼び出す必要があります。</span></li></ul><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/API/signal.png" /></span></p><p><span><code>signal.trigger()</code> の呼び出しによって解放されたシグナルは、再利用することができません。 別のシグナルを設定するには、<code>New signal</code>コマンドをあらためて呼び出す必要があります。</span></p><p><span>Signal オブジェクトは <a href="#shared.html">共有オブジェクト</a>であるため、呼び出されたワーカー/プロセスから結果を返すために使用することもできます。この場合、<code>Use...Enduse</code> 構文内で値を書き込む必要があります。</span></p><h3><span><a aria-hidden="true" class="anchor" id="SignalClass.html_%E4%BE%8B%E9%A1%8C"></a><a aria-hidden="true"class="hash-link" href="#SignalClass.html_%25E4%25BE%258B%25E9%25A1%258C"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</span></h3><pre><span><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$signal </span>: 4D.Signal  <span class="hljs-comment">// シグナルを作成します</span> <span class="hljs-variable">$signal</span>:=New signal  <span class="hljs-comment">// メインプロセスを呼び出し、OpenForm メソッドを実行します</span><span class="hljs-function"> CALL WORKER</span>(<span class="hljs-number">1</span>;<span class="hljs-string">"OpenForm"</span>;<span class="hljs-variable">$signal</span>)  <span class="hljs-comment">// 他の計算をします</span> ...  <span class="hljs-comment">// プロセスの終了を待機します</span> <span class="hljs-variable">$signaled</span>:=<span class="hljs-variable">$signal</span>.<span class="hljs-function">wait</span>()  <span class="hljs-comment">// 結果を処理します</span> <span class="hljs-variable">$calc</span>:=<span class="hljs-variable">$signal</span>.result+...</code></span></pre><p><strong><em>OpenForm</em></strong> メソッド:</p><pre><code class="hljs css language-4d"> #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$signal </span>: 4D.Signal)<span class="hljs-keyword">   var</span> <span class="hljs-variable">$form </span>: Object <span class="hljs-variable">$form</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"value"</span>;<span class="hljs-number">0</span>)  <span class="hljs-comment">// フォームを開きます</span> <span class="hljs-variable">$win</span>:=<span class="hljs-function">Open form window</span>(<span class="hljs-string">"Information"</span>;Movable form dialog box)<span class="hljs-function"> DIALOG</span>(<span class="hljs-string">"Information"</span>;<span class="hljs-variable">$form</span>)<span class="hljs-function"> CLOSE WINDOW</span>(<span class="hljs-variable">$win</span>)  <span class="hljs-comment">// $signal 共有オブジェクトに新しい属性を追加することで、他のプロセスに返り値を受け渡します:</span><span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$signal</span>)    <span class="hljs-variable">$signal</span>.result:=<span class="hljs-variable">$form</span>.value<span class="hljs-keyword"> End use</span>  <span class="hljs-comment">// 待機プロセスに向けてシグナルをトリガーします</span> <span class="hljs-variable">$signal</span>.<span class="hljs-function">trigger</span>()</code></pre><h3><a aria-hidden="true" class="anchor" id="SignalClass.html_%E6%A6%82%E8%A6%81"></a><a aria-hidden="true"class="hash-link" href="#SignalClass.html_%25E6%25A6%2582%25E8%25A6%2581"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>概要</h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#SignalClass.html_description"><strong>.description</strong> :Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;<code>Signal</code> オブジェクトのカスタムな詳細</p></td></tr><tr><td><a href="#SignalClass.html_signaled"><strong>.signaled</strong>: Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;<code>Signal</code> オブジェクトの現在の状態</p></td></tr><tr><td><a href="#SignalClass.html_trigger"><strong>.trigger()</strong></a><p>&nbsp;&nbsp;&nbsp;&nbsp;シグナルオブジェクトの <code>signaled</code> プロパティを<strong>true</strong> に設定します</p></td></tr><tr><td><a href="#SignalClass.html_wait"><strong>.wait</strong>( {<em>timeout</em> : Real } ) : Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;シグナルオブジェクトの <code>.signaled</code>プロパティが <strong>true</strong> になるか、任意の <em>timeout</em>に指定したタイムアウト時間が経過するまで、カレントプロセスを待機させます</p></td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="SignalClass.html_new-signal"></a><a aria-hidden="true" class="hash-link" href="#SignalClass.html_new-signal"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>New signal</h2><details><summary>履歴</summary><table><thead><tr><th>バージョン</th><th>内容</th></tr></thead><tbody><tr><td>v17 R4</td><td>追加</td></tr></tbody></table></details><p><strong>New signal</strong> { ( <em>description</em> : Text ) }: 4D.Signal</p><table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>description</td><td>Text</td><td style="text-align:center">-&gt;</td><td>シグナルの詳細</td></tr><tr><td>戻り値</td><td>4D.Signal</td><td style="text-align:center">&lt;-</td><td>シグナルを格納するネイティブオブジェクト</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SignalClass.html_%E8%AA%AC%E6%98%8E"></a><a aria-hidden="true"class="hash-link" href="#SignalClass.html_%25E8%25AA%25AC%25E6%2598%258E"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>New signal</code> コマンドは、 <code>4D.Signal</code>オブジェクトを作成します。</p><p>シグナルは、ワーカー/プロセスから他のワーカー/プロセスへと引数のように渡せる共有オブジェクトです。そのため、以下のようなことが可能になります:</p><ul><li>呼び出されたワーカー/プロセスは特定の処理が完了した後に Signal オブジェクトを更新することができます。</li><li>呼び出し元のワーカー/プロセスはCPUリソースを消費することなく、実行を停止してシグナルが更新されるまで待つことができます。</li></ul><p>任意で <em>description</em> 引数に、シグナルの詳細を説明するカスタムテキストを渡すことができます。テキストは、シグナルの作成後に定義することも可能です。</p><p>Signal オブジェクトは共有オブジェクトのため、<code>Use...End use</code>構文を使用することで、<a href="#SignalClass.html_description"><code>.description</code></a>プロパティのほか、ユーザー独自のプロパティを管理するのに使用することもできます。</p><p><strong>戻り値</strong></p><p>新規の <a href="#SignalClass.html_signal-object"><code>4D.Signal</code>オブジェクト</a>。</p><h4><a aria-hidden="true" class="anchor" id="SignalClass.html_%E4%BE%8B%E9%A1%8C-1"></a><a aria-hidden="true"class="hash-link" href="#SignalClass.html_%25E4%25BE%258B%25E9%25A1%258C-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h4><p>以下は、シグナルを設定するワーカーの典型的な例です:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$signal </span>: 4D.Signal <span class="hljs-variable">$signal</span>:=<span class="hljs-function">New signal</span>(<span class="hljs-string">"This is my first signal"</span>)<span class="hljs-function"> CALL WORKER</span>(<span class="hljs-string">"myworker"</span>;<span class="hljs-string">"doSomething"</span>;<span class="hljs-variable">$signal</span>) <span class="hljs-variable">$signaled</span>:=<span class="hljs-variable">$signal</span>.<span class="hljs-function">wait</span>(<span class="hljs-number">1</span>) <span class="hljs-comment">// 最大で1秒待機します</span><span class="hljs-keyword"> If</span>(<span class="hljs-variable">$signaled</span>)<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"myworker はタスクを終了しました。 結果: "</span>+<span class="hljs-variable">$signal</span>.myresult)<span class="hljs-keyword"> Else</span><span class="hljs-function">    ALERT</span>(<span class="hljs-string">"myworker は 1秒以内にタスクを終了できませんでした。"</span>)<span class="hljs-keyword"> End if</span></code></pre><p>以下は、<strong><em>doSomething</em></strong> メソッドの一例です:</p><pre><code class="hljs css language-4d"> #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$signal </span>: 4D.Signal)  <span class="hljs-comment">// 何らかの処理</span>  <span class="hljs-comment">//...</span><span class="hljs-keyword"> Use</span>(<span class="hljs-variable">$signal</span>)    <span class="hljs-variable">$signal</span>.myresult:=<span class="hljs-variable">$processingResult  </span><span class="hljs-comment">// 結果を返します</span><span class="hljs-keyword"> End use</span> <span class="hljs-variable">$signal</span>.<span class="hljs-function">trigger</span>() <span class="hljs-comment">// 処理が完了しました</span></code></pre><h2><a aria-hidden="true" class="anchor" id="SignalClass.html_description"></a><a aria-hidden="true" class="hash-link" href="#SignalClass.html_description"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.description</h2><details><summary>履歴</summary><table><thead><tr><th>バージョン</th><th>内容</th></tr></thead><tbody><tr><td>v17 R4</td><td>追加</td></tr></tbody></table></details><p><strong>.description</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SignalClass.html_%E8%AA%AC%E6%98%8E-1"></a><a aria-hidden="true"class="hash-link" href="#SignalClass.html_%25E8%25AA%25AC%25E6%2598%258E-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.description</code> プロパティは、 <code>Signal</code>オブジェクトのカスタムな詳細を格納します。</p><p><code>.description</code> は、Signalオブジェクトの作成時、あるいはその他のタイミングでも設定することができます。 ただし、<code>Signal</code>オブジェクトは共有オブジェクトであるため、<code>.description</code> プロパティに書き込む際には必ず<code>Use...End use</code> 構文を使わなくてはならない点に留意が必要です。</p><p><strong>読み書き可能</strong> プロパティです。</p><h2><a aria-hidden="true" class="anchor" id="SignalClass.html_signaled"></a><a aria-hidden="true" class="hash-link" href="#SignalClass.html_signaled"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.signaled</h2><details><summary>履歴</summary><table><thead><tr><th>バージョン</th><th>内容</th></tr></thead><tbody><tr><td>v17 R4</td><td>追加</td></tr></tbody></table></details><p><strong>.signaled</strong> : Boolean</p><h4><a aria-hidden="true" class="anchor" id="SignalClass.html_%E8%AA%AC%E6%98%8E-2"></a><a aria-hidden="true"class="hash-link" href="#SignalClass.html_%25E8%25AA%25AC%25E6%2598%258E-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.signaled</code> プロパティは、 <code>Signal</code>オブジェクトの現在の状態を格納します。 Signal オブジェクトが作成された時点では、<code>.signaled</code>は <strong>false</strong> です。 Signal オブジェクトに対して<code>.trigger()</code> が呼び出された時に <strong>true</strong> となります。</p><p>このプロパティは <strong>読み取り専用</strong> です。</p><h2><a aria-hidden="true" class="anchor" id="SignalClass.html_trigger"></a><a aria-hidden="true" class="hash-link" href="#SignalClass.html_trigger"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.trigger()</h2><details><summary>履歴</summary><table><thead><tr><th>バージョン</th><th>内容</th></tr></thead><tbody><tr><td>v17 R4</td><td>追加</td></tr></tbody></table></details><p><strong>.trigger( )</strong> | 引数 | タイプ | | 説明 | | -- | --- |::|----------------- | | | | | このコマンドは引数を必要としません |</p><h4><a aria-hidden="true" class="anchor" id="SignalClass.html_%E8%AA%AC%E6%98%8E-3"></a><a aria-hidden="true"class="hash-link" href="#SignalClass.html_%25E8%25AA%25AC%25E6%2598%258E-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.trigger( )</code> 関数は、 シグナルオブジェクトの <code>signaled</code>プロパティを <strong>true</strong> に設定します 。すると、このシグナルを待機していたワーカーやプロセスが開始されます。</p><p>Signal がすでにシグナルされている (つまり <code>signaled</code> プロパティが<strong>true</strong> になっている) 状態であった場合、この関数は何もしません。</p><h2><a aria-hidden="true" class="anchor" id="SignalClass.html_wait"></a><a aria-hidden="true" class="hash-link"href="#SignalClass.html_wait"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.wait()</h2><details><summary>履歴</summary><table><thead><tr><th>バージョン</th><th>内容</th></tr></thead><tbody><tr><td>v17 R4</td><td>追加</td></tr></tbody></table></details><p><strong>.wait</strong>( { <em>timeout</em> : Real } ) :Boolean</p><table><thead><tr><th>引数</th><th>タイプ</th><th></th><th>説明</th></tr></thead><tbody><tr><td>timeout</td><td>Real</td><td>-&gt;</td><td>シグナルの最大待機時間 (秒単位)</td></tr><tr><td>戻り値</td><td>Boolean</td><td>&lt;-</td><td><code>.signaled</code> プロパティの状態</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SignalClass.html_%E8%AA%AC%E6%98%8E-4"></a><a aria-hidden="true"class="hash-link" href="#SignalClass.html_%25E8%25AA%25AC%25E6%2598%258E-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.wait( )</code> 関数は、 シグナルオブジェクトの <code>.signaled</code>プロパティが <strong>true</strong> になるか、任意の <em>timeout</em>に指定したタイムアウト時間が経過するまで、カレントプロセスを待機させます。</p><p>コード実行のブロックを防ぐため、<em>timeout</em>引数を使用して最長待機時間を秒単位で指定することもできます(小数を使用できます)。</p><blockquote><p><strong>警告</strong>: <em>timeout</em> 引数を渡さずに<code>.wait()</code> を 4D のメインプロセスで呼び出すことは推奨されていません。最悪の場合4Dアプリケーション全体がフリーズしてしまう恐れがあります。</p></blockquote><p>Signal がすでにシグナルされている (つまり <code>signaled</code> プロパティが<strong>true</strong> になっている) 状態であった場合、この関数は即座に戻り値を返します。</p><p>この関数は <code>.signaled</code> プロパティの値を返します。 この値を評価することで、待機が終了したのは<code>.trigger()</code> が呼び出されたためか (<code>.signaled</code> プロパティは<strong>true</strong>)、それともタイムアウト時間が経過したためか (<code>.signaled</code>プロパティは <strong>false</strong>) を知ることができます。</p><blockquote><p>Signal オブジェクトを待機しているプロセスの状態は <code>Waiting for internalflag</code> です。</p></blockquote><style><![CDATA[ h2 { background: #d9ebff;}]]></style></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#SessionClass.html"><span class="arrow-prev">←</span><span>Session</span></a><a class="docs-next button" href="#SMTPTransporterClass.html"><span>SMTPTransporter</span><span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#SignalClass.html_new-signal">New signal</a></li><li><a href="#SignalClass.html_description">.description</a></li><li><a href="#SignalClass.html_signaled">.signaled</a></li><li><a href="#SignalClass.html_trigger">.trigger()</a></li><li><a href="#SignalClass.html_wait">.wait()</a></li></ul></nav></div></div></body></html>