<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="ja"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>文字列 · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="文字列とは、以下を示す総称です:" name="description" /><meta content="ja" name="docsearch:language" /><meta content="文字列 · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="文字列とは、以下を示す総称です:" property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#dt_string.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">文字列<a aria-hidden="true" class="anchor" id="string.html"></a></h1></header><article><div><p><span>文字列とは、以下を示す総称です:</span></p><ul><li><span>テキストフィールドまたは変数: テキストフィールド、変数、または式には 0～2 GBのテキストを格納することができます。</span></li><li><span>文字フィールド: 文字フィールドには 0～255 文字までの文字を格納することができます(上限はフィールドが定義されたときに設定されます)。</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="string.html_%E6%96%87%E5%AD%97%E5%88%97%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB"></a><a aria-hidden="true" class="hash-link" href="#string.html_%25E6%2596%2587%25E5%25AD%2597%25E5%2588%2597%25E3%2583%25AA%25E3%2583%2586%25E3%2583%25A9%25E3%2583%25AB"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>文字列リテラル</span></h2><p><span>文字列リテラル定数は、次のように二重引用符 ("...") で囲んで表します。文字列定数の例を次に示します:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-string">"レコード追加"</span><span class="hljs-string">"レコードが見つかりません"</span><span class="hljs-string">"送り状"</span></code></span></pre><p>空の文字列は、2つの引用符の間に何も入れない状態 ("") で表します。</p><h3><a aria-hidden="true" class="anchor" id="string.html_%E3%82%A8%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%97%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9"></a><a aria-hidden="true" class="hash-link" href="#string.html_%25E3%2582%25A8%25E3%2582%25B9%25E3%2582%25B1%25E3%2583%25BC%25E3%2583%2597%25E3%2582%25B7%25E3%2583%25BC%25E3%2582%25B1%25E3%2583%25B3%25E3%2582%25B9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>エスケープシーケンス</h3><p>以下のエスケープシーケンスを文字列内で使用できます:</p><table><thead><tr><th>エスケープシーケンス</th><th>意味する文字</th></tr></thead><tbody><tr><td>\n</td><td>LF (行送り)</td></tr><tr><td>\t</td><td>HT (タブ)</td></tr><tr><td>\r</td><td>CR (改行)</td></tr><tr><td>\\</td><td>\ (バックスラッシュ)</td></tr><tr><td>\"</td><td>" (引用符)</td></tr></tbody></table><p><strong>注:</strong> \ (バックスラッシュ) は Windowsでパス名の区切り文字として使用されています。 通常 4D はメソッドエディターに入力されたバックスラッシュを自動で "\"に置き換えることで、これを正しく解釈します。例えば "C:\Folder" と入力すると "C:\\Folder"に変換されます。しかし “C:\MyDocuments\New” と入力した場合、4Dは二番目のバックスラッシュは "\N"(行送り)と解釈してしまい、“C:\\MyDocuments\New”を表示します。このようなケースでは開発者がバックスラッシュを2つ入力するようにしなければなりません。<br />さらに正規表現のパターン定義でもバックスラッシュがエスケープシーケンスとして使用されます。正規表現パターン "\"を4Dのメソッドエディターに記述する場合は "\\" となる点に注意してください。</p><h2><a aria-hidden="true" class="anchor" id="string.html_%E6%96%87%E5%AD%97%E5%88%97%E6%BC%94%E7%AE%97%E5%AD%90"></a><a aria-hidden="true" class="hash-link" href="#string.html_%25E6%2596%2587%25E5%25AD%2597%25E5%2588%2597%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>文字列演算子</h2><table><thead><tr><th>演算子</th><th>シンタックス</th><th>戻り値</th><th>式</th><th>値</th></tr></thead><tbody><tr><td>連結 (結合)</td><td>文字列 + 文字列</td><td>String</td><td>"abc" + "def"</td><td>"abcdef"</td></tr><tr><td>繰り返し</td><td>文字列 * 数値</td><td>String</td><td>"ab" * 3</td><td>"ababab"</td></tr><tr><td>等しい</td><td>文字列 = 文字列</td><td>ブール</td><td>"abc" = "abc"</td><td>True</td></tr><tr><td></td><td></td><td></td><td>"abc" = "abd"</td><td>False</td></tr><tr><td>異なる</td><td>文字列 # 文字列</td><td>ブール</td><td>"abc" # "abd"</td><td>True</td></tr><tr><td></td><td></td><td></td><td>"abc" # "abc"</td><td>False</td></tr><tr><td>大きい</td><td>文字列 &gt; 文字列</td><td>ブール</td><td>"abd" &gt; "abc"</td><td>True</td></tr><tr><td></td><td></td><td></td><td>"abc" &gt; "abc"</td><td>False</td></tr><tr><td>小さい</td><td>文字列 &lt; 文字列</td><td>ブール</td><td>"abc" &lt; "abd"</td><td>True</td></tr><tr><td></td><td></td><td></td><td>"abc" &lt; "abc"</td><td>False</td></tr><tr><td>以上</td><td>文字列 &gt;= 文字列</td><td>ブール</td><td>"abd" &gt;= "abc"</td><td>True</td></tr><tr><td></td><td></td><td></td><td>"abc" &gt;= "abd"</td><td>False</td></tr><tr><td>以下</td><td>文字列 &lt;= 文字列</td><td>ブール</td><td>"abc" &lt;= "abd"</td><td>True</td></tr><tr><td></td><td></td><td></td><td>"abd" &lt;= "abc"</td><td>False</td></tr><tr><td>キーワードを含む</td><td>文字列 % 文字列</td><td>ブール</td><td>"Alpha Bravo" % "Bravo"</td><td>True</td></tr><tr><td></td><td></td><td></td><td>"Alpha Bravo" % "ravo"</td><td>False</td></tr><tr><td></td><td>ピクチャー % 文字列</td><td>ブール</td><td>Picture_expr % "Mer"</td><td>True (*)</td></tr></tbody></table><p>(*) キーワード "Mer" がピクチャー式 (フィールドまたは変数) に格納されたピクチャーの IPTC/Keywordsメタデータに含まれている場合。</p><h2><a aria-hidden="true" class="anchor" id="string.html_%E6%96%87%E5%AD%97%E5%88%97%E6%AF%94%E8%BC%83%E3%81%AE%E8%A9%B3%E7%B4%B0"></a><a aria-hidden="true" class="hash-link" href="#string.html_%25E6%2596%2587%25E5%25AD%2597%25E5%2588%2597%25E6%25AF%2594%25E8%25BC%2583%25E3%2581%25AE%25E8%25A9%25B3%25E7%25B4%25B0"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>文字列比較の詳細</h2><ul><li>文字列は文字ごとに比較されます (後述の <a href="#string.html_%25E3%2582%25AD%25E3%2583%25BC%25E3%2583%25AF%25E3%2583%25BC%25E3%2583%2589">キーワード</a> による検索の場合を除きます)。</li><li>文字列が比較されるとき文字の大小文字は無視されます。したがって、"a"="A"は <code>true</code>を返します。 大文字と小文字を区別して比較するには、文字コードで比較してください。 例えば次の式は<code>FALSE</code> です:</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">Character code</span>(<span class="hljs-string">"A"</span>)=<span class="hljs-function">Character code</span>(<span class="hljs-string">"a"</span>)<span class="hljs-comment">// Character code("A") は 65</span><span class="hljs-comment">// Character code("a") は 97</span></code></pre><ul><li>文字列が比較される場合、アクセント等の発音区別符号は無視されます。 たとえば、日本語においては以下の式は<code>true</code> を返します:</li></ul><pre><code class="hljs css language-4d">     <span class="hljs-string">"あ"</span>=<span class="hljs-string">"ア"</span>     <span class="hljs-string">"ア"</span>=<span class="hljs-string">"ｱ"</span>     <span class="hljs-string">"１"</span>=<span class="hljs-string">"1"</span></code></pre><p><strong>注:</strong> 文字列比較にあたっては、<strong>4Dのデータファイルに定義された</strong>言語の特性が考慮されます。これは、システムの使用言語とは異なる場合がありえます。</p><h3><a aria-hidden="true" class="anchor" id="string.html_%E3%83%AF%E3%82%A4%E3%83%AB%E3%83%89%E3%82%AB%E3%83%BC%E3%83%89%E8%A8%98%E5%8F%B7-"></a><a aria-hidden="true" class="hash-link" href="#string.html_%25E3%2583%25AF%25E3%2582%25A4%25E3%2583%25AB%25E3%2583%2589%25E3%2582%25AB%25E3%2583%25BC%25E3%2583%2589%25E8%25A8%2598%25E5%258F%25B7-"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ワイルドカード記号 (@)</h3><p>4D ランゲージでは <strong>@</strong> をワイルドカード記号として使用します。ワイルドカードは、すべての文字列の比較に使用することができ、ワイルドカードによって置き換わる文字の数は指定されません。たとえば、次の式は <code>true</code> になります:</p><pre><code class="hljs css language-4d"><span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"abc@"</span></code></pre><p>ただし、複数の文字を比較する目的のワイルドカード記号は、比較演算子の右側の式で使用しなければなりません。比較演算子の左側の式においては、"@" は単なる文字であると解釈されます。たとえば、次の式は <code>FALSE</code>です:</p><pre><code class="hljs css language-4d">    <span class="hljs-string">"abc@"</span>=<span class="hljs-string">"abcdefghij"</span></code></pre><p>ワイルドカードは “0文字以上” を意味します。 以下の式はすべて <code>true</code> です:</p><pre><code class="hljs css language-4d">     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"abcdefghij@"</span>     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"@abcdefghij"</span>     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"abcd@efghij"</span>     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"@abcdefghij@"</span>     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"@abcde@fghij@"</span></code></pre><p>一方、どのような場合でも、ワイルドカードを 2つ連続して使用した文字列比較は常に <code>FALSE</code>を返します。 次の式は <code>FALSE</code> になります:</p><pre><code class="hljs css language-4d"><span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"abc@@fg"</span></code></pre><p>比較演算子が &lt; あるいは &gt;記号である、あるいはこれらを含む場合、演算子の右側の式の終りに置かれた1つのワイルドカードのみサポートされています:</p><pre><code class="hljs css language-4d">     <span class="hljs-string">"abcd"</span>&lt;=<span class="hljs-string">"abc@"</span> <span class="hljs-comment">// 有効な比較です</span>     <span class="hljs-string">"abcd"</span>&lt;=<span class="hljs-string">"abc@ef"</span> <span class="hljs-comment">// 有効な比較ではありません</span></code></pre><p>文字列の比較または検索において、@ をワイルドカードではなく一般の文字として扱いたい場合、<code>Charactercode (At sign)</code> 指示を使用します。 たとえば、文字列が @ 文字で終わっているかどうかを知りたいとします。以下の式は ($vsValue が空でなければ) 常に <code>true</code> です:</p><pre><code class="hljs css language-4d">(<span class="hljs-variable">$vsValue</span><span class="hljs-variable">[[Length($vsValue)]]</span>=<span class="hljs-string">"@"</span>)</code></pre><p>以下のようにすると、式は意図したように評価されます:</p><pre><code class="hljs css language-4d">(<span class="hljs-function">Character code</span>(<span class="hljs-variable">$vsValue</span><span class="hljs-variable">[[Length($vsValue)]]</span>)=<span class="hljs-number">64</span>)  </code></pre><p><strong>注:</strong> ストラクチャー設定のデータベースページには、文字列に @記号が含まれているとき、それをどう解釈するかを指定するオプションが提供されています。</p><h3><a aria-hidden="true" class="anchor" id="string.html_%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89"></a><a aria-hidden="true"class="hash-link" href="#string.html_%25E3%2582%25AD%25E3%2583%25BC%25E3%2583%25AF%25E3%2583%25BC%25E3%2583%2589"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>キーワード</h3><p>他の文字列比較と異なり、"%" 記号を使ったキーワードによる検索はテキスト中の単語を検索します:単語は一つのまとまりとして個々に扱われます。複数の単語や、音節など単語の一部を検索するような場合、<strong>%</strong> 演算子は常に<code>false</code> を返します。 区切り文字 (スペースや句読点など) に囲まれた文字列が単語として認識されます。“Today's” のようにアポストロフィを含む単語は、通常それを含めた 1つの単語として扱われますが、特定の場合には無視されます(以下の注記を参照ください)。 数字も検索できます。小数点は区切り文字ではなく、数字の一部として扱われます。ただし、通貨や温度などを表す記号は無視されます。</p><pre><code class="hljs css language-4d">     <span class="hljs-string">"Alpha Bravo Charlie"</span>%<span class="hljs-string">"Bravo"</span> <span class="hljs-comment">// true</span>     <span class="hljs-string">"Alpha Bravo Charlie"</span>%<span class="hljs-string">"vo"</span> <span class="hljs-comment">// false</span>     <span class="hljs-string">"Alpha Bravo Charlie"</span>%<span class="hljs-string">"Alpha Bravo"</span> <span class="hljs-comment">// false</span>     <span class="hljs-string">"Alpha,Bravo,Charlie"</span>%<span class="hljs-string">"Alpha"</span> <span class="hljs-comment">// true</span>     <span class="hljs-string">"Software and Computers"</span>%<span class="hljs-string">"comput@"</span> <span class="hljs-comment">// true</span></code></pre><blockquote><p><strong>注:</strong><br />- 4Dは、&lt;&gt;=# 演算子を使った文字列比較や、キーワードの検出にICUライブラリを使用しています。実装されているルールの詳細に関しては、以下のアドレスを参照して下さい: <a href="#string.html_Word_Boundaries">http://www.unicode.org/unicode/reports/tr29/#Word_Boundaries</a><br />- 日本語版の 4Dでは、ICU の代わりにデフォルトで Mecab が使用されています。詳細な情報に関しては、 <a href="#string.html_1334024">Mecab のサポート(日本語版)</a> を参照してください。</p></blockquote><h2><a aria-hidden="true" class="anchor" id="string.html_%E6%96%87%E5%AD%97%E5%8F%82%E7%85%A7%E8%A8%98%E5%8F%B7"></a><a aria-hidden="true" class="hash-link" href="#string.html_%25E6%2596%2587%25E5%25AD%2597%25E5%258F%2582%25E7%2585%25A7%25E8%25A8%2598%25E5%258F%25B7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>文字参照記号</h2><p>文字参照記号: [[...]]</p><p>文字参照記号は、文字列から一文字のみを参照するのに使用します。この構文は、テキストおよび文字列型の変数やフィールドの任意の位置の文字を指し示します。</p><p>文字参照記号が代入演算子 (:=) の左側にある場合、文字列の指定した位置に一文字を代入します。 以下の例は、vsNameが空の文字列ではない場合に、vsName の最初の文字を大文字にします。</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span>(vsName#<span class="hljs-string">""</span>)    vsName<span class="hljs-variable">[[1]]</span>:=<span class="hljs-function">Uppercase</span>(vsName<span class="hljs-variable">[[1]]</span>)<span class="hljs-keyword">End if</span></code></pre><p>それ以外の場合には、式内で使用される文字列参照記号は、参照する文字を1文字の独立した文字列として返します。 たとえば:</p><pre><code class="hljs css language-4d"><span class="hljs-comment">// 以下の例は vtText の最後の文字が "@" であるかをテストします。</span><span class="hljs-keyword"> If</span>(vtText#<span class="hljs-string">""</span>)<span class="hljs-keyword">    If</span>(<span class="hljs-function">Character code</span>(<span class="hljs-function">Substring</span>(vtText;<span class="hljs-function">Length</span>(vtText);<span class="hljs-number">1</span>))=At sign)  <span class="hljs-comment">//...</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span>  <span class="hljs-comment">// 文字参照記号を使用し、よりシンプルに記述できます:</span><span class="hljs-keyword"> If</span>(vtText#<span class="hljs-string">""</span>)<span class="hljs-keyword">    If</span>(<span class="hljs-function">Character code</span>(vtText<span class="hljs-variable">[[Length(vtText)]]</span>)=At sign)  <span class="hljs-comment">// ...</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span></code></pre><h3><a aria-hidden="true" class="anchor" id="string.html_%E7%84%A1%E5%8A%B9%E3%81%AA%E6%96%87%E5%AD%97%E5%88%97%E5%8F%82%E7%85%A7%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E6%B3%A8%E6%84%8F"></a><a aria-hidden="true" class="hash-link" href="#string.html_%25E7%2584%25A1%25E5%258A%25B9%25E3%2581%25AA%25E6%2596%2587%25E5%25AD%2597%25E5%2588%2597%25E5%258F%2582%25E7%2585%25A7%25E3%2581%25AB%25E9%2596%25A2%25E3%2581%2599%25E3%2582%258B%25E6%25B3%25A8%25E6%2584%258F"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>無効な文字列参照に関する注意</h3><p>文字列参照記号を使用する際、配列に存在する要素を指定するのと同じ要領で、文字列内に存在する文字を指定しなければなりません。たとえば、文字列変数の20番目の文字を参照する場合、この変数は必ず、少なくとも20文字以上の長さがなくてはなりません。長さが足りない場合:</p><ul><li>インタープリターモードでは構文エラーは発生しません。</li><li>コンパイルモードで範囲チェックオプションを無効にしている場合には、メモリ領域を破壊するおそれがあります。</li><li>コンパイルモードで範囲チェックオプションを有効にしている場合には、エラーが発生します。たとえば、次のように文字列やテキストの終点を超えた位置に文字を書き込むコードを実行すると:</li></ul><pre><code class="hljs">// 真似をしないでください vsAnyText:=<span class="hljs-string">""</span> vsAnyText<span class="hljs-string">[[1]]</span>:=<span class="hljs-string">"A"</span></code></pre><p>ランタイムにおいてエラーがトリガーされます:</p><p><img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/en/Concepts/Syntax_Error.en.png" /></p><h3><a aria-hidden="true" class="anchor" id="string.html_%E4%BE%8B%E9%A1%8C"></a><a aria-hidden="true" class="hash-link" href="#string.html_%25E4%25BE%258B%25E9%25A1%258C"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h3><p>以下のプロジェクトメソッドは、文字列内の各単語の先頭文字を大文字に変換し、結果の文字列を返します。</p><pre><code class="hljs css language-4d">  <span class="hljs-comment">// Capitalize_text プロジェクトメソッド</span>  <span class="hljs-comment">// Capitalize_text ( Text ) -&gt; Text</span>  <span class="hljs-comment">// Capitalize_text ( Source text ) -&gt; Capitalized Text</span> <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$1</span> <span class="hljs-variable">$vlLen</span>:=<span class="hljs-function">Length</span>(<span class="hljs-variable">$0</span>)<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$vlLen</span>&gt;<span class="hljs-number">0</span>)    <span class="hljs-variable">$0</span><span class="hljs-variable">[[1]]</span>:=<span class="hljs-function">Uppercase</span>(<span class="hljs-variable">$0</span><span class="hljs-variable">[[1]]</span>)<span class="hljs-keyword">    For</span>(<span class="hljs-variable">$vlChar</span>;<span class="hljs-number">1</span>;<span class="hljs-variable">$vlLen</span><span class="hljs-number">-1</span>)<span class="hljs-keyword">       If</span>(<span class="hljs-function">Position</span>(<span class="hljs-variable">$0</span><span class="hljs-variable">[[$vlChar]]</span>;<span class="hljs-string">" !&amp;()-{}:;&lt;&gt;?/,.=+*"</span>)&gt;<span class="hljs-number">0</span>)          <span class="hljs-variable">$0</span><span class="hljs-variable">[[$vlChar+1]]</span>:=<span class="hljs-function">Uppercase</span>(<span class="hljs-variable">$0</span><span class="hljs-variable">[[$vlChar+1]]</span>)<span class="hljs-keyword">       End if</span><span class="hljs-keyword">    End for</span><span class="hljs-keyword"> End if</span></code></pre><p>使用例:</p><pre><code class="hljs css language-4d"><span class="hljs-function">ALERT</span>(<span class="hljs-function">Capitalize_text</span>(<span class="hljs-string">"hello, my name is jane doe and i'm running for president!"</span>))</code></pre><p>以下のように表示されます:</p><p><img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/en/Concepts/Jane_doe.en.png" /></p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#pointer.html"><span class="arrow-prev">←</span><span>ポインター</span></a><a class="docs-next button" href="#time.html"><span>時間</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#string.html_%25E6%2596%2587%25E5%25AD%2597%25E5%2588%2597%25E3%2583%25AA%25E3%2583%2586%25E3%2583%25A9%25E3%2583%25AB">文字列リテラル</a><ul class="toc-headings"><li><a href="#string.html_%25E3%2582%25A8%25E3%2582%25B9%25E3%2582%25B1%25E3%2583%25BC%25E3%2583%2597%25E3%2582%25B7%25E3%2583%25BC%25E3%2582%25B1%25E3%2583%25B3%25E3%2582%25B9">エスケープシーケンス</a></li></ul></li><li><a href="#string.html_%25E6%2596%2587%25E5%25AD%2597%25E5%2588%2597%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">文字列演算子</a></li><li><a href="#string.html_%25E6%2596%2587%25E5%25AD%2597%25E5%2588%2597%25E6%25AF%2594%25E8%25BC%2583%25E3%2581%25AE%25E8%25A9%25B3%25E7%25B4%25B0">文字列比較の詳細</a><ul class="toc-headings"><li><a href="#string.html_%25E3%2583%25AF%25E3%2582%25A4%25E3%2583%25AB%25E3%2583%2589%25E3%2582%25AB%25E3%2583%25BC%25E3%2583%2589%25E8%25A8%2598%25E5%258F%25B7-">ワイルドカード記号 (@)</a></li><li><a href="#string.html_%25E3%2582%25AD%25E3%2583%25BC%25E3%2583%25AF%25E3%2583%25BC%25E3%2583%2589">キーワード</a></li></ul></li><li><a href="#string.html_%25E6%2596%2587%25E5%25AD%2597%25E5%258F%2582%25E7%2585%25A7%25E8%25A8%2598%25E5%258F%25B7">文字参照記号</a><ul class="toc-headings"><li><a href="#string.html_%25E7%2584%25A1%25E5%258A%25B9%25E3%2581%25AA%25E6%2596%2587%25E5%25AD%2597%25E5%2588%2597%25E5%258F%2582%25E7%2585%25A7%25E3%2581%25AB%25E9%2596%25A2%25E3%2581%2599%25E3%2582%258B%25E6%25B3%25A8%25E6%2584%258F">無効な文字列参照に関する注意</a></li><li><a href="#string.html_%25E4%25BE%258B%25E9%25A1%258C">例題</a></li></ul></li></ul></nav></div></div></body></html>