<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="ja"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>設定 · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="4D Webサーバーの設定には、セキュリティパラメーター、リスニングポート、デフォルトのパス、およびサーバーの機能を網羅するさまざまなオプションが含まれます。 4D ではすべての設定にデフォルト値を用意しています。"name="description" /><meta content="ja" name="docsearch:language" /><meta content="設定 · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="4D Webサーバーの設定には、セキュリティパラメーター、リスニングポート、デフォルトのパス、およびサーバーの機能を網羅するさまざまなオプションが含まれます。 4D ではすべての設定にデフォルト値を用意しています。"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#webServerConfig.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">設定<a aria-hidden="true" class="anchor" id="webServerConfig.html"></a></h1></header><article><div><p><span>4DWebサーバーの設定には、セキュリティパラメーター、リスニングポート、デフォルトのパス、およびサーバーの機能を網羅するさまざまなオプションが含まれます。4D ではすべての設定にデフォルト値を用意しています。</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%8A%E3%81%93%E3%81%AA%E3%81%86%E5%A0%B4%E6%89%80"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E8%25A8%25AD%25E5%25AE%259A%25E3%2582%2592%25E3%2581%258A%25E3%2581%2593%25E3%2581%25AA%25E3%2581%2586%25E5%25A0%25B4%25E6%2589%2580"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>設定をおこなう場所</span></h2><p><span>4D Webサーバーの設定には、スコープやサーバーに応じた様々な方法があります:</span></p><table><thead><tr><th>設定場所</th><th>スコープ</th><th>使用する Webサーバー</th></tr></thead><tbody><tr><td><a href="#webServerObject.html">webServer オブジェクト</a></td><td>一時的 (カレントセッション)</td><td>コンポーネントWebサーバーを含む、あらゆる Webサーバー</td></tr><tr><td><code>WEB SET OPTION</code> または <code>WEB XXX</code> コマンド</td><td>一時的 (カレントセッション)</td><td>メインサーバー</td></tr><tr><td><a href="#web.html"><strong>ストラクチャー設定</strong> ダイアログボックス</a>(<strong>Web</strong> ページ)</td><td>永続的 (全セッション、ディスク上に保存)</td><td>メインサーバー</td></tr></tbody></table><blockquote><p><span>設定できる場所が限られる設定も一部存在します。</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%82%AD%E3%83%A3%E3%83%83%E3%82%B7%E3%83%A5"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2582%25AD%25E3%2583%25A3%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>キャッシュ</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_4d-web%25E3%2582%25AD%25E3%2583%25A3%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A5%25E3%2582%2592%25E4%25BD%25BF%25E7%2594%25A8%25E3%2581%2599%25E3%2582%258B">オプション (I) ページ / 4D Webキャッシュを使用する</a></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E3%2583%259A%25E3%2583%25BC%25E3%2582%25B8%25E3%2582%25AD%25E3%2583%25A3%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A5%25E3%2582%25B5%25E3%2582%25A4%25E3%2582%25BA">オプション (I) ページ / ページキャッシュサイズ</a></td><td></td></tr></tbody></table><p><span>Webページキャッシュの有効化と設定をおこないます。</span></p><p><span>4D Webサーバーにはキャッシュがあり、スタティックページ、GIF、JPEG (&lt;512kb)、そしてスタイルシート (.css ファイル) などがリクエストされると、メモリにロードされます。キャッシュの利用は、スタティックページの送信時に Webサーバーのパフォーマンスを大幅に向上します。 キャッシュはすべてのWebプロセスで共有されます。 キャッシュが有効化されている場合、4DWebサーバーは、ブラウザーからリクエストされた静的ページをまずキャッシュ内で探します。 ページが見つかれば、それを送信します。見つからない場合、4D はディスクからページを読み込み、キャッシュに格納します。</span></p><p><span>キャッシュのサイズは、<strong>ページキャッシュサイズ</strong> エリアで変更できます。設定する値は、スタティックページのサイズや数、およびホストマシンで利用可能なリソースによります。</span></p><blockquote><p><span>Webデータベースを利用する間、<code>WEB GET STATISTICS</code>コマンドを使用してキャッシュのパフォーマンスを検証できます。 たとえば、キャッシュ利用率が 100%に近い場合、キャッシュに割り当てたメモリ量を増やすことを考慮します。 [/4DSTATS] と [/4DHTMLSTATS] のURL も、キャッシュの状態を知るのに使用できます。</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%BC"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E8%25A8%25BC%25E6%2598%258E%25E6%259B%25B8%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2580%25E3%2583%25BC"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>証明書フォルダー</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><code>certificateFolder</code></td><td>テキストプロパティ (<code>start()</code> 関数の <em>settings</em>パラメーターと使用する場合は、<a href="#FolderClass.html"><code>4D.Folder</code></a> オブジェクトも使用可能)</td></tr></tbody></table><p><span>Webサーバー用の TLS証明書ファイルが置かれているフォルダーです。</span></p><p><span>4D または 4D Server のデフォルトでは、これらのファイルは<a href="#webServerConfig.html_project-%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2580%25E3%2583%25BC">Projectフォルダー</a> の隣に配置する必要があります。</span></p><p><span>4Dをリモートモードで使用する場合、これらのファイルは、リモートマシン上のデータベースのローカルリソースフォルダーに配置されている必要があります(<code>Get 4D folder</code> コマンドの <code>4D Client DatabaseFolder</code> の項を参照ください)。これらのファイルをリモートマシンに手動でコピーする必要があります。</span></p><blockquote><p><span>TLS 証明書ファイルは、<em>key.pem</em> (秘密の暗号鍵を含むドキュメント) と<em>cert.pem</em> (証明書を含むドキュメント) です。</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E6%96%87%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E6%2596%2587%25E5%25AD%2597%25E3%2582%25B3%25E3%2583%25BC%25E3%2583%2589"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>文字コード</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><code>characterSet</code></td><td>MIBEnum 整数、または名称の文字列</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web character set</code></td><td>MIBEnum 整数、または名称の文字列</td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E6%2596%2587%25E5%25AD%2597%25E3%2582%25B3%25E3%2583%25BC%25E3%2583%2589">オプション (II) ページ / 文字コード</a></td><td>ポップアップメニュー</td></tr></tbody></table><p><span>4D Webサーバーが使用する文字セットを定義します。 デフォルト値は OSの言語に依存します。</span></p><blockquote><p><span>この設定は、クイックレポートを HTMLフォーマットで書き出す際にも使用されます。</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E6%9A%97%E5%8F%B7%E3%83%AA%E3%82%B9%E3%83%88"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E6%259A%2597%25E5%258F%25B7%25E3%2583%25AA%25E3%2582%25B9%25E3%2583%2588"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>暗号リスト</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_ciphersuite"><code>cipherSuite</code></a></td><td>テキスト</td></tr></tbody></table><p><span>セキュアプロトコルに使用される暗号リストです。Webサーバーが実装する暗号アルゴリズムの優先順位を設定します。コロン区切りの文字列として設定できます (例: "ECDHE-RSA-AES128-...")。 詳細は Open SSL サイトの<a href="#ciphers.html">ciphers ページ</a> を参照ください。</span></p><blockquote><p><span>4D が使用するデフォルトの暗号リストは、<code>SET DATABASE PARAMETER</code>コマンドを使用してセッションごとに変更することができます。この場合、変更は 4Dアプリケーション全体に適用されます(Webサーバー・SQLサーバー・クライアント/サーバー接続、HTTPクライアント、セキュアプロトコルを使用するすべての4Dコマンドを含む)。</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_cors%E8%A8%AD%E5%AE%9A"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_cors%25E8%25A8%25AD%25E5%25AE%259A"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>CORS設定</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_corssettings"><code>CORSSettings</code></a></td><td>オブジェクトのコレクション (CORSサービスで許可されたホストとメソッドの一覧)</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web CORS settings</code></td><td>オブジェクトのコレクション (CORSサービスで許可されたホストとメソッドの一覧)</td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E3%2583%2589%25E3%2583%25A1%25E3%2582%25A4%25E3%2583%25B3%25E5%2590%258D%25E8%25A8%25B1%25E5%258F%25AF%25E3%2581%2595%25E3%2582%258C%25E3%2581%259Fhttp%25E3%2583%25A1%25E3%2582%25BD%25E3%2583%2583%25E3%2583%2589">オプション (II) ページ / ドメイン名 および 許可されたHTTPメソッド</a></td><td>新しいドメインとメソッドを許可するには [+] ボタンをクリックして追加します。</td></tr></tbody></table><p><span>CORSサービスで許可されたホストとメソッドの一覧。</span></p><h4><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E5%90%8D-host%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2583%2589%25E3%2583%25A1%25E3%2582%25A4%25E3%2583%25B3%25E5%2590%258D-host%25E3%2583%2597%25E3%2583%25AD%25E3%2583%2591%25E3%2583%2586%25E3%2582%25A3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ドメイン名 (hostプロパティ)</span></h4><p><span>CORS を介したサーバーへのデータリクエスト送信が許可されている外部ページのドメイン名または IPアドレス。複数のドメインを追加してホワイトリストを作成することができます。 複数のシンタックスがサポートされています:</span></p><ul><li><span>192.168.5.17:8081</span></li><li><span>192.168.5.17</span></li><li><span>192.168.*</span></li><li><span>192.168.*:8081</span></li><li><span><a href="http://192.168.5.17:8081">http://192.168.5.17:8081</a></span></li><li><span>http://*.<a href="http://myDomain.com">myDomain.com</a></span></li><li><span><a href="http://myProject.myDomain.com">http://myProject.myDomain.com</a></span></li><li><span>*.myDomain.com</span></li><li><span>myProject.myDomain.com</span></li><li><span>*</span></li></ul><h4><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E8%A8%B1%E5%8F%AF%E3%81%95%E3%82%8C%E3%81%9F-http%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89-methods%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E8%25A8%25B1%25E5%258F%25AF%25E3%2581%2595%25E3%2582%258C%25E3%2581%259F-http%25E3%2583%25A1%25E3%2582%25BD%25E3%2583%2583%25E3%2583%2589-methods%25E3%2583%2597%25E3%2583%25AD%25E3%2583%2591%25E3%2583%2586%25E3%2582%25A3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>許可された HTTPメソッド (methodsプロパティ)</span></h4><p><span>対応する CORSホストに対して許可する HTTPメソッド。 以下のHTTPメソッドがサポートされます:</span></p><ul><li><span>GET</span></li><li><span>HEAD</span></li><li><span>POST</span></li><li><span>PUT</span></li><li><span>DELETE</span></li><li><span>OPTIONS</span></li><li><span>TRACE</span></li><li><span>PATCH</span></li></ul><p><span>メソッド名はセミコロン区切りで指定します(例: "post;get")。 methods が空、null、あるいはundefined の場合、すべてのメソッドが許可されます。</span></p><h4><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E5%8F%82%E7%85%A7"></a><a aria-hidden="true"class="hash-link" href="#webServerConfig.html_%25E5%258F%2582%25E7%2585%25A7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>参照</span></h4><p><span><a href="#webServerConfig.html_CORS%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E5%258C%2596">CORSを有効化</a></span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E3%83%AD%E3%82%B0"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2583%2587%25E3%2583%2590%25E3%2583%2583%25E3%2582%25B0%25E3%2583%25AD%25E3%2582%25B0"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>デバッグログ</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><code>debugLog</code></td><td>number</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web debug log</code></td><td>number</td></tr></tbody></table><p><span>Webサーバーの HTTPリクエストログファイル (アプリケーションの "Logs" フォルダーに格納されている<a href="#webServerConfig.html_httpdebuglogtxt"><em>HTTPDebugLog_nn.txt</em></a>(nn はファイル番号)) の状態を指定します。 このログファイルは、Webサーバーに関連する問題をデバッグするのに便利です。ログには、各リクエスト・レスポンスが rawモードで記録されます。ヘッダーを含むリクエスト全体が記録され、オプションでボディ部分も記録することができます。</span></p><table><thead><tr><th>値</th><th>定数</th><th>説明</th></tr></thead><tbody><tr><td>0</td><td>wdl disable</td><td>Web HTTP debug log は無効化されています</td></tr><tr><td>1</td><td>wdl enable without body</td><td>Web HTTP debug log 有効、リクエスト本文なし (本文サイズあり)</td></tr><tr><td>3</td><td>wdl enable with response body</td><td>Web HTTP debug log 有効、レスポンスの本文のみ</td></tr><tr><td>5</td><td>wdl enable with request body</td><td>Web HTTP debug log 有効、リクエストの本文のみ</td></tr><tr><td>7</td><td>wdl enable with all body parts</td><td>Web HTTP debug log 有効、リクエストおよびレスポンスの本文あり</td></tr></tbody></table><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88%E3%83%9B%E3%83%BC%E3%83%A0%E3%83%9A%E3%83%BC%E3%82%B8"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2583%2587%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2588%25E3%2583%259B%25E3%2583%25BC%25E3%2583%25A0%25E3%2583%259A%25E3%2583%25BC%25E3%2582%25B8"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>デフォルトホームページ</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_defaulthomepage"><code>defaultHomepage</code></a></td><td>テキスト</td></tr><tr><td><code>WEB SET HOME PAGE</code></td><td></td><td>Webプロセス毎に異なる設定が可能</td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E3%2583%2587%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2588%25E3%2583%259B%25E3%2583%25BC%25E3%2583%25A0%25E3%2583%259A%25E3%2583%25BC%25E3%2582%25B8">設定ページ / デフォルトホームページ</a></td><td></td></tr></tbody></table><p><span>Webサーバーのデフォルトホームページを指定します。このページはスタティックでもセミダイナミックでも可能です。</span></p><p><span>Webサーバーの初回起動時には、4D はデフォルトで "index.html"という名前のホームページを作成し、HTMLルートフォルダーに置きます。この設定を変更しない場合、Webサーバーに接続するブラウザーには以下のようなページが表示されます:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/defaultHomePage.png" /></span></p><p><span>デフォルトホームページを変更するには、パスを "デフォルトホームページ" エリアに入力します。</span></p><ul><li><span>パスは、<a href="#webServerConfig.html_%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2588%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2580%25E3%2583%25BC">デフォルトHTMLルート</a>からの相対パスで設定しなければなりません。</span></li><li><span>パスは POSIX シンタックスで表します (フォルダーはスラッシュ ("/")で区切ります)。</span></li><li><span>パスはスラッシュ ("/") で始まったり終わったりしてはいけません。</span></li></ul><p><span>たとえば、デフォルトHTMLルートフォルダー内の "Web" サブフォルダーにある "MyHome.htm"をデフォルトホームページにする場合、"Web/MyHome.htm" と入力します。</span></p><p><span>デフォルトホームページを指定しない場合、<code>On Web Connection</code>データベースメソッドが呼び出されます。 この場合には、プロシージャーでリクエストを処理するのは開発者の役割です。</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_cors%E3%82%92%E6%9C%89%E5%8A%B9%E5%8C%96"></a><a aria-hidden="true"class="hash-link" href="#webServerConfig.html_cors%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E5%258C%2596"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>CORSを有効化</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_corsenabled"><code>CORSEnabled</code></a></td><td>ブール; CORSを有効化するには true (デフォルト値は false)</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web CORS enabled</code></td><td>0 (デフォルト値; 無効) または 1 (有効)</td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_cors%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E5%258C%2596">オプション (II) ページ / CORSを有効化</a></td><td>デフォルトではチェックなし</td></tr></tbody></table><p><span>4D Webサーバーは、クロスオリジンリソースシェアリング (CORS)を実装しており、これによって別ドメインにて提供されている特定の Webページが、REST などを使用したXHRコールを介してカレントWebアプリケーションのリソースにアクセスできるようにすることが可能です。セキュリティ上の理由により、"ドメイン間" のリクエストはブラウザーレベルでデフォルトで禁止されています。有効化されている場合、ドメイン外 Webページからの XHRコール (RESTリクエストなど)をアプリケーションにおいて許可することができます (CORSドメインリストに許可されたアドレスのリストを定義する必要があります。有効時に、許可されていないドメインやメソッドがサイト間リクエストを送信した場合、"403 - forbidden"エラーレスポンスによって拒否されます。</span></p><p><span>無効化されている場合 (デフォルト) には、CORSで送信されたサイト間リクエストはすべて無視されます。</span></p><p><span>CORS についての詳細は、Wikipedia の<a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross-originresource sharing</a> ページを参照ください。</span></p><h4><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E5%8F%82%E7%85%A7-1"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E5%258F%2582%25E7%2585%25A7-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>参照</span></h4><p><span><a href="#webServerConfig.html_CORS%25E8%25A8%25AD%25E5%25AE%259A">CORS設定</a></span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_http%E3%82%92%E6%9C%89%E5%8A%B9%E5%8C%96"></a><a aria-hidden="true"class="hash-link" href="#webServerConfig.html_http%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E5%258C%2596"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTPを有効化</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_httpenabled"><code>HTTPEnabled</code></a></td><td>boolean</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web HTTP enabled</code></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_http%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E5%258C%2596">設定ページ / HTTPを有効化</a></td><td></td></tr></tbody></table><p><span>安全でない接続を Webサーバーが受け入れるかどうかを示します。</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_https%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_https%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E3%2581%25AB%25E3%2581%2599%25E3%2582%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTPSを有効にする</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_httpsenabled"><code>HTTPSEnabled</code></a></td><td>boolean</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web HTTPS enabled</code></td><td></td></tr><tr><td>設定ダイアログボックス</td><td>設定ページ / HTTPSを有効にする</td><td></td></tr></tbody></table><p><span>Webサーバーがセキュアな接続を受け入れるか受け入れないかを指定します。 このオプションは <a href="#tls.html">TLSプロトコル</a> で説明しています。</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_hsts%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_hsts%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E3%2581%25AB%25E3%2581%2599%25E3%2582%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HSTSを有効にする</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_hstsenabled"><code>HSTSEnabled</code></a></td><td>ブール; HSTSを有効化するには true (デフォルト値は false)</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web HSTS enabled</code></td><td>0 (デフォルト値; 無効) または 1 (有効)</td></tr></tbody></table><p><span>HTTP Strict Transport Security (HSTS) の状態です。</span></p><p><span><a href="#webServerConfig.html_https%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E3%2581%25AB%25E3%2581%2599%25E3%2582%258B">HTTPSを有効</a> にした場合、同時に <a href="#webServerConfig.html_http%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E5%258C%2596">HTTPも有効</a>になっていると、ブラウザー上では HTTPS と HTTP を切り替えることができることに注意が必要です(たとえば、ブラウザーのアドレスバーで、ユーザーは "https" を "http" に置き換えることができます)。 HTTPへのリダイレクトを禁止するには、<a href="#webServerConfig.html_http%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E5%258C%2596">HTTPを無効</a>にすることもできますが、この場合、クライアントのHTTPリクエストに対してエラーメッセージが表示されてしまいます。</span></p><p><span>HSTS によって、4D Webサーバーはブラウザーに対し、セキュアな HTTPS接続のみを許可すると宣言できます。HSTS を有効にすると、4D Webサーバーはすべてのレスポンスヘッダーに HSTS 関連の情報を自動的に追加します。 4DWebサーバーからの初回レスポンスを受け取った際にブラウザーは HSTS情報を記録し、以降の HTTPリクエストは自動的にHTTPSリクエストに変換されます。 ブラウザー側でこの情報が保存される時間は <strong>HSTS maxage</strong> 設定によって指定されます。</span></p><blockquote><p><span>HSTS のためには、サーバー上で <a href="https%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B">HTTPSが有効</a>になっていなくてはなりません。 また、クライアントの初回接続を許可するために、<a href="http%E3%82%92%E6%9C%89%E5%8A%B9%E5%8C%96">HTTP も有効</a>でなくてはなりません。</span></p></blockquote><blockquote><p><span>現在の接続モードは、<code>WEB Is secured connection</code>コマンドで取得できます。</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_hsts-max-age"></a><a aria-hidden="true"class="hash-link" href="#webServerConfig.html_hsts-max-age"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HSTS Max Age</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_hstsmaxage"><code>HSTSMaxAge</code></a></td><td>数値 (秒単位)</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web HSTS max age</code></td><td>数値 (秒単位)</td></tr></tbody></table><p><span>新規クライアント接続ごとに HSTS がアクティブな最長時間 (秒単位) を指定します。この情報はクライアント側で指定された時間のあいだ保存されます。 デフォルト値は 63072000 (2年)。</span></p><blockquote><p><span><strong>警告:</strong>HSTSを有効にすると指定された期間中、クライアントの接続はこのメカニズムを使用し続けます。アプリケーションをテストする際には、セキュアな接続とセキュアでない接続を必要に応じて切り替えることができるように、短い期間を設定することが推奨されます。</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_http%E5%9C%A7%E7%B8%AE%E3%83%AC%E3%83%99%E3%83%AB"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_http%25E5%259C%25A7%25E7%25B8%25AE%25E3%2583%25AC%25E3%2583%2599%25E3%2583%25AB"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTP圧縮レベル</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_httpcompressionlevel"><code>HTTPCompressionLevel</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web HTTP compression level</code></td><td>Web および Webサービスに適用されます</td></tr></tbody></table><p><span>4D Webサーバーの HTTP圧縮通信 (クライアントリクエストまたはサーバーレスポンス) における圧縮レベル。この設定を使って、実行速度を優先するか (圧縮少)、それとも圧縮レベルを優先するか (速度減)を指定し、通信を最適化することができます。 適切な値は、通信データのサイズとタイプによって異なります。</span></p><p><span>1 から 9 の値を指定します (1 が低圧縮、9 が高圧縮)。 -1を指定すると、圧縮速度と圧縮率の妥協点が得られます。 デフォルトの圧縮レベルは 1 (低圧縮) です。</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_http%E5%9C%A7%E7%B8%AE%E3%81%AE%E3%81%97%E3%81%8D%E3%81%84%E5%80%A4"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_http%25E5%259C%25A7%25E7%25B8%25AE%25E3%2581%25AE%25E3%2581%2597%25E3%2581%258D%25E3%2581%2584%25E5%2580%25A4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTP圧縮のしきい値</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_httpcompressionthreshold"><code>HTTPCompressionThreshold</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web HTTP compression threshold</code></td><td></td></tr></tbody></table><p><span>最適化されたHTTP通信のフレームワークにおける、HTTP圧縮のしきい値 (バイト単位)。このサイズ未満のリクエストについては、通信が圧縮されません。この設定は、通信サイズが小さい場合、圧縮に処理時間が費やされるのを避けるのに有用です。</span></p><p><span>サイズを数値 (バイト単位) で指定します。 デフォルトのしきい値は 1024バイトに設定されています。</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_http-%E3%83%9D%E3%83%BC%E3%83%88"></a><a aria-hidden="true"class="hash-link" href="#webServerConfig.html_http-%25E3%2583%259D%25E3%2583%25BC%25E3%2583%2588"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTP ポート</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_httpport"><code>HTTPPort</code></a></td><td>number</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web port ID</code></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_http-%25E3%2583%259D%25E3%2583%25BC%25E3%2583%2588">設定ページ / HTTPポート</a></td><td></td></tr></tbody></table><p><span>HTTP接続を受け付ける IP (TCP) ポート番号。 デフォルトで、4D は通常の Web HTTPポート(TCPポート) 番号である 80番を使用して Webアプリケーションを公開します。 他のWebサービスによってこのポート番号が既に使用されている場合、4D が使用するHTTPポート番号を変更する必要があります。</span></p><blockquote><p><span>macOS では、HTTPポートを変更することで、rootユーザーでなくてもWebサーバーを開始することができるようになります (<a href="#webServerConfig.html_macos-%25E3%2581%25A7%25E3%2581%25AE-helper%25E3%2583%2584%25E3%2583%25BC%25E3%2583%25AB">macOSでの Helperツール</a> 参照)。</span></p></blockquote><p><span>デフォルトでない HTTPポート番号を使用して公開されたWebアプリケーションに接続するには、Webブラウザーで入力するアドレスにポート番号を含めなければなりません。アドレスの後にコロンに続けてポート番号を指定します。 たとえば、HTTPポート番号8080を使用する場合、"123.4.567.89:8080" のように書きます。</span></p><blockquote><p><span><strong>警告</strong>: デフォルトの TCPポート番号 (標準モードで 80、HTTPSモードで443) 以外を指定する場合、同時に使用する他のサービスのデフォルトポート番号を使わないよう注意が必要です。たとえば、Webサーバーマシンで FTPプロトコルを使用する計画である場合、このプロトコルのデフォルトである TCPポート 20 と21 を使用してはいけません。 256 より下のポート番号は、well-known サービスに予約されています。また、256 から1024 は UNIXプラットフォーム由来のサービスに予約されています。 セキュリティのため、これらの数値よりも上、たとえば2000台や 3000台などを指定します。</span></p></blockquote><p><span>0 を指定すると、4D はデフォルトの HTTPポート番号 80を使用します。</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_http-trace"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_http-trace"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTP Trace</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_httptrace"><code>HTTPTrace</code></a></td><td>ブール; デフォルトは false</td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web HTTP TRACE</code></td><td>数値; デフォルトは 0 (無効)</td></tr></tbody></table><p><span>4D Webサーバーの HTTP TRACE メソッドを有効化します。 セキュリティ上の理由により、4DWebサーバーはデフォルトで HTTP TRACE リクエストをエラー405 で拒否します。 必要に応じて有効化された場合、HTTPTRACE リクエストに対して Webサーバーは、リクエスト行、ヘッダー、および本文を返します。</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_https-%E3%83%9D%E3%83%BC%E3%83%88"></a><a aria-hidden="true"class="hash-link" href="#webServerConfig.html_https-%25E3%2583%259D%25E3%2583%25BC%25E3%2583%2588"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTPS ポート</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_httpsport"><code>HTTPSPort</code></a></td><td>number</td></tr></tbody></table><p><span>|<code>WEB SET OPTION</code>|<code>Web HTTPS portID</code>||</span></p><p><span>|Settings dialog box|<a href="#webServerConfig.html_https-port">Configuration page/HTTPSPort</a>||</span></p><p><span>TLS を介した HTTPS接続を受け付ける IPポート番号。 デフォルトで HTTPSポート番号は 443です。ポート番号に関する詳細については、<a href="#webServerConfig.html_http-%25E3%2583%259D%25E3%2583%25BC%25E3%2583%2588">HTTPポート</a> を参照ください。</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E9%9D%9E%E5%8B%95%E4%BD%9C%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E9%259D%259E%25E5%258B%2595%25E4%25BD%259C%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9%25E3%2581%25AE%25E3%2582%25BF%25E3%2582%25A4%25E3%2583%25A0%25E3%2582%25A2%25E3%2582%25A6%25E3%2583%2588"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>非動作プロセスのタイムアウト</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_inactiveprocesstimeout"><code>inactiveProcessTimeout</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web inactive process timeout</code></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E9%259D%259E%25E5%258B%2595%25E4%25BD%259C%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9%25E3%2581%25AE%25E3%2582%25BF%25E3%2582%25A4%25E3%2583%25A0%25E3%2582%25A2%25E3%2582%25A6%25E3%2583%2588">オプション (I) ページ / 非動作プロセスのタイムアウト</a></td><td>スライダー</td></tr></tbody></table><p><span>セッションと紐づいた非アクティブWebプロセスのタイムアウト時間 (分単位) を設定します。すると、<code>On Web Close Process</code>データベースメソッドが呼び出され、セッションのコンテキストは削除されます。</span></p><p><span>デフォルト値: 480分 (デフォルト値に戻すには 0 を指定します)</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E9%9D%9E%E3%82%A2%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E9%259D%259E%25E3%2582%25A2%25E3%2582%25AF%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2596%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E3%2582%25BF%25E3%2582%25A4%25E3%2583%25A0%25E3%2582%25A2%25E3%2582%25A6%25E3%2583%2588"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>非アクティブセッションタイムアウト</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_inactivesessiontimeout"><code>inactiveSessionTimeout</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web inactive session timeout</code></td><td></td></tr></tbody></table><p><span>非アクティブセッションのタイムアウト時間 (分単位) を cookie に設定します。タイムアウト時間が経過するとセッションcookieが無効になり、HTTPクライアントによって送信されなくなります。</span></p><p><span>デフォルト値: 480分 (デフォルト値に戻すには 0 を指定します)</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%82%92%E5%8F%97%E3%81%91%E4%BB%98%E3%81%91%E3%82%8B-ip%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2583%25AA%25E3%2582%25AF%25E3%2582%25A8%25E3%2582%25B9%25E3%2583%2588%25E3%2582%2592%25E5%258F%2597%25E3%2581%2591%25E4%25BB%2598%25E3%2581%2591%25E3%2582%258B-ip%25E3%2582%25A2%25E3%2583%2589%25E3%2583%25AC%25E3%2582%25B9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>リクエストを受け付ける IPアドレス</span></h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_ipaddresstolisten"><code>IPAddressToListen</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web IP address to listen</code></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_ip%25E3%2582%25A2%25E3%2583%2589%25E3%2583%25AC%25E3%2582%25B9">設定ページ / IPアドレス</a></td><td>ポップアップメニュー</td></tr></tbody></table><p><span>4D Webサーバーが HTTPリクエストを受け付ける IPアドレスを指定できます (4Dローカルおよび 4DServer)。</span></p><p><span>デフォルトでは、特定のアドレスが定義されていないため (設定ダイアログボックスでは<strong>任意</strong> の値)、サーバーはすべての IPアドレスに応答します。特定のアドレスを指定すると、サーバーはこの IPアドレスへのリクエストにのみ応答します。 この機能は複数のTCP/IPアドレスが設定されたマシン上で動作する 4D Webサーバーのためのものです。これはしばしば、インターネットホストプロバイダーで使用されます。</span></p><p><span>とりうる値: IPアドレス文字列。 IPv6 文字列フォーマット (例:"2001:0db8:0000:0000:0000:ff00:0042:8329") と IPv4 文字列フォーマット (例:"123.45.67.89") の両方がサポートされます。</span></p><h4><span><a aria-hidden="true" class="anchor" id="webServerConfig.html_ipv6-%E3%81%AE%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_ipv6-%25E3%2581%25AE%25E3%2582%25B5%25E3%2583%259D%25E3%2583%25BC%25E3%2583%2588%25E3%2581%25AB%25E3%2581%25A4%25E3%2581%2584%25E3%2581%25A6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>IPv6 のサポートについて</span></h4><ul><li><p><span><strong>TCPポートが使用済みでも警告は出ません</strong><br />サーバーが応答する IPアドレスが "任意"に設定されていた場合、TCPポートが他のアプリケーションで使用されていても、それはサーバー起動時に指摘されません。 IPv6アドレスのポートが空いているため、この場合 4D Server はどのようなエラーも検知しません。 しかしながら、マシンのIPv4アドレスを使用、またはローカルアドレス 127.0.0.1 を使用してアクセスすることは不可能です。</span></p><p><span>定義されたポートで 4D Server が反応していないようであれば、サーバーマシンで [::1]のアドレスを試してみてください (IPv6 における 127.0.0.1 と同義です。他のポート番号をテストするには[:portNum] を追加してください)。 4D が応答するようであれば、IPv4のポートを他のアプリケーションが使用している可能性が高いです。</span></p></li><li><p><span><strong>IPv4-マップされた IPv6アドレス</strong><br />プロセスを標準化するために、4D では IPv4アドレスの標準ハイブリッド表示を IPv6 で提供しています。 これらのアドレスはIPv6フォーマットにおいて 96ビットの接頭辞付きで書かれ、その後に IPv4ドット区切り表記で書かれた 32ビットが続きます。たとえば、::ffff:192.168.2.34 は、192.168.2.34 というIPv4アドレスを表します。</span></p></li><li><p><span><strong>ポート番号の表記</strong><br />IPv6 記法はコロン (:)を使用するので、ポート番号を追加するときには混乱を招く恐れがあることに注意が必要です。たとえば:</span></p></li></ul><pre><span><code class="hljs css language-code4d">    <span class="hljs-number">2001</span>:<span class="hljs-number">0</span>DB8::<span class="hljs-number">85</span>a3:<span class="hljs-number">0</span>:ac1f:<span class="hljs-number">8001</span> <span class="hljs-comment">// IPv6アドレス</span>    <span class="hljs-number">2001</span>:<span class="hljs-number">0</span>DB8::<span class="hljs-number">85</span>a3:<span class="hljs-number">0</span>:ac1f:<span class="hljs-number">8001</span>:<span class="hljs-number">8081</span> <span class="hljs-comment">// ポート 8081 指定の IPv6アドレス</span></code></span></pre><p>混乱を避けるため、 IPv6アドレスをポート番号と併記する際には、以下の様に [ ]でアドレスを囲う記法が推奨されます:</p><pre><code class="hljs css language-code4d">    [<span class="hljs-number">2001</span>:<span class="hljs-number">0</span>DB8::<span class="hljs-number">85</span>a3:<span class="hljs-number">0</span>:ac1f:<span class="hljs-number">8001</span>]:<span class="hljs-number">8081</span> <span class="hljs-comment">// ポート 8081 指定の IPv6アドレス</span></code></pre><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E6%97%A7%E5%BC%8F%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3-%E8%87%AA%E5%8B%95%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E6%2597%25A7%25E5%25BC%258F%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3-%25E8%2587%25AA%25E5%258B%2595%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E7%25AE%25A1%25E7%2590%2586"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>旧式セッション (自動セッション管理)</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_keepsession"><code>keepSession</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web keep session</code></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E6%2597%25A7%25E5%25BC%258F%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3-%25E3%2582%25B7%25E3%2583%25B3%25E3%2582%25B0%25E3%2583%25AB%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3">オプション (I) ページ / 旧式セッション (シングルプロセスセッション)</a></td><td>変換されたプロジェクトのみ</td></tr></tbody></table><p>4D Webサーバーによる旧式セッション管理を有効/無効にします (廃止予定)。</p><blockquote><p>このオプションが選択されていると、"一時的なコンテキストを再利用する" オプションも自動で選択され、ロックされます。</p></blockquote><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%83%AD%E3%82%B0%E3%81%AE%E8%A8%98%E9%8C%B2"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2583%25AD%25E3%2582%25B0%25E3%2581%25AE%25E8%25A8%2598%25E9%258C%25B2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ログの記録</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_logrecording"><code>logRecording</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web log recording</code></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E3%2583%25AD%25E3%2582%25B0%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25BC%25E3%2583%259E%25E3%2583%2583%25E3%2583%2588">ログ (タイプ) ページ</a></td><td>ポップアップメニュー</td></tr></tbody></table><p>4D Web サーバーが受け取るリクエストのログを開始/停止します。 ログは、<em>logweb.txt</em>ファイルに記録され、そのフォーマットを指定することができます。 デフォルトでは、リクエストは規則されません (0 /ログファイルなし)。 有効化されると、<em>logweb.txt</em> ファイルが Logsフォルダー内に自動で保存されます。</p><p>このファイルのフォーマットを指定することができます。 使用可能な値:</p><table><thead><tr><th>値</th><th>フォーマット</th><th>説明</th></tr></thead><tbody><tr><td>0</td><td>ログファイルなし</td><td>デフォルト</td></tr><tr><td>1</td><td>CLF形式で記録する</td><td>Common Log Format - それぞれのリクエストが行単位でファイル内に表示されます: <code>hostrfc931 user [DD/MMM/YYYY:HH:MM:SS] "request" state length</code> -各フィールドはスペースによって区切られ、各行は CR/LF シーケンスで終ります。</td></tr><tr><td>2</td><td>DLF形式で記録する</td><td>Combined Log Format - CLFフォーマットを使いながら、各リクエストの最後に2つのHTTPフィールド、Refererと User-agent を追加します。</td></tr><tr><td>3</td><td>ELF形式で記録する</td><td>Extended Log Format - 設定ダイアログボックスにてカスタマイズします。</td></tr><tr><td>4</td><td>WLF形式で記録する</td><td>WebStar Log Format - 設定ダイアログボックスにてカスタマイズします。</td></tr></tbody></table><blockquote><p>フォーマット3、4はカスタムフォーマットで、あらかじめ <a href="#webServerConfig.html_%25E3%2583%25AD%25E3%2582%25B0%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25BC%25E3%2583%259E%25E3%2583%2583%25E3%2583%2588">設定ダイアログボックス</a> にて内容を指定しておく必要があります。このページでフィールドを選択せずにこれらのフォーマットを使用した場合、ログファイルは生成されません。</p></blockquote><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E6%9C%80%E5%A4%A7%E5%90%8C%E6%99%82web%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E6%259C%2580%25E5%25A4%25A7%25E5%2590%258C%25E6%2599%2582web%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>最大同時Webプロセス</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_maxconcurrentprocesses"><code>maxConcurrentProcesses</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web max concurrent processes</code></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E6%259C%2580%25E5%25A4%25A7%25E5%2590%258C%25E6%2599%2582web%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9">オプション (I) ページ / 最大同時Webプロセス</a></td><td></td></tr></tbody></table><p><strong>セッションなし</strong> または <strong>旧式セッション</strong>が使用されているときの、サーバー上で同時に開くことのできるすべての Webプロセスの最大同時接続数の厳格な上限を設定します(<strong>スケーラブルセッション</strong> では、<a href="#sessions.html">数の制限なく</a> プリエンプティブプロセスがサポートされています)。このパラメーターは、異常な数のリクエストによる 4D Webサーバーの飽和状態を避けるために使用します。 最大Web同時接続数(マイナス1) に達すると、4D は新しいプロセスを作成せず、HTTPステータス <code>503 - ServiceUnavailable</code> を新規リクエストに対して返信します。</p><p>デフォルト値は 100 です。 10から32000までの値を設定できます。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E6%9C%80%E5%A4%A7%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%82%B5%E3%82%A4%E3%82%BA"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E6%259C%2580%25E5%25A4%25A7%25E3%2583%25AA%25E3%2582%25AF%25E3%2582%25A8%25E3%2582%25B9%25E3%2583%2588%25E3%2582%25B5%25E3%2582%25A4%25E3%2582%25BA"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>最大リクエストサイズ</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_maxrequestsize"><code>maxRequestSize</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web maximum requests size</code></td><td></td></tr></tbody></table><p>Webサーバーに処理を許可する HTTPリクエスト (POST) の最大サイズ (バイト単位)。 デフォルト値は2,000,000 (2MBより、すこし少ない値) です。 最大値 (2,147,483,648)に設定した場合、実際には制限無しということになります。</p><p>制限を設けることで、サイズが非常に大きいリクエストによって Webサーバーが過負荷状態に陥ることを防ぎます。制限を設けることで、サイズが非常に大きいリクエストによって Webサーバーが過負荷状態に陥ることを防ぎます。</p><p>とりうる値: 500,000 - 2,147,483,648。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E6%9C%80%E5%A4%A7%E5%90%8C%E6%99%82%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E6%95%B0"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E6%259C%2580%25E5%25A4%25A7%25E5%2590%258C%25E6%2599%2582%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E6%2595%25B0"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>最大同時セッション数</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_maxsessions"><code>maxSessions</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web max sessions</code></td><td></td></tr></tbody></table><p>同時セッション上限数。 上限に達すると、Webサーバーが新規セッションを作成するときに、一番古いセッションが閉じられます(<code>On Web Close Process</code> データベースメソッドが呼び出されます)。同時セッション数は、<a href="#webServerConfig.html_%25E6%259C%2580%25E5%25A4%25A7%25E5%2590%258C%25E6%2599%2582web%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9">Webプロセスの最大値</a>を超えることはできません(デフォルトは 100)。</p><p>デフォルト値: 100 (デフォルト値に戻すには 0 を指定します).</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E6%9C%80%E4%BD%8Etls%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E6%259C%2580%25E4%25BD%258Etls%25E3%2583%2590%25E3%2583%25BC%25E3%2582%25B8%25E3%2583%25A7%25E3%2583%25B3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>最低TLSバージョン</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_mintlsversion"><code>minTLSVersion</code></a></td><td>number</td></tr></tbody></table><p>接続に必要な最低TLSバージョン。 これよりも低いバージョンのみをサポートするクライアントからの接続は拒否されます。</p><p>とりうる値:</p><ul><li>1 = TLSv1_0</li><li>2 = TLSv1_1</li><li>3 = TLSv1_2 (デフォルト)</li><li>4 = TLSv1_3</li></ul><p>変更した場合、設定を反映するには Webサーバーを再起動する必要があります。</p><blockquote><p>4D が使用する最低TLSバージョンは、<code>SET DATABASE PARAMETER</code>コマンドを使用してセッションごとに変更することができます。この場合、変更は 4Dアプリケーション全体に適用されます(Webサーバー・SQLサーバー・クライアント/サーバー接続を含む)。</p></blockquote><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E5%90%8D%E7%A7%B0"></a><a aria-hidden="true"class="hash-link" href="#webServerConfig.html_%25E5%2590%258D%25E7%25A7%25B0"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>名称</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_name"><code>name</code></a></td><td></td></tr></tbody></table><p>Webサーバーアプリケーションの名称。 コンポーネントの Webサーバーが起動されているときに便利です。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_openssl-%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_openssl-%25E3%2583%2590%25E3%2583%25BC%25E3%2582%25B8%25E3%2583%25A7%25E3%2583%25B3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>OpenSSL バージョン</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_opensslversion"><code>openSSLVersion</code></a></td><td>読み取り専用</td></tr></tbody></table><p>使用されている OpenSSLライブラリのバージョン。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_perfect-forward-secrecy-pfs"></a><a aria-hidden="true"class="hash-link" href="#webServerConfig.html_perfect-forward-secrecy-pfs"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Perfect Forward Secrecy (PFS)</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_perfectforwardsecrecy"><code>perfectForwardSecrecy</code></a></td><td>ブール; 読み取り専用</td></tr></tbody></table><p>Webサーバーの PFS利用可否状況 (<a href="#webServerConfig.html_perfect-forward-secrecy-pfs">TLS</a>参照)。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E4%B8%80%E6%99%82%E7%9A%84%E3%81%AA%E3%82%B3%E3%83%B3%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%92%E5%86%8D%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B-%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%A2%E3%83%BC%E3%83%89"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E4%25B8%2580%25E6%2599%2582%25E7%259A%2584%25E3%2581%25AA%25E3%2582%25B3%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25AD%25E3%2582%25B9%25E3%2583%2588%25E3%2582%2592%25E5%2586%258D%25E5%2588%25A9%25E7%2594%25A8%25E3%2581%2599%25E3%2582%258B-%25E3%2583%25AA%25E3%2583%25A2%25E3%2583%25BC%25E3%2583%2588%25E3%2583%25A2%25E3%2583%25BC%25E3%2583%2589"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>一時的なコンテキストを再利用する (リモートモード)</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E4%25B8%2580%25E6%2599%2582%25E7%259A%2584%25E3%2581%25AA%25E3%2582%25B3%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25AD%25E3%2582%25B9%25E3%2583%2588%25E3%2582%2592%25E5%2586%258D%25E5%2588%25A9%25E7%2594%25A8%25E3%2581%2599%25E3%2582%258B">オプション (I) ページ / 最大同時Webプロセス</a></td><td></td></tr></tbody></table><blockquote><p>このオプションは、<strong>セッションなし</strong>オプションがチェックされている場合にのみ利用できます。</p></blockquote><p>前の Webリクエストを処理するために作成された Webプロセスを再利用することによって、4Dリモートモードで実行されている4D Webサーバーの動作を最適化できます。 実際、4D Webサーバーはそれぞれの Webリクエストを処理するために専用のWebプロセスを必要とします。 リモートモードでは、このプロセスは必要に応じて、データやデータベースエンジンにアクセスするために 4DServer に接続します。 そしてプロセス独自の変数やセレクションを使用して、一時的なコンテキストを作成します。リクエストの処理が終了すると、このプロセスは廃棄されます。</p><p><strong>一時的なコンテキストを再利用する</strong> オプションがチェックされていると、リモートモードの 4Dは作成された固有の Webプロセスを保守し、その後のリクエストで再利用します。プロセスの作成処理が省略されるため、Webサーバーのパフォーマンスが向上します。</p><p>他方このオプションを使用する場合、不正な結果が返されることを避けるために、4Dメソッド内で使用される変数をシステマチックに初期化する必要があります。同様に、以前のリクエストで使用されたカレントセレクションやカレントレコードをアンロードする必要があります。</p><blockquote><p>このオプションはリモートモードの 4D Webサーバーでのみ効果があります。 ローカルモードの 4D では(セッション管理をおこなうプロセスを除く) すべてのWebプロセスが使用後に終了されます。</p></blockquote><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_robotstxt"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_robotstxt"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Robots.txt</h2><p>特定のクローラー (クエリエンジン、スパイダー...) は Webサーバーやスタティックページをクロールします。クローラーにサイトへアクセスさせたくない場合、アクセスを禁止する URL を指定できます。</p><p>これには、ROBOTS.TXT ファイルをサーバーのルートに置きます。このファイルの内容は以下の構造になっていなければなりません:</p><pre><code class="hljs css language-4d">   User-Agent: &lt;name&gt;   Disallow: &lt;URL&gt; または &lt;beginning of the URL&gt;</code></pre><p>たとえば:</p><pre><code class="hljs css language-4d">   User-Agent: *   Disallow: /4D   Disallow: /%<span class="hljs-number">23</span>%<span class="hljs-number">23</span>   Disallow: /GIFS/</code></pre><ul><li>"User-Agent: *" は、すべてのクローラーが対象であることを示します。</li><li>"Disallow: /4D" は、/4D から始まる URLへのアクセスを許可しないことをクローラーに通知します。</li><li>"Disallow: /%23%23" は、/%23%23 から始まる URLへのアクセスを許可しないことをクローラーに通知します。</li><li>"Disallow: /GIFS/" は、/GIFS/フォルダーおよびそのサブフォルダーへのアクセスを許可しないことをクローラーに通知します。</li></ul><p>他の例題:</p><pre><code class="hljs css language-code4d">   <span class="hljs-attribute">User-Agent</span>: *   <span class="hljs-attribute">Disallow</span>: /</code></pre><p>この場合、クローラーにサイト全体へのアクセスを許可しないことを通知します。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%83%AB%E3%83%BC%E3%83%88%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%BC"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2588%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2580%25E3%2583%25BC"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ルートフォルダー</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_rootfolder"><code>rootFolder</code></a></td><td>テキストプロパティ (<code>start()</code> 関数の <em>settings</em>パラメーターと使用する場合は、<a href="#FolderClass.html"><code>4D.Folder</code></a> オブジェクトも使用可能)</td></tr><tr><td><code>WEB SET ROOT FOLDER</code></td><td></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E3%2583%2587%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2588html%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2588">設定ページ / デフォルトHTMLルート</a></td><td></td></tr></tbody></table><p>4D がブラウザーに送信するスタティック/セミダイナミックな HTMLページ、ピクチャーなどを検索するフォルダーを指定します。これが、Webサーバーのルートフォルダーです。 パスは、POSIXフルパスの形式です。ルートフォルダーの変更を反映するには、Webサーバーを再起動する必要があります。</p><p>さらにHTMLルートフォルダーは、Webサーバーのディスク上で、ファイルに対するアクセスができない階層を定義することにもなります。ブラウザーから送られた URL や4Dコマンドが、HTMLルートフォルダーよりも上の階層にアクセスしようとすると、ファイルが存在しないことを示すエラーが返されます。</p><p>デフォルトで、4D は <strong>WebFolder</strong>という名前のデフォルトHTMLルートフォルダーを定義します。Webサーバーの初回起動時にこのフォルダーが存在しなければ、HTMLルートフォルダーは物理的にディスク上に作成されます。ルートフォルダーは以下の場所に作成されます:</p><ul><li>4D (ローカル) および 4D Server では、<a href="#webServerConfig.html_project-%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2580%25E3%2583%25BC">Projectフォルダー</a> と同階層。</li><li>4Dリモートモードでは、ローカルのリソースフォルダー内</li></ul><p>デフォルトHTMLルートフォルダーを変更するには、パスを "デフォルトHTMLルート" に入力します。</p><ul><li>このとき、相対パスの起点は <a href="#webServerConfig.html_project-folder">Projectフォルダー</a> (4Dローカルおよび4D Server) 、または、4Dアプリケーションやソフトウェアーパッケージを含むフォルダーです (4Dリモートモード)。</li><li>パスは POSIX シンタックスで表します (フォルダーはスラッシュ ("/") で区切ります)。</li><li>フォルダー階層で 1つ上にあがるには、フォルダー名の前にピリオドを2つ “..” 置きます。</li><li>パスはスラッシュ (“/”) で始まってはいけません (HTMLルートフォルダーを Projectフォルダーや4Dリモートフォルダーにしながら、それより上階層へのアクセスを禁止したい場合には、"/" を入力します)。</li></ul><p>たとえば、HTMLルートフォルダーを "MyWebApp" フォルダーの “Web”サブフォルダーにしたい場合、"MyWebApp/Web" と入力します。</p><blockquote><p>HTMLルートフォルダーを変更すると、アクセスが制限されているファイルを格納しないようにするため、キャッシュがクリアされます。</p></blockquote><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%A9%E3%83%96%E3%83%AB%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2582%25B9%25E3%2582%25B1%25E3%2583%25BC%25E3%2583%25A9%25E3%2583%2596%25E3%2583%25AB%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>スケーラブルセッション</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_scalablesession"><code>scalableSession</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web スケーラブルセッション</code></td><td></td></tr><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E3%2582%25B9%25E3%2582%25B1%25E3%2583%25BC%25E3%2583%25A9%25E3%2583%2596%25E3%2583%25AB%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3-%25E3%2583%259E%25E3%2583%25AB%25E3%2583%2581%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3">オプション (I) ページ / スケーラブルセッション (マルチプロセスセッション)</a></td><td></td></tr></tbody></table><p>4D Webサーバーでのスケーラブルセッション管理を有効/無効にします。Webサーバーセッションの詳細については、<a href="#sessions.html">ユーザーセッション</a>のページを参照ください。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3cookie%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3cookie%25E3%2583%2589%25E3%2583%25A1%25E3%2582%25A4%25E3%2583%25B3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>セッションcookieドメイン</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_sessioncookiedomain"><code>sessionCookieDomain</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web session cookie domain</code></td><td></td></tr></tbody></table><p>セッションcookie の "path" フィールド。 セッションcookie のスコープを制御するのに使用されます。たとえば、このセレクターに "/4DACTION" という値を設定した場合、4DACTIONで始まる動的リクエストの場合にのみクライアントは cookie を送信し、ピクチャーや静的ページへのリクエストは除外されます。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3cookie%E5%90%8D"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3cookie%25E5%2590%258D"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>セッションcookie名</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_sessioncookiename"><code>sessionCookieName</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web session cookie name</code></td><td></td></tr></tbody></table><p>セッションID の保存に使用されるセッションcookie の名称。 デフォルト = "4DSID"。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3cookie%E3%83%91%E3%82%B9"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3cookie%25E3%2583%2591%25E3%2582%25B9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>セッションcookieパス</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_sessioncookiepath"><code>sessionCookiePath</code></a></td><td></td></tr><tr><td><code>WEB SET OPTION</code></td><td><code>Web session cookie path</code></td><td></td></tr></tbody></table><p>セッションcookie の "domain" フィールドの値。 セッションcookie のスコープを制御するのに使用されます。たとえば、このセレクターに "/*.4d.fr" の値を設定した場合、リクエストの宛先が ".4d.fr"のドメインに限り、クライアントは cookie を送信します。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3cookie-samesite"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3cookie-samesite"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>セッションcookie SameSite</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>webServer オブジェクト</td><td><a href="#webServerConfig.html_sessioncookiesamesite"><code>sessionCookieSameSite</code></a></td><td></td></tr></tbody></table><p>セッションcookie の <code>SameSite</code> 属性の値。この属性は、一部のクロスサイトリクエストフォージェリ (<a href="#CSRF">CSRF</a>)攻撃からの保護として、ファーストパーティーコンテキストまたは同一サイトコンテキストのどちらかに cookieを限定するかを宣言することができます。</p><blockquote><p><code>SameSite</code> 属性に関する詳細な説明は <a href="#SameSite">Mozillaのドキュメンテーション</a> または <a href="https://web.dev/samesite-cookies-explained/">こちらの Web開発ページ(英語)</a> を参照ください。</p></blockquote><p>次の値が提供されています:</p><ul><li>"Strict" (4Dセッションcookie の <code>SameSite</code> 属性のデフォルト値):ファーストパーティーのコンテキスト、すなわち現在のサイトのドメインに一致するコンテキストでのみ cookieは送信され、サードパーティーの Webサイトには決して送信されません。</li><li>"Lax": クロスサイトのサブリクエストでは cookie は送信されませんが(たとえば、画像やフレームをサードパーティーのサイトにロードする場合など)、ユーザーがオリジンのサイトに移動するとき(つまり、リンクを辿っているとき) には送信されます。</li><li>"None": ファーストパーティーやオリジン間リクエストにかかわらず、すべてのコンテキストにおいて cookieが送信されます。 "None" を使用する場合は、cookie の <code>Secure</code>属性も設定する必要があります (設定しないと、cookie がブロックされます)。</li></ul><p>セッションcookie の <code>Secure</code> 属性値は、HTTPS接続の場合には(<code>SameSite</code> 属性値が何であれ)、自動的に "True" に設定されます。</p><blockquote><p>HTTPサーバーで <code>SameSite=None</code> を設定することは、(HTTPS でのみ使用される)<code>Secure</code> 属性が欠落し、cookie がブロックされるため、推奨されません。</p></blockquote><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%83%97%E3%83%AA%E3%82%A8%E3%83%B3%E3%83%97%E3%83%86%E3%82%A3%E3%83%96%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E3%82%92%E4%BD%BF%E7%94%A8"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2583%2597%25E3%2583%25AA%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2597%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2596%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9%25E3%2582%2592%25E4%25BD%25BF%25E7%2594%25A8"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>プリエンプティブプロセスを使用</h2><table><thead><tr><th>設定できる場所</th><th>名称</th><th>コメント</th></tr></thead><tbody><tr><td>設定ダイアログボックス</td><td><a href="#webServerConfig.html_%25E3%2583%2597%25E3%2583%25AA%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2597%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2596%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9%25E3%2582%2592%25E4%25BD%25BF%25E7%2594%25A8">オプション (I) ページ / 最大同時Webプロセス</a></td><td></td></tr></tbody></table><p>このオプションは、<strong>セッションなし</strong> オプションが選択されている場合に、アプリケーションのWebサーバーコードのプリエンプティブモードを有効にします (<strong>スケーラブルセッション</strong>では、プリエンプティブモードは常に有効です)。 このコンテキストにおいて当該オプションがチェックされているとき、4Dコンパイラは<a href="#webServerConfig.html_4d-web%25E3%2582%25B3%25E3%2583%25BC%25E3%2583%2589%25E3%2581%25AE%25E3%2582%25B9%25E3%2583%25AC%25E3%2583%2583%25E3%2583%2589%25E3%2582%25BB%25E3%2583%25BC%25E3%2583%2595%25E3%2583%2586%25E3%2582%25A3">Web関連のコード</a> それぞれのスレッドセーフプロパティを自動的に評価し、違反があった場合にはエラーを返します。</p><h2><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E5%BB%83%E6%AD%A2%E4%BA%88%E5%AE%9A%E3%81%AE%E8%A8%AD%E5%AE%9A"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E5%25BB%2583%25E6%25AD%25A2%25E4%25BA%2588%25E5%25AE%259A%25E3%2581%25AE%25E8%25A8%25AD%25E5%25AE%259A"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>廃止予定の設定</h2><p>以下の設定は現在もサポートされていますが、廃止予定の機能や技術に依存しています。通常はデフォルト値のままにしておくことが推奨されます。</p><h4><a aria-hidden="true" class="anchor" id="webServerConfig.html_4dsync-url%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%9F%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%92%E8%A8%B1%E5%8F%AF"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_4dsync-url%25E3%2582%2592%25E4%25BD%25BF%25E7%2594%25A8%25E3%2581%2597%25E3%2581%259F%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2583%2599%25E3%2583%25BC%25E3%2582%25B9%25E3%2582%25A2%25E3%2582%25AF%25E3%2582%25BB%25E3%2582%25B9%25E3%2582%2592%25E8%25A8%25B1%25E5%258F%25AF"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>"4DSYNC" URLを使用したデータベースアクセスを許可</h4><p>このオプションを使用して、廃止予定の <em>/4DSYNC</em> URL によるHTTP同期サポートを制御します。</p><h4><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3-ip%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E6%A4%9C%E8%A8%BC"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3-ip%25E3%2582%25A2%25E3%2583%2589%25E3%2583%25AC%25E3%2582%25B9%25E6%25A4%259C%25E8%25A8%25BC"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>セッション IPアドレス検証</h4><blockquote><p><a href="#sessions.html">スケーラブルセッションモード</a>の場合には、このオプションは利用できません (検証はおこなわれません)。</p></blockquote><p>セッションcookie の IP アドレス検証のステータス。 セキュリティ上の理由により、セッションcookieを持つ各リクエストに対して 4D Webサーバーはデフォルトで IPアドレスを検証します。アプリケーションによっては、この検証機能を無効化し、IPアドレスが合致しなくてもセッションcookieを受け入れるようにしたいかもしれません。 たとえば、モバイルデバイスが WiFi と 4G/5Gネットワークを切り替えた場合、IPアドレスが変更されます。 このように IPアドレスが変更しても、クライアントによるWebセッションの継続を許可するには、このオプションに 0 を渡します。この設定はアプリケーションのセキュリティレベルを下げることに留意が必要です。 この設定が変更された際には、その設定は直ちに反映されます(HTTPサーバーを再起動する必要はありません)。</p><h4><a aria-hidden="true" class="anchor" id="webServerConfig.html_%E6%8B%A1%E5%BC%B5%E6%96%87%E5%AD%97%E3%82%92%E3%81%9D%E3%81%AE%E3%81%BE%E3%81%BE%E9%80%81%E4%BF%A1"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_%25E6%258B%25A1%25E5%25BC%25B5%25E6%2596%2587%25E5%25AD%2597%25E3%2582%2592%25E3%2581%259D%25E3%2581%25AE%25E3%2581%25BE%25E3%2581%25BE%25E9%2580%2581%25E4%25BF%25A1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>拡張文字をそのまま送信</h4><p>このオプションを有効にすると、Webサーバーはセミダイナミックページの拡張文字を、HTML標準に基づいた変換をおこなわずに「そのまま」送信します。このオプションにより、とくに Shift_JIS文字コード利用時の日本語のシステムで速度が向上します。</p><h4><a aria-hidden="true" class="anchor" id="webServerConfig.html_keep-alive%E6%8E%A5%E7%B6%9A%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B"></a><a aria-hidden="true" class="hash-link" href="#webServerConfig.html_keep-alive%25E6%258E%25A5%25E7%25B6%259A%25E3%2582%2592%25E4%25BD%25BF%25E7%2594%25A8%25E3%2581%2599%25E3%2582%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Keep-Alive接続を使用する</h4><p>4D Webサーバーは Keep-Alive接続を使用できます。keep-alive接続を使用すると、Webブラウザーとサーバー間の一連のやり取りについて単一のTCP接続を維持し、システムリソースの節約と通信の最適化を図ることができます。</p><p><strong>Keep-Alive接続を使用する</strong> オプションは、WebサーバーのKeep-Alive接続を有効および無効にします。 このオプションはデフォルトで有効になっています。ほとんどの場合、通信が高速化されるため、この状態をお勧めします。 Webブラウザーが Keep-Alive接続をサポートしない場合、4D Webサーバーは自動で HTTP/1.0 に切り替えます。</p><p>4D Webサーバーの Keep-Alive機能はすべての TCP/IP接続 (HTTP, HTTPS) に関連します。しかしながら、すべての 4D Webプロセスで常に Keep-Alive接続が使用されるわけではないことに留意してください。</p><p>あるケースでは、内部的な他の最適化機能が呼び出されることがあります。Keep-Alive接続は、おもにスタティックページで有効です。</p><p>Keep-Alive接続を設定する 2つのオプションがあります:</p><ul><li><p><strong>接続毎のリクエスト数</strong>: ひとつのKeep-Alive接続におけるリクエストとレスポンスの最大数を設定します。接続あたりのリクエスト数を制限することで、サーバーのリクエスト過多を避けることができます (攻撃者が使用するテクニック)。</p><p>4D Webサーバーをホストするマシンのリソースに応じて、デフォルト値 (100) を増減できます。</p></li><li><p><strong>タイムアウト</strong>:この値を使用して、Webブラウザーからリクエストがおこなわれない状態で、Webサーバーが開かれた接続を保守する最大の待ち秒数を設定します。この秒数が経過すると、サーバーは接続を閉じます。</p><p>接続が閉じられた後に Webブラウザーがリクエストを送信すると、新しい TCP接続が作成されます。この動作はユーザーからは見えません。</p></li></ul></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#webServer.html"><span class="arrow-prev">←</span><span>概要</span></a><a class="docs-next button" href="#webServerAdmin.html"><span>管理</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#webServerConfig.html_%25E8%25A8%25AD%25E5%25AE%259A%25E3%2582%2592%25E3%2581%258A%25E3%2581%2593%25E3%2581%25AA%25E3%2581%2586%25E5%25A0%25B4%25E6%2589%2580">設定をおこなう場所</a></li><li><a href="#webServerConfig.html_%25E3%2582%25AD%25E3%2583%25A3%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A5">キャッシュ</a></li><li><a href="#webServerConfig.html_%25E8%25A8%25BC%25E6%2598%258E%25E6%259B%25B8%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2580%25E3%2583%25BC">証明書フォルダー</a></li><li><a href="#webServerConfig.html_%25E6%2596%2587%25E5%25AD%2597%25E3%2582%25B3%25E3%2583%25BC%25E3%2583%2589">文字コード</a></li><li><a href="#webServerConfig.html_%25E6%259A%2597%25E5%258F%25B7%25E3%2583%25AA%25E3%2582%25B9%25E3%2583%2588">暗号リスト</a></li><li><a href="#webServerConfig.html_cors%25E8%25A8%25AD%25E5%25AE%259A">CORS設定</a></li><li><a href="#webServerConfig.html_%25E3%2583%2587%25E3%2583%2590%25E3%2583%2583%25E3%2582%25B0%25E3%2583%25AD%25E3%2582%25B0">デバッグログ</a></li><li><a href="#webServerConfig.html_%25E3%2583%2587%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2588%25E3%2583%259B%25E3%2583%25BC%25E3%2583%25A0%25E3%2583%259A%25E3%2583%25BC%25E3%2582%25B8">デフォルトホームページ</a></li><li><a href="#webServerConfig.html_cors%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E5%258C%2596">CORSを有効化</a></li><li><a href="#webServerConfig.html_http%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E5%258C%2596">HTTPを有効化</a></li><li><a href="#webServerConfig.html_https%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E3%2581%25AB%25E3%2581%2599%25E3%2582%258B">HTTPSを有効にする</a></li><li><a href="#webServerConfig.html_hsts%25E3%2582%2592%25E6%259C%2589%25E5%258A%25B9%25E3%2581%25AB%25E3%2581%2599%25E3%2582%258B">HSTSを有効にする</a></li><li><a href="#webServerConfig.html_hsts-max-age">HSTS MaxAge</a></li><li><a href="#webServerConfig.html_http%25E5%259C%25A7%25E7%25B8%25AE%25E3%2583%25AC%25E3%2583%2599%25E3%2583%25AB">HTTP圧縮レベル</a></li><li><a href="#webServerConfig.html_http%25E5%259C%25A7%25E7%25B8%25AE%25E3%2581%25AE%25E3%2581%2597%25E3%2581%258D%25E3%2581%2584%25E5%2580%25A4">HTTP圧縮のしきい値</a></li><li><a href="#webServerConfig.html_http-%25E3%2583%259D%25E3%2583%25BC%25E3%2583%2588">HTTP ポート</a></li><li><a href="#webServerConfig.html_http-trace">HTTP Trace</a></li><li><a href="#webServerConfig.html_https-%25E3%2583%259D%25E3%2583%25BC%25E3%2583%2588">HTTPS ポート</a></li><li><a href="#webServerConfig.html_%25E9%259D%259E%25E5%258B%2595%25E4%25BD%259C%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9%25E3%2581%25AE%25E3%2582%25BF%25E3%2582%25A4%25E3%2583%25A0%25E3%2582%25A2%25E3%2582%25A6%25E3%2583%2588">非動作プロセスのタイムアウト</a></li><li><a href="#webServerConfig.html_%25E9%259D%259E%25E3%2582%25A2%25E3%2582%25AF%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2596%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E3%2582%25BF%25E3%2582%25A4%25E3%2583%25A0%25E3%2582%25A2%25E3%2582%25A6%25E3%2583%2588">非アクティブセッションタイムアウト</a></li><li><a href="#webServerConfig.html_%25E3%2583%25AA%25E3%2582%25AF%25E3%2582%25A8%25E3%2582%25B9%25E3%2583%2588%25E3%2582%2592%25E5%258F%2597%25E3%2581%2591%25E4%25BB%2598%25E3%2581%2591%25E3%2582%258B-ip%25E3%2582%25A2%25E3%2583%2589%25E3%2583%25AC%25E3%2582%25B9">リクエストを受け付ける IPアドレス</a></li><li><a href="#webServerConfig.html_%25E6%2597%25A7%25E5%25BC%258F%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3-%25E8%2587%25AA%25E5%258B%2595%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E7%25AE%25A1%25E7%2590%2586">旧式セッション (自動セッション管理)</a></li><li><a href="#webServerConfig.html_%25E3%2583%25AD%25E3%2582%25B0%25E3%2581%25AE%25E8%25A8%2598%25E9%258C%25B2">ログの記録</a></li><li><a href="#webServerConfig.html_%25E6%259C%2580%25E5%25A4%25A7%25E5%2590%258C%25E6%2599%2582web%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9">最大同時Webプロセス</a></li><li><a href="#webServerConfig.html_%25E6%259C%2580%25E5%25A4%25A7%25E3%2583%25AA%25E3%2582%25AF%25E3%2582%25A8%25E3%2582%25B9%25E3%2583%2588%25E3%2582%25B5%25E3%2582%25A4%25E3%2582%25BA">最大リクエストサイズ</a></li><li><a href="#webServerConfig.html_%25E6%259C%2580%25E5%25A4%25A7%25E5%2590%258C%25E6%2599%2582%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E6%2595%25B0">最大同時セッション数</a></li><li><a href="#webServerConfig.html_%25E6%259C%2580%25E4%25BD%258Etls%25E3%2583%2590%25E3%2583%25BC%25E3%2582%25B8%25E3%2583%25A7%25E3%2583%25B3">最低TLSバージョン</a></li><li><a href="#webServerConfig.html_%25E5%2590%258D%25E7%25A7%25B0">名称</a></li><li><a href="#webServerConfig.html_openssl-%25E3%2583%2590%25E3%2583%25BC%25E3%2582%25B8%25E3%2583%25A7%25E3%2583%25B3">OpenSSL バージョン</a></li><li><a href="#webServerConfig.html_perfect-forward-secrecy-pfs">Perfect ForwardSecrecy (PFS)</a></li><li><a href="#webServerConfig.html_%25E4%25B8%2580%25E6%2599%2582%25E7%259A%2584%25E3%2581%25AA%25E3%2582%25B3%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25AD%25E3%2582%25B9%25E3%2583%2588%25E3%2582%2592%25E5%2586%258D%25E5%2588%25A9%25E7%2594%25A8%25E3%2581%2599%25E3%2582%258B-%25E3%2583%25AA%25E3%2583%25A2%25E3%2583%25BC%25E3%2583%2588%25E3%2583%25A2%25E3%2583%25BC%25E3%2583%2589">一時的なコンテキストを再利用する (リモートモード)</a></li><li><a href="#webServerConfig.html_robotstxt">Robots.txt</a></li><li><a href="#webServerConfig.html_%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2588%25E3%2583%2595%25E3%2582%25A9%25E3%2583%25AB%25E3%2583%2580%25E3%2583%25BC">ルートフォルダー</a></li><li><a href="#webServerConfig.html_%25E3%2582%25B9%25E3%2582%25B1%25E3%2583%25BC%25E3%2583%25A9%25E3%2583%2596%25E3%2583%25AB%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3">スケーラブルセッション</a></li><li><a href="#webServerConfig.html_%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3cookie%25E3%2583%2589%25E3%2583%25A1%25E3%2582%25A4%25E3%2583%25B3">セッションcookieドメイン</a></li><li><a href="#webServerConfig.html_%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3cookie%25E5%2590%258D">セッションcookie名</a></li><li><a href="#webServerConfig.html_%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3cookie%25E3%2583%2591%25E3%2582%25B9">セッションcookieパス</a></li><li><a href="#webServerConfig.html_%25E3%2582%25BB%25E3%2583%2583%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3cookie-samesite">セッションcookie SameSite</a></li><li><a href="#webServerConfig.html_%25E3%2583%2597%25E3%2583%25AA%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2597%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2596%25E3%2583%2597%25E3%2583%25AD%25E3%2582%25BB%25E3%2582%25B9%25E3%2582%2592%25E4%25BD%25BF%25E7%2594%25A8">プリエンプティブプロセスを使用</a></li><li><a href="#webServerConfig.html_%25E5%25BB%2583%25E6%25AD%25A2%25E4%25BA%2588%25E5%25AE%259A%25E3%2581%25AE%25E8%25A8%25AD%25E5%25AE%259A">廃止予定の設定</a></li></ul></nav></div></div></body></html>