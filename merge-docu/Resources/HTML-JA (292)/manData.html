<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="ja"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>データ操作 · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="REST によって、すべての [公開されているデータクラス、属性](/docs/Rx/ja/REST/configuration.html#テーブルやフィールドの公開)、そして [関数](/docs/Rx/ja/REST/classFunctions.html) にアクセスすることができます。 データクラス、属性、および関数名については、文字の大小が区別されます。クエリのデータについては、文字の大小は区別されません。"name="description" /><meta content="ja" name="docsearch:language" /><meta content="データ操作 · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="REST によって、すべての [公開されているデータクラス、属性](/docs/Rx/ja/REST/configuration.html#テーブルやフィールドの公開)、そして [関数](/docs/Rx/ja/REST/classFunctions.html) にアクセスすることができます。 データクラス、属性、および関数名については、文字の大小が区別されます。クエリのデータについては、文字の大小は区別されません。"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#manData.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">データ操作<a aria-hidden="true" class="anchor" id="manData.html"></a></h1></header><article><div><p><span>REST によって、すべての <a href="#manData.html_%25E3%2583%2586%25E3%2583%25BC%25E3%2583%2596%25E3%2583%25AB%25E3%2582%2584%25E3%2583%2595%25E3%2582%25A3%25E3%2583%25BC%25E3%2583%25AB%25E3%2583%2589%25E3%2581%25AE%25E5%2585%25AC%25E9%2596%258B">公開されているデータクラス、属性</a>、そして <a href="#classFunctions.html">関数</a>にアクセスすることができます。データクラス、属性、および関数名については、文字の大小が区別されます。クエリのデータについては、文字の大小は区別されません。</span></p><h2><span><a aria-hidden="true" class="anchor" id="manData.html_%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E3%82%AF%E3%82%A8%E3%83%AA"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2581%25AE%25E3%2582%25AF%25E3%2582%25A8%25E3%2583%25AA"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>データのクエリ</span></h2><p><span>データを直接クエリするには <a href="#filter.html"><code>$filter</code></a> 関数を使います。 たとえば、"Smith"という名前の人を検索するには:</span></p><p><span><code>http://127.0.0.1:8081/rest/Person/?$filter="lastName=Smith"</code></span></p><h2><span><a aria-hidden="true" class="anchor" id="manData.html_%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%81%AE%E8%BF%BD%E5%8A%A0%E3%83%BB%E7%B7%A8%E9%9B%86%E3%83%BB%E5%89%8A%E9%99%A4"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2581%25AE%25E8%25BF%25BD%25E5%258A%25A0%25E3%2583%25BB%25E7%25B7%25A8%25E9%259B%2586%25E3%2583%25BB%25E5%2589%258A%25E9%2599%25A4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>エンティティの追加・編集・削除</span></h2><p><span>REST API を使って、4D内と同等のデータ操作をおこなうことができます。</span></p><p><span>エンティティを追加・編集するには <a href="#manData.html_methodupdate"><code>$method=update</code></a>を呼び出します。 1つ以上のエンティティを削除するには <a href="#manData.html_methoddelete"><code>$method=delete</code></a>を使用します。</span></p><p><span><a href="#manData.html_dataclasskey">{dataClass}({key})</a>でデータクラスのいちエンティティを取得する以外にも、エンティティセレクションやコレクションを返す <a href="#manData.html_%25E9%2596%25A2%25E6%2595%25B0%25E3%2581%25AE%25E5%2591%25BC%25E3%2581%25B3%25E5%2587%25BA%25E3%2581%2597">クラス関数</a> を用意することもできます。</span></p><p><span>戻り値としてセレクションを返す前に、<a href="#orderby.html"><code>$orderby</code></a> を使って一つ以上の属性 (リレーション属性も可)を基準に並べ替えることもできます。</span></p><h2><span><a aria-hidden="true" class="anchor" id="manData.html_%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E3%83%8A%E3%83%93%E3%82%B2%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2581%25AE%25E3%2583%258A%25E3%2583%2593%25E3%2582%25B2%25E3%2583%25BC%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>データのナビゲーション</span></h2><p><span>エンティティのコレクションをナビゲートするにあたっては、クエリやエンティティセレクションに次のRESTリクエストを追加することができます: <a href="#skip.html"><code>$skip</code></a>(開始エンティティの指定)、<a href="#top_%24limit.html"><code>$top/$limit</code></a>(返されるエンティティ数の指定)。</span></p><h2><span><a aria-hidden="true" class="anchor" id="manData.html_%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E7%AE%A1%E7%90%86"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2582%25BB%25E3%2583%2583%25E3%2583%2588%25E3%2581%25AE%25E4%25BD%259C%25E6%2588%2590%25E3%2581%25A8%25E7%25AE%25A1%25E7%2590%2586"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>エンティティセットの作成と管理</span></h2><p><span>エンティティセットとは、<em>エンティティセレクション</em>と同等の意味で、RESTリクエストによって取得され、4D Server のキャッシュに保存されるエンティティのコレクションのことです。エンティティセットを利用することで、同じ結果を得るためにアプリケーションを繰り返しクエリすることが避けられます。エンティティセットへのアクセスはクエリするよりも速いため、アプリケーション速度の向上にもつながります。</span></p><p><span>エンティティセットを作成するには、RESTリクエスト内で <a href="#manData.html_methodentityset"><code>$method=entityset</code></a>を呼び出します。 エンティティセットがタイムアウトした場合やサーバーから削除されてしまった場合への安全対策として、<a href="#filter.html"><code>$filter</code></a> や <a href="#orderby.html"><code>$orderby</code></a> を呼び出す際に <a href="#savedfilter.html"><code>$savedfilter</code></a> および <a href="#savedorderby.html"><code>$savedorderby</code></a> を使用することで、以前と同じID で再取得することができます。</span></p><p><span>エンティティセットにアクセスするには、<code>$entityset/{entitySetID}</code>を使います。例:</span></p><p><span><code>/rest/People/$entityset/0AF4679A5C394746BFEB68D2162A19FF</code></span></p><p><span>デフォルトで、エンティティセットは 2時間保存されます。<a href="#timeout.html"><code>$timeout</code></a>に新しい値を渡すことで、タイムアウトを変更できます。エンティティセットを使用するたびに、タイムアウトはデフォルト値または指定値にリセットされます。</span></p><p><span>4D Server のキャッシュからエンティティセットを削除したい場合には <a href="#manData.html_methodrelease"><code>$method=release</code></a>を使います。</span></p><p><span>エンティティセット内のエンティティの属性値を編集すると、それらの値が更新されます。ただし、エンティティセットの生成に使用したクエリ条件に合致する値から合致しない値に変更したとしても、そのエンティティはエンティティセットから削除されません。エンティティを削除した場合には、エンティティセットからも削除されます。</span></p><p><span>4D Serverのキャッシュからエンティティセットが消えていた場合、10分のデフォルトタイムアウトで再作成されます。エンティティセットが消えていた場合、再作成されるエンティティセットの内容は更新されたものです(新しくエンティティが追加されていたり、存在していたエンティティが削除されていたりする場合がありえます)。</span></p><p><span><a href="#manData.html_entitysetentitysetidoperatorothercollection"><code>$entityset/{entitySetID}?$logicOperator...&amp;$otherCollection</code></a> を使って、事前に作成した 2つのセンティティセットを統合できます。両セットの内容を統合する (集合の和) ほか、共通のエンティティのみを返したり (集合の積) 、共通でないエンティティのみを返したり(集合の対称差) することができます。</span></p><p><span>この場合m新規のエンティティセレクションが返されます。RESTリクエストの最後に <a href="#manData.html_methodentityset"><code>$method=entityset</code></a>を追加することで新規のエンティティセットを作成することもできます。</span></p><h2><span><a aria-hidden="true" class="anchor" id="manData.html_%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E8%A8%88%E7%AE%97"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2581%25AE%25E8%25A8%2588%25E7%25AE%2597"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>データの計算</span></h2><p><span><a href="#compute.html"><code>$compute</code></a>を使って、データクラスの任意の属性について、<strong>average</strong>や<strong>count</strong>、<strong>min</strong>、<strong>max</strong>、<strong>sum</strong>といった計算がおこなえます。 $all キーワードを使えば、全種の値を計算できます。</span></p><p><span>たとえば、一番高い給与を取得するには:</span></p><p><span><code>/rest/Employee/salary/?$compute=max</code></span></p><p><span>全種の値を計算して JSONオブジェクトとして返すには:</span></p><p><span><code>/rest/Employee/salary/?$compute=$all</code></span></p><h2><span><a aria-hidden="true" class="anchor" id="manData.html_%E3%83%87%E3%83%BC%E3%82%BF%E3%83%A2%E3%83%87%E3%83%AB%E3%82%AF%E3%83%A9%E3%82%B9%E9%96%A2%E6%95%B0%E3%81%AE%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2583%25A2%25E3%2583%2587%25E3%2583%25AB%25E3%2582%25AF%25E3%2583%25A9%25E3%2582%25B9%25E9%2596%25A2%25E6%2595%25B0%25E3%2581%25AE%25E5%2591%25BC%25E3%2581%25B3%25E5%2587%25BA%25E3%2581%2597"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>データモデルクラス関数の呼び出し</span></h2><p><span>POSTリクエストを使って、ORDAデータモデルの <a href="#classFunctions.html">ユーザークラス関数</a> を呼び出すことで、ターゲットアプリケーションの公開APIを活用できます。 たとえば、City DataClassクラスに <code>getCity()</code>関数を定義した場合、次のリクエストで呼び出すことができます:</span></p><p><span><code>/rest/City/getCity</code></span></p><p><span>データはリクエストボディに含めます: <code>["Paris"]</code></span></p><blockquote><p><span>RESTサービスとして公開された4Dプロジェクトメソッドへの呼び出しは引き続きサポートされていますが、廃止予定となっています。</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="manData.html_%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E5%B1%9E%E6%80%A7%E3%81%AE%E9%81%B8%E6%8A%9E"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E5%258F%2596%25E5%25BE%2597%25E3%2581%2599%25E3%2582%258B%25E5%25B1%259E%25E6%2580%25A7%25E3%2581%25AE%25E9%2581%25B8%25E6%258A%259E"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>取得する属性の選択</span></h2><p><span>RESTレスポンスにどの属性を含めて返してもらうかを指定するには、初期リクエストに属性のパスを追加します(<em>例</em>: <code>Company(1)/name,revenues/</code>)。</span></p><p><span>このフィルターは次の方法で適用できます:</span></p><table><thead><tr><th>オブジェクト</th><th>シンタックス</th><th>例題</th></tr></thead><tbody><tr><td>データクラス</td><td>{dataClass}/{att1,att2...}</td><td>/People/firstName,lastName</td></tr><tr><td>エンティティのコレクション</td><td>{dataClass}/{att1,att2...}/?$filter="{filter}"</td><td>/People/firstName,lastName/?$filter="lastName='a@'"</td></tr><tr><td>特定のエンティティ</td><td>{dataClass}({ID})/{att1,att2...}</td><td>/People(1)/firstName,lastName</td></tr><tr><td></td><td>{dataClass}:{attribute}(value)/{att1,att2...}/</td><td>/People:firstName(Larry)/firstName,lastName/</td></tr><tr><td>エンティティセレクション</td><td>{dataClass}/{att1,att2...}/$entityset/{entitySetID}</td><td>/People/firstName/$entityset/528BF90F10894915A4290158B4281E61</td></tr></tbody></table><p><span>属性名はコンマ区切りで渡します (<em>例</em>:<code>/Employee/firstName,lastName,salary</code>)。ストレージ属性およびリレーション属性を渡すことができます。</span></p><h3><span><a aria-hidden="true" class="anchor" id="manData.html_%E4%BE%8B%E9%A1%8C"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E4%25BE%258B%25E9%25A1%258C"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</span></h3><p><span>エンティティを取得する際に、レスポンスに含める属性を指定する例をいくつか紹介します。</span></p><p><span>この方法は次を対象に使用できます:</span></p><ul><li><span>データクラス (データクラスの全エンティティまたはエンティティのコレクション)</span></li><li><span>特定のエンティティ</span></li><li><span>エンティティセット</span></li></ul><h4><span><a aria-hidden="true" class="anchor" id="manData.html_%E3%83%87%E3%83%BC%E3%82%BF%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E4%BE%8B"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2582%25AF%25E3%2583%25A9%25E3%2582%25B9%25E3%2581%25AE%25E4%25BE%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>データクラスの例</span></h4><p><span>次のリクエストは、People データクラス (データクラス全体または <code>$filter</code>の定義に応じたエンティティセレクション) から名字 (firstName) と名前 (lastName)属性のみを取得します。</span></p><p><span><code>GET/rest/People/firstName,lastName/</code></span></p><p><span><strong>結果</strong>:</span></p><pre><span><code class="hljs">{<span class="hljs-symbol">    __entityModel:</span> <span class="hljs-string">"People"</span>,<span class="hljs-symbol">    __COUNT:</span> <span class="hljs-number">4</span>,<span class="hljs-symbol">    __SENT:</span> <span class="hljs-number">4</span>,<span class="hljs-symbol">    __FIRST:</span> <span class="hljs-number">0</span>,<span class="hljs-symbol">    __ENTITIES:</span> [        {<span class="hljs-symbol">            __KEY:</span> <span class="hljs-string">"1"</span>,<span class="hljs-symbol">            __STAMP:</span> <span class="hljs-number">1</span>,<span class="hljs-symbol">            firstName:</span> <span class="hljs-string">"John"</span>,<span class="hljs-symbol">            lastName:</span> <span class="hljs-string">"Smith"</span>        },        {<span class="hljs-symbol">            __KEY:</span> <span class="hljs-string">"2"</span>,<span class="hljs-symbol">            __STAMP:</span> <span class="hljs-number">2</span>,<span class="hljs-symbol">            firstName:</span> <span class="hljs-string">"Susan"</span>,<span class="hljs-symbol">            lastName:</span> <span class="hljs-string">"O'Leary"</span>        },        {<span class="hljs-symbol">            __KEY:</span> <span class="hljs-string">"3"</span>,<span class="hljs-symbol">            __STAMP:</span> <span class="hljs-number">2</span>,<span class="hljs-symbol">            firstName:</span> <span class="hljs-string">"Pete"</span>,<span class="hljs-symbol">            lastName:</span> <span class="hljs-string">"Marley"</span>        },        {<span class="hljs-symbol">            __KEY:</span> <span class="hljs-string">"4"</span>,<span class="hljs-symbol">            __STAMP:</span> <span class="hljs-number">1</span>,<span class="hljs-symbol">            firstName:</span> <span class="hljs-string">"Beth"</span>,<span class="hljs-symbol">            lastName:</span> <span class="hljs-string">"Adams"</span>        }    ]}</code></span></pre><p><code>GET/rest/People/firstName,lastName/?$filter="lastName='A@'"/</code></p><p><strong>結果</strong>:</p><pre><code class="hljs">{<span class="hljs-symbol">    __entityModel:</span> <span class="hljs-string">"People"</span>,<span class="hljs-symbol">    __COUNT:</span> <span class="hljs-number">1</span>,<span class="hljs-symbol">    __SENT:</span> <span class="hljs-number">1</span>,<span class="hljs-symbol">    __FIRST:</span> <span class="hljs-number">0</span>,<span class="hljs-symbol">    __ENTITIES:</span> [        {<span class="hljs-symbol">            __KEY:</span> <span class="hljs-string">"4"</span>,<span class="hljs-symbol">            __STAMP:</span> <span class="hljs-number">4</span>,<span class="hljs-symbol">            firstName:</span> <span class="hljs-string">"Beth"</span>,<span class="hljs-symbol">            lastName:</span> <span class="hljs-string">"Adams"</span>        }    ]}</code></pre><h4><a aria-hidden="true" class="anchor" id="manData.html_%E7%89%B9%E5%AE%9A%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%81%AE%E4%BE%8B"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E7%2589%25B9%25E5%25AE%259A%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2581%25AE%25E4%25BE%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>特定エンティティの例</h4><p>次のリクエストは、People データクラスの特定エンティティについて、名字 (firstName) と名前(lastName) 属性のみを取得します。</p><p><code>GET /rest/People(3)/firstName,lastName/</code></p><p><strong>結果</strong>:</p><pre><code class="hljs">{<span class="hljs-symbol">    __entityModel:</span> <span class="hljs-string">"People"</span>,<span class="hljs-symbol">    __KEY:</span> <span class="hljs-string">"3"</span>,<span class="hljs-symbol">    __STAMP:</span> <span class="hljs-number">2</span>,<span class="hljs-symbol">    firstName:</span> <span class="hljs-string">"Pete"</span>,<span class="hljs-symbol">    lastName:</span> <span class="hljs-string">"Marley"</span>}</code></pre><p><code>GET /rest/People(3)/</code></p><p><strong>結果</strong>:</p><pre><code class="hljs">{<span class="hljs-symbol">    __entityModel:</span> <span class="hljs-string">"People"</span>,<span class="hljs-symbol">    __KEY:</span> <span class="hljs-string">"3"</span>,<span class="hljs-symbol">    __STAMP:</span> <span class="hljs-number">2</span>,<span class="hljs-symbol">    ID:</span> <span class="hljs-number">3</span>,<span class="hljs-symbol">    firstName:</span> <span class="hljs-string">"Pete"</span>,<span class="hljs-symbol">    lastName:</span> <span class="hljs-string">"Marley"</span>,<span class="hljs-symbol">    salary:</span> <span class="hljs-number">30000</span>,<span class="hljs-symbol">    employer:</span> {<span class="hljs-symbol">        __deferred:</span> {<span class="hljs-symbol">            uri:</span> <span class="hljs-string">"http://127.0.0.1:8081/rest/Company(3)"</span>,<span class="hljs-symbol">            __KEY:</span> <span class="hljs-string">"3"</span>        }    },<span class="hljs-symbol">    fullName:</span> <span class="hljs-string">"Pete Marley"</span>,<span class="hljs-symbol">    employerName:</span> <span class="hljs-string">"microsoft"</span>}</code></pre><h4><a aria-hidden="true" class="anchor" id="manData.html_%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E4%BE%8B"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2582%25BB%25E3%2583%2583%25E3%2583%2588%25E3%2581%25AE%25E4%25BE%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>エンティティセットの例</h4><p><a href="#manData.html_%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2582%25BB%25E3%2583%2583%25E3%2583%2588%25E3%2581%25AE%25E4%25BD%259C%25E6%2588%2590%25E3%2581%25A8%25E7%25AE%25A1%25E7%2590%2586">エンティティセットの作成</a> 後に、どの属性を返すかを指定して、エンティティセットの情報をフィルターできます:</p><p><code>GET/rest/People/firstName,employer.name/$entityset/BDCD8AABE13144118A4CF8641D5883F5?$expand=employer</code></p><h2><a aria-hidden="true" class="anchor" id="manData.html_%E7%94%BB%E5%83%8F%E5%B1%9E%E6%80%A7%E3%81%AE%E8%A1%A8%E7%A4%BA"></a><a aria-hidden="true" class="hash-link" href="#manData.html_%25E7%2594%25BB%25E5%2583%258F%25E5%25B1%259E%25E6%2580%25A7%25E3%2581%25AE%25E8%25A1%25A8%25E7%25A4%25BA"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>画像属性の表示</h2><p>画像属性の全体像を表示させるには、次のように書きます:</p><p><code>GET/rest/Employee(1)/photo?$imageformat=best&amp;$version=1&amp;$expand=photo</code></p><p>画像形式についての詳細は <a href="#imageformat.html"><code>$imageformat</code></a> を参照ください。 versionパラメーターについての詳細は <a href="#version.html"><code>$version</code></a>を参照ください。</p><h2><a aria-hidden="true" class="anchor" id="manData.html_blob%E5%B1%9E%E6%80%A7%E3%81%AE%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF%E4%BF%9D%E5%AD%98"></a><a aria-hidden="true" class="hash-link" href="#manData.html_blob%25E5%25B1%259E%25E6%2580%25A7%25E3%2581%25AE%25E3%2583%2587%25E3%2582%25A3%25E3%2582%25B9%25E3%2582%25AF%25E4%25BF%259D%25E5%25AD%2598"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>BLOB属性のディスク保存</h2><p>データクラスに保存されている BLOB をディスクに保存するには、次のように書きます:</p><p><code>GET/rest/Company(11)/blobAtt?$binary=true&amp;$expand=blobAtt</code></p><h2><a aria-hidden="true" class="anchor" id="manData.html_1%E4%BB%B6%E3%81%AE%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%81%AE%E5%8F%96%E5%BE%97"></a><a aria-hidden="true" class="hash-link" href="#manData.html_1%25E4%25BB%25B6%25E3%2581%25AE%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2581%25AE%25E5%258F%2596%25E5%25BE%2597"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>1件のエンティティの取得</h2><p>エンティティを 1件のみ取得したい場合には <a href="#manData.html_dataclassattributevalue"><code>{dataClass}:{attribute}(value)</code></a>シンタックスを利用できます。 これは、データクラスの主キーに基づかないリレーション検索をしたい場合に便利です。 たとえば:</p><p><code>GET /rest/Company:companyCode("Acme001")</code></p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#genInfo.html"><span class="arrow-prev">←</span><span>サーバー情報の取得</span></a><a class="docs-next button" href="#classFunctions.html"><span>ORDAクラス関数の呼び出し</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#manData.html_%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2581%25AE%25E3%2582%25AF%25E3%2582%25A8%25E3%2583%25AA">データのクエリ</a></li><li><a href="#manData.html_%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2581%25AE%25E8%25BF%25BD%25E5%258A%25A0%25E3%2583%25BB%25E7%25B7%25A8%25E9%259B%2586%25E3%2583%25BB%25E5%2589%258A%25E9%2599%25A4">エンティティの追加・編集・削除</a></li><li><a href="#manData.html_%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2581%25AE%25E3%2583%258A%25E3%2583%2593%25E3%2582%25B2%25E3%2583%25BC%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3">データのナビゲーション</a></li><li><a href="#manData.html_%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2582%25BB%25E3%2583%2583%25E3%2583%2588%25E3%2581%25AE%25E4%25BD%259C%25E6%2588%2590%25E3%2581%25A8%25E7%25AE%25A1%25E7%2590%2586">エンティティセットの作成と管理</a></li><li><a href="#manData.html_%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2581%25AE%25E8%25A8%2588%25E7%25AE%2597">データの計算</a></li><li><a href="#manData.html_%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2583%25A2%25E3%2583%2587%25E3%2583%25AB%25E3%2582%25AF%25E3%2583%25A9%25E3%2582%25B9%25E9%2596%25A2%25E6%2595%25B0%25E3%2581%25AE%25E5%2591%25BC%25E3%2581%25B3%25E5%2587%25BA%25E3%2581%2597">データモデルクラス関数の呼び出し</a></li><li><a href="#manData.html_%25E5%258F%2596%25E5%25BE%2597%25E3%2581%2599%25E3%2582%258B%25E5%25B1%259E%25E6%2580%25A7%25E3%2581%25AE%25E9%2581%25B8%25E6%258A%259E">取得する属性の選択</a><ul class="toc-headings"><li><a href="#manData.html_%25E4%25BE%258B%25E9%25A1%258C">例題</a></li></ul></li><li><a href="#manData.html_%25E7%2594%25BB%25E5%2583%258F%25E5%25B1%259E%25E6%2580%25A7%25E3%2581%25AE%25E8%25A1%25A8%25E7%25A4%25BA">画像属性の表示</a></li><li><a href="#manData.html_blob%25E5%25B1%259E%25E6%2580%25A7%25E3%2581%25AE%25E3%2583%2587%25E3%2582%25A3%25E3%2582%25B9%25E3%2582%25AF%25E4%25BF%259D%25E5%25AD%2598">BLOB属性のディスク保存</a></li><li><a href="#manData.html_1%25E4%25BB%25B6%25E3%2581%25AE%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2581%25AE%25E5%258F%2596%25E5%25BE%2597">1件のエンティティの取得</a></li></ul></nav></div></div></body></html>