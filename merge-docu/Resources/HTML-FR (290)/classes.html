<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Classes · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="## Aperçu" name="description" /><meta content="fr" name="docsearch:language" /><meta content="Classes · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="## Aperçu" property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#classes.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Classes<a aria-hidden="true" class="anchor" id="classes.html"></a></h1></header><article><div><h2><span><a aria-hidden="true" class="anchor" id="classes.html_aper%C3%A7u"></a><a aria-hidden="true" class="hash-link" href="#classes.html_aper%25C3%25A7u"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Aperçu</span></h2><p><span>Le langage 4D prend en charge le concept de<strong>classes</strong>. Dans un langage de programmation,l'utilisation d'une classe vous permet de définir le comportementd'un objet avec des propriétés et des fonctionsassociées.</span></p><p><span>Chaque objet est une instance de sa classe. Une foisqu'une classe utilisateur (user class) est définie, vous pouvez<strong>instancier</strong> des objets de cette classe n'importe oùdans votre code. Une classe peut s'étendre à une autre classe avecle mot-clé <a href="#classes.html_class-extends-classname"><code>extend</code></a>,puis hériter de ses <a href="#classes.html_function">fonctions</a>et de ses propriétés (<a href="#classes.html_class-constructor">statiques</a> and <a href="#classes.html_function-get-and-function-set">calculés</a>).</span></p><blockquote><p><span>Les modèles de classe 4D et de classe JavaScript sontsimilaires, et sont basés sur une chaîne de prototypes.</span></p></blockquote><p><span>Par exemple, vous pouvez créer une classe<code>Person</code> avec la définition suivante :</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-comment">//Class: Person.4dm</span><span class="hljs-keyword">Class constructor</span>(<span class="hljs-variable">$firstname </span>: Text; <span class="hljs-variable">$lastname </span>: Text)    <span class="hljs-literal">This</span>.firstName:=<span class="hljs-variable">$firstname</span>    <span class="hljs-literal">This</span>.lastName:=<span class="hljs-variable">$lastname</span><span class="hljs-keyword">Function</span><span class="hljs-function"> get fullName</span>() -&gt; <span class="hljs-variable">$fullName </span>: text    <span class="hljs-variable">$fullName</span>:=<span class="hljs-literal">This</span>.firstName+<span class="hljs-string">" "</span>+<span class="hljs-literal">This</span>.lastName<span class="hljs-keyword">Function</span><span class="hljs-function"> sayHello</span>()-&gt;<span class="hljs-variable">$welcome </span>: Text    <span class="hljs-variable">$welcome</span>:=<span class="hljs-string">"Hello "</span>+<span class="hljs-literal">This</span>.fullName</code></span></pre><p>Dans une méthode, créons une "Personne" :</p><pre><code class="hljs">var <span class="hljs-variable">$person</span> : cs.Person <span class="hljs-regexp">//</span>objet de classe Personvar <span class="hljs-variable">$hello</span> : Text<span class="hljs-variable">$person</span>:=cs.Person.new(<span class="hljs-string">"John"</span>;<span class="hljs-string">"Doe"</span>)<span class="hljs-regexp">//</span> <span class="hljs-variable">$person</span>:{firstName: <span class="hljs-string">"John"</span>; lastName: <span class="hljs-string">"Doe"</span>; fullName: <span class="hljs-string">"John Doe"</span>}<span class="hljs-variable">$hello</span>:=<span class="hljs-variable">$person</span>.sayHello() <span class="hljs-regexp">//</span><span class="hljs-string">"Hello John Doe"</span></code></pre><h2><a aria-hidden="true" class="anchor" id="classes.html_gestion-des-classes"></a><a aria-hidden="true" class="hash-link" href="#classes.html_gestion-des-classes"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Gestion des classes</h2><h3><a aria-hidden="true" class="anchor" id="classes.html_d%C3%A9finition-dune-classe"></a><a aria-hidden="true" class="hash-link" href="#classes.html_d%25C3%25A9finition-dune-classe"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Définition d'une classe</h3><p>Une classe utilisateur dans 4D est définie par un fichier deméthode spécifique (.4dm), stocké dans le dossier<code>/Project/Sources/Classes/</code>. Le nom du fichier est lenom de la classe.</p><p>Lorsque vous nommez des classes, gardez à l'esprit les règlessuivantes :</p><ul><li>Un <a href="#classes.html_classes">nom de classe</a> doit êtreconforme aux <a href="#classes.html_object-properties">règles denommage des propriétés</a>.</li><li>Les noms de classe sont sensibles à la casse.</li><li>Il n'est pas recommandé de donner le même nom à une classe et àune table de base de données, afin d'éviter tout conflit.</li></ul><p>Par exemple, si vous souhaitez définir une classe nommée"Polygon", vous devez créer le fichier suivant :</p><ul><li>Dossier Project<ul><li>Project</li></ul></li></ul><pre><code class="hljs">    * Sources        - Classes            + Polygon.4dm</code></pre><h3><a aria-hidden="true" class="anchor" id="classes.html_supprimer-une-classe"></a><a aria-hidden="true"class="hash-link" href="#classes.html_supprimer-une-classe"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Supprimer une classe</h3><p>Pour supprimer une classe existante, vous pouvez :</p><ul><li>sur votre disque, supprimer le fichier de classe .4dm dudossier "Classes",</li><li>dans l'Explorateur 4D, sélectionner la classe et cliquer sur<img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Users/MinussNew.png" />ou choisir <strong>Déplacer vers la corbeille</strong> dans le menucontextuel.</li></ul><h3><a aria-hidden="true" class="anchor" id="classes.html_utiliser-linterface-4d"></a><a aria-hidden="true"class="hash-link" href="#classes.html_utiliser-linterface-4d"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Utiliser l'interface 4D</h3><p>Les fichiers de classe sont automatiquement stockés àl'emplacement approprié lorsqu'ils sont créés via l'interface de4D, soit via le menu <strong>Fichier</strong>, soit vial'Explorateur.</p><h4><a aria-hidden="true" class="anchor" id="classes.html_menu-fichier-et-barre-doutils"></a><a aria-hidden="true" class="hash-link" href="#classes.html_menu-fichier-et-barre-doutils"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Menu Fichier et barre d'outils</h4><p>Vous pouvez créer un nouveau fichier de classe pour le projet ensélectionnant <strong>Nouveau&gt; Classe...</strong> dans le menu<strong>Fichier</strong> de 4D Developer ou dans la barred'outils.</p><p>Vous pouvez également utiliser le raccourci<strong>Ctrl+Maj+Alt+k</strong>.</p><h4><a aria-hidden="true" class="anchor" id="classes.html_explorateur"></a><a aria-hidden="true" class="hash-link" href="#classes.html_explorateur"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Explorateur</h4><p>Dans la page <strong>Méthodes</strong> de l'Explorateur, lesclasses sont regroupées dans la catégorie<strong>Classes</strong>.</p><p>Pour créer une nouvelle classe, vous pouvez :</p><ul><li>sélectionnez la catégorie <strong>Classes</strong> et cliquezsur le bouton <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Users/PlussNew.png" />.</li><li>sélectionnez <strong>Nouvelle classe...</strong> dans le menud'actions en bas de la fenêtre de l'Explorateur ou dans le menucontextuel du groupe Classes. <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Concepts/newClass.png" /></li><li>sélectionnez <strong>Nouveau&gt; Classe...</strong> dans lemenu contextuel de la page d'accueil de l'Explorateur.</li></ul><h4><a aria-hidden="true" class="anchor" id="classes.html_prise-en-charge-du-code-de-classe"></a><a aria-hidden="true"class="hash-link" href="#classes.html_prise-en-charge-du-code-de-classe"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Prise en charge du code de classe</h4><p>Dans les différentes fenêtres 4D (éditeur de code, compilateur,débogueur, explorateur d'exécution), le code de classe estessentiellement géré comme une méthode projet avec quelquesspécificités :</p><ul><li>Dans l'éditeur de code :<ul><li>une classe ne peut pas être exécutée</li><li>une fonction de classe est un bloc de code</li><li><strong>Aller à définition...</strong> sur un objet membrepermet de rechercher des déclarations de fonction de classe; parexemple, "$o.f()" donnera comme résultat de recherche "Functionf".</li><li><strong>Chercher les références...</strong> sur la déclarationde fonction de classe recherche la fonction utilisée comme membred'objet; par exemple, "Function f" donnera comme résultat"$o.f()".</li></ul></li><li>Dans l'explorateur d'exécution et le Débogueur, les fonctionsde classe sont affichées avec le format &lt;ClassName&gt;constructor ou &lt;ClassName&gt;. &lt;FunctionName&gt; .</li></ul><h2><a aria-hidden="true" class="anchor" id="classes.html_class-stores"></a><a aria-hidden="true" class="hash-link" href="#classes.html_class-stores"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Class stores</h2><p>Les classes disponibles sont accessibles depuis leurs classstores. Deux class stores sont disponibles :</p><ul><li><code>cs</code> pour le class store utilisateur</li><li><code>4D</code> pour le class store intégré</li></ul><h3><a aria-hidden="true" class="anchor" id="classes.html_cs"></a><a aria-hidden="true" class="hash-link" href="#classes.html_cs"><svg aria-hidden="true" class="hash-link-icon"height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>cs</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_cs---classstore"></a><a aria-hidden="true" class="hash-link" href="#classes.html_cs---classstore"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>cs -&gt; classStore</h4><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>classStore</td><td>object</td><td>&lt;-</td><td>Class store utilisateur utilisateurs pour le projet ou lecomposant</td></tr></tbody></table><p>La commande <code>cs</code> retourne le class store utilisateurpour le projet ou le composant courant. La commande <code>cs</code>retourne le class store utilisateur pour le projet ou le composantcourant. Par défaut, seules les <a href="#ordaClasses.html">classesORDA</a> du projet sont disponibles.</p><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple"></a><a aria-hidden="true" class="hash-link"href="#classes.html_exemple"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Vous souhaitez créer une nouvelle instance d'un objet de<code>myClass</code> :</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$instance</span>:=cs.myClass.<span class="hljs-function">new</span>()</code></pre><h3><a aria-hidden="true" class="anchor" id="classes.html_4d"></a><a aria-hidden="true" class="hash-link" href="#classes.html_4d"><svg aria-hidden="true" class="hash-link-icon"height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>4D</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_4d---classstore"></a><a aria-hidden="true" class="hash-link" href="#classes.html_4d---classstore"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4D -&gt; classStore</h4><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>classStore</td><td>object</td><td>&lt;-</td><td>Class store 4D</td></tr></tbody></table><p>La commande <code>4D</code> retourne le class store des classes4D intégrées disponibles. Elle donne accès à des API spécifiquestelles que <a href="#CryptoKeyClass.html">CryptoKey</a>.</p><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple-1"></a><a aria-hidden="true" class="hash-link" href="#classes.html_exemple-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Vous souhaitez créer une nouvelle clé dans la classe<code>CryptoKey</code> :</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$key</span>:=4D.CryptoKey.<span class="hljs-function">new</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"type"</span>;<span class="hljs-string">"ECDSA"</span>;<span class="hljs-string">"curve"</span>;<span class="hljs-string">"prime256v1"</span>))</code></pre><h2><a aria-hidden="true" class="anchor" id="classes.html_lobjet-classe"></a><a aria-hidden="true" class="hash-link" href="#classes.html_lobjet-classe"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>L'objet classe</h2><p>Lorsqu'une classe est <a href="#classes.html_class-definition">définie</a> dans le projet, elleest chargée dans l'environnement de langage 4D. Une classe est unobjet de la <a href="#ClassClass.html">classe "Class"</a>. Un objetclasse possède les propriétés et fonctions suivantes :</p><ul><li>chaîne <a href="#classes.html_name"><code>name</code></a></li><li>objet <a href="#classes.html_superclass"><code>superclass</code></a> (null siaucun)</li><li>fonction <a href="#classes.html_new"><code>new()</code></a>,permettant d'instancier les objets de la classe.</li></ul><p>De plus, un objet classe peut référencer un objet <a href="#classes.html_class-constructor"><code>constructor</code></a>(facultatif).</p><p>Un objet de classe est un <a href="#shared.html">objetpartagé</a> et est donc accessible simultanément à partir dedifférents processus 4D.</p><h3><a aria-hidden="true" class="anchor" id="classes.html_h%C3%A9ritage"></a><a aria-hidden="true" class="hash-link" href="#classes.html_h%25C3%25A9ritage"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Héritage</h3><p>Si une classe hérite d'une autre classe (c'est-à-dire que lemot-clé <a href="#classes.html_class-extends-classname">Classextends</a> est utilisé dans sa définition), la classe parente estsa <a href="#classes.html_superclass"><code>superclass</code></a>.</p><p>Lorsque 4D ne trouve pas de fonction ou de propriété dans uneclasse, il la recherche dans sa <a href="#classes.html_superclass"><code>superclass</code></a>; s'il ne latrouve pas, 4D continue la recherche dans la superclasse de lasuperclasse, et ainsi de suite, jusqu'à ce qu'il n'y ait plus desuperclasse (tous les objets héritent de la superclasse"Object").</p><h2><a aria-hidden="true" class="anchor" id="classes.html_mots-cl%C3%A9s-de-classe"></a><a aria-hidden="true"class="hash-link" href="#classes.html_mots-cl%25C3%25A9s-de-classe"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Mots-clés de classe</h2><p>Des mots-clés 4D spécifiques peuvent être utilisés dans lesdéfinitions de classe :</p><ul><li><code>Function &lt;Name&gt;</code> pour définir les fonctionsde classe des objets.</li><li><code>Function get &lt;Name&gt;</code> et <code>Function set&lt;Name&gt;</code> pour définir les propriétés calculées desobjets.</li><li><code>Class constructor</code> pour définir les propriétésstatiques des objets.</li><li><code>Class extends &lt;ClassName&gt;</code> pour définirl'héritage.</li></ul><h3><a aria-hidden="true" class="anchor" id="classes.html_function"></a><a aria-hidden="true" class="hash-link"href="#classes.html_function"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>Function</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_syntaxe"></a><a aria-hidden="true" class="hash-link"href="#classes.html_syntaxe"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntaxe</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span> &lt;name&gt;({<span class="hljs-variable">$parameterName </span>: type; ...}){-&gt;<span class="hljs-variable">$parameterName </span>: type}<span class="hljs-comment">// code</span></code></pre><p>Les fonctions de classe sont des propriétés spécifiques de laclasse. Ce sont des objets de la classe <a href="#classes.html_about-4dfunction-objects">4D.Function</a>.</p><p>Dans le fichier de définition de classe, les déclarations defonction utilisent le mot-clé <code>Function</code>, et le nom dela fonction. Le nom de la fonction doit être conforme aux <a href="#classes.html_object-properties">règles de nommage despropriétés</a>.</p><blockquote><p><strong>Astuce :</strong> Si vous préfixez le nom d'une fonctionpar un trait de soulignement ("_"), elle ne sera pas proposée parles fonctionnalités d'auto-complétion dans l'éditeur de code 4D.Par exemple, si vous déclarez <code>Function_myPrivateFunction</code> dans <code>MyClass</code>, elle ne serapas proposée dans l'éditeur de code lorsque vous tapez<code>"cs.MyClass. "</code>.</p></blockquote><p>Immédiatement après le nom de la fonction, les <a href="#classes.html_parameters">paramètres</a> de la fonction peuventêtre déclarés avec un nom et un type de données affectés, y comprisle paramètre de retour (facultatif). Par exemple :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span><span class="hljs-function"> computeArea</span>(<span class="hljs-variable">$width </span>: Integer; <span class="hljs-variable">$height </span>: Integer)-&gt;<span class="hljs-variable">$area </span>: Integer</code></pre><p>Dans une fonction de classe, la commande <code>This</code> estutilisée comme instance d'objet. Par exemple :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span><span class="hljs-function"> setFullname</span>(<span class="hljs-variable">$firstname </span>: Text; <span class="hljs-variable">$lastname </span>: Text)    <span class="hljs-literal">This</span>.firstName:=<span class="hljs-variable">$firstname</span>    <span class="hljs-literal">This</span>.lastName:=<span class="hljs-variable">$lastname</span><span class="hljs-keyword">Function</span><span class="hljs-function"> getFullname</span>()-&gt;<span class="hljs-variable">$fullname </span>: Text    <span class="hljs-variable">$fullname</span>:=<span class="hljs-literal">This</span>.firstName+<span class="hljs-string">" "</span>+<span class="hljs-function">Uppercase</span>(<span class="hljs-literal">This</span>.lastName)</code></pre><p>Pour une fonction de classe, la commande <code>Current methodname</code> retourne :<code>&lt;ClassName&gt;.&lt;FunctionName&gt;</code>, par exemple"MyClass.myFunction".</p><p>Dans le code de l'application, les fonctions de classes sontappelées comme des méthodes membres des instances d'objets etpeuvent recevoir des <a href="#classes.html_class-function-parameters">paramètres</a> si besoin.Les syntaxes suivantes sont prises en charge :</p><ul><li>utilisation de l'opérateur <code>()</code>. Par exemple,<code>myObject.methodName("hello")</code></li><li>utilisation d'une méthode membre de la classe "4D.Function" :<ul><li><a href="#classes.html_apply"><code>apply()</code></a></li><li><a href="#classes.html_call"><code>call()</code></a></li></ul></li></ul><blockquote><p><strong>Thread-safety :</strong> Si une fonction de classe n'estpas thread-safe et est appelée par une méthode ayant l'attribut"Peut être exécutée dans un process préemptif" : - le compilateurne génère aucune erreur (ce qui est différent par rapport auxméthodes classiques), - une erreur est générée par 4D à l'exécutionuniquement.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="classes.html_param%C3%A8tres"></a><a aria-hidden="true" class="hash-link" href="#classes.html_param%25C3%25A8tres"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Paramètres</h4><p>Les paramètres des fonctions sont déclarés via le nom duparamètre et son type, séparés par deux-points. Le nom du paramètredoit être conforme aux <a href="#classes.html_object-properties">règles de nommage despropriétés</a>. Les paramètres multiples (et leurs types) sontséparés par des points-virgules (;).</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span><span class="hljs-function"> add</span>(<span class="hljs-variable">$x</span>; <span class="hljs-variable">$y </span>: Variant; <span class="hljs-variable">$z </span>: Integer; <span class="hljs-variable">$xy </span>: Object)</code></pre><blockquote><p>Si le type n'est pas fourni, le paramètre sera défini comme<code>Variant</code>.</p></blockquote><p>La <a href="#classes.html_sequential-parameters">syntaxe 4Dclassique</a> pour les paramètres de méthodes peut être utiliséepour déclarer les paramètres des fonctions de classes. Les deuxsyntaxes peuvent être mélangées. Par exemple :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span><span class="hljs-function"> add</span>(<span class="hljs-variable">$x </span>: Integer)<span class="hljs-keyword">    var</span> <span class="hljs-variable">$2</span>; <span class="hljs-variable">$value </span>: Integer<span class="hljs-keyword">    var</span> <span class="hljs-variable">$0 </span>: Text    <span class="hljs-variable">$value</span>:=<span class="hljs-variable">$x</span>+<span class="hljs-variable">$2</span>    <span class="hljs-variable">$0</span>:=<span class="hljs-function">String</span>(<span class="hljs-variable">$value</span>)</code></pre><h4><a aria-hidden="true" class="anchor" id="classes.html_valeur-retourn%C3%A9e"></a><a aria-hidden="true"class="hash-link" href="#classes.html_valeur-retourn%25C3%25A9e"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Valeur retournée</h4><p>Vous déclarez le paramètre de retour d'une fonction (optionnel)en ajoutant une flèche (<code>-&gt;</code>) et la définition duparamètre de retour après la liste des paramètres d'entrée, ou lesdeux points (<code>:</code>) et le tye de paramètre de retouruniquement. Par exemple :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span><span class="hljs-function"> add</span>(<span class="hljs-variable">$x </span>: Variant; <span class="hljs-variable">$y </span>: Integer)-&gt;<span class="hljs-variable">$result </span>: Integer    <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$x</span>+<span class="hljs-variable">$y</span></code></pre><p>Vous pouvez également déclarer le paramètre de retour enajoutant seulement <code>: type</code> et utiliser l'expression<a href="#classes.html_return-expression"><code>return</code></a>(elle mettra également fin à l'exécution de la fonction). Parexemple :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span><span class="hljs-function"> add</span>(<span class="hljs-variable">$x </span>: Variant; <span class="hljs-variable">$y </span>: Integer): Integer    <span class="hljs-comment">// du code</span>    return <span class="hljs-variable">$x</span>+<span class="hljs-variable">$y</span></code></pre><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple-1-1"></a><a aria-hidden="true" class="hash-link" href="#classes.html_exemple-1-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// Class: Rectangle</span><span class="hljs-keyword">Class constructor</span>(<span class="hljs-variable">$width </span>: Integer; <span class="hljs-variable">$height </span>: Integer)    <span class="hljs-literal">This</span>.name:=<span class="hljs-string">"Rectangle"</span>    <span class="hljs-literal">This</span>.height:=<span class="hljs-variable">$height</span>    <span class="hljs-literal">This</span>.width:=<span class="hljs-variable">$width</span><span class="hljs-comment">// Définition de fonction</span><span class="hljs-keyword">Function</span><span class="hljs-function"> getArea</span>()-&gt;<span class="hljs-variable">$result </span>: Integer    <span class="hljs-variable">$result</span>:=(<span class="hljs-literal">This</span>.height)*(<span class="hljs-literal">This</span>.width)</code></pre><pre><code class="hljs css language-4d"><span class="hljs-comment">// Dans une méthode projet</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$rect </span>: cs.Rectangle<span class="hljs-keyword">var</span> <span class="hljs-variable">$area </span>: Real<span class="hljs-variable">$rect</span>:=cs.Rectangle.<span class="hljs-function">new</span>(<span class="hljs-number">50</span>;<span class="hljs-number">100</span>)  <span class="hljs-variable">$area</span>:=<span class="hljs-variable">$rect</span>.<span class="hljs-function">getArea</span>() <span class="hljs-comment">//5000</span></code></pre><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple-2"></a><a aria-hidden="true" class="hash-link" href="#classes.html_exemple-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><p>Dans cet exemple, nous utilisons <a href="#classes.html_return-expression"><code>l'expressionreturn</code></a>:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span><span class="hljs-function"> getRectArea</span>(<span class="hljs-variable">$width </span>: Integer; <span class="hljs-variable">$height </span>: Integer) : Integer<span class="hljs-keyword">    If</span> (<span class="hljs-variable">$width </span>&gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable">$height </span>&gt; <span class="hljs-number">0</span>)        return <span class="hljs-variable">$width </span>* <span class="hljs-variable">$height</span><span class="hljs-keyword">    Else</span>        return <span class="hljs-number">0</span><span class="hljs-keyword">    End if</span></code></pre><h3><a aria-hidden="true" class="anchor" id="classes.html_function-get-et-function-set"></a><a aria-hidden="true" class="hash-link" href="#classes.html_function-get-et-function-set"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>Function get</code> et <code>Functionset</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_syntaxe-1"></a><a aria-hidden="true" class="hash-link" href="#classes.html_syntaxe-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntaxe</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span> get &lt;name&gt;()-&gt;<span class="hljs-variable">$result </span>: type<span class="hljs-comment">// code</span></code></pre><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span> set &lt;name&gt;(<span class="hljs-variable">$parameterName </span>: type)<span class="hljs-comment">// code</span></code></pre><p><code>Function get</code> et <code>Function set</code> sont desaccesseurs définissant des <strong>propriétés calculées</strong>dans la classe. Une propriété calculée est une propriété nomméeavec un type de données qui masque un calcul. Lorsqu'on accède à lavaleur d'une propriété calculée, 4D substitue le code del'accesseur correspondant :</p><ul><li>lorsque la propriété est lue, <code>Function get</code> estexécutée,</li><li>lorsque la propriété est écrite, <code>Function set</code> estexécutée.</li></ul><p>Si la propriété n'est pas accédée, le code n'est jamaisexécuté.</p><p>Les propriétés calculées sont conçues pour gérer les données quin'ont pas besoin d'être conservées en mémoire. Elles sontgénéralement basées sur des propriétés persistantes. Par exemple,si un objet de classe contient comme propriété persistante le<em>prix brut</em> et le <em>taux de TVA</em>, le <em>prix net</em>pourrait être traité par une propriété calculée.</p><p>Dans le fichier de définition de la classe, les déclarations depropriétés calculées utilisent les mots-clés <code>Functionget</code> (le <em>getter</em>) et <code>Function set</code> (le<em>setter</em>), suivis du nom de la propriété.</p><p>Dans le fichier de définition de la classe, les déclarations depropriétés calculées utilisent les mots-clés <code>Functionget</code> (le <em>getter</em>) et <code>Function set</code> (le<em>setter</em>), suivis du nom de la propriété.</p><p>Dans le fichier de définition de la classe, les déclarations depropriétés calculées utilisent les mots-clés <code>Functionget</code> (le <em>getter</em>) et <code>Function set</code> (le<em>setter</em>), suivis du nom de la propriété. Le nom doit êtreconforme aux <a href="#classes.html_object-properties">règles denommage des propriétés</a>.</p><p><code>Function get</code> retourne une valeur du type de lapropriété et <code>Function set</code> prend un paramètre du typede la propriété. Les deux arguments doivent être conformes aux<a href="#classes.html_parameters">paramètres de fonction</a>standard.</p><p>Lorsque les deux fonctions sont définies, la propriété calculéeest en <strong>lecture-écriture</strong>. Si seule une<code>Function get</code> est définie, la propriété calculée est en<strong>lecture seule</strong>. Dans ce cas, une erreur estretournée si le code tente de modifier la propriété. Si seule une<code>Function set</code> est définie, 4D retourne<em>undefined</em> lorsque la propriété est lue.</p><p>Le type de la propriété calculée est défini par la déclarationde type <code>$return</code> du <em>getter</em>. Il peut s'agir den'importe quel <a href="#object.html">type de propriétévalide</a>.</p><blockquote><p>Assigner <em>undefined</em> à une propriété d'objet efface savaleur tout en préservant son type. Pour ce faire, la<code>Function get</code> est d'abord appelée pour récupérer letype de valeur, puis <code>Function set</code> est appelée avec unevaleur vide de ce type.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple-1-2"></a><a aria-hidden="true" class="hash-link" href="#classes.html_exemple-1-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">//Class: Person.4dm</span><span class="hljs-keyword">Class constructor</span>(<span class="hljs-variable">$firstname </span>: Text; <span class="hljs-variable">$lastname </span>: Text)    <span class="hljs-literal">This</span>.firstName:=<span class="hljs-variable">$firstname</span>    <span class="hljs-literal">This</span>.lastName:=<span class="hljs-variable">$lastname</span><span class="hljs-keyword">Function</span><span class="hljs-function"> get fullName</span>() -&gt; <span class="hljs-variable">$fullName </span>: Text    <span class="hljs-variable">$fullName</span>:=<span class="hljs-literal">This</span>.firstName+<span class="hljs-string">" "</span>+<span class="hljs-literal">This</span>.lastName<span class="hljs-keyword">Function</span><span class="hljs-function"> set fullName</span>( <span class="hljs-variable">$fullName </span>: Text )    <span class="hljs-variable">$p</span>:=<span class="hljs-function">Position</span>(<span class="hljs-string">" "</span>; <span class="hljs-variable">$fullName</span>)    <span class="hljs-literal">This</span>.firstName:=<span class="hljs-function">Substring</span>(<span class="hljs-variable">$fullName</span>; <span class="hljs-number">1</span>; <span class="hljs-variable">$p</span><span class="hljs-number">-1</span>)    <span class="hljs-literal">This</span>.lastName:=<span class="hljs-function">Substring</span>(<span class="hljs-variable">$fullName</span>; <span class="hljs-variable">$p</span>+<span class="hljs-number">1</span>)</code></pre><pre><code class="hljs css language-4d"><span class="hljs-comment">//dans une méthode projet</span><span class="hljs-variable">$fullName</span>:=<span class="hljs-variable">$person</span>.fullName <span class="hljs-comment">// Function get fullName() est appelée</span><span class="hljs-variable">$person</span>.fullName:=<span class="hljs-string">"John Smith"</span> <span class="hljs-comment">// Function set fullName() est appelée</span></code></pre><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple-2-1"></a><a aria-hidden="true" class="hash-link" href="#classes.html_exemple-2-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">Function</span><span class="hljs-function"> get fullAddress</span>()-&gt;<span class="hljs-variable">$result </span>: Object    <span class="hljs-variable">$result</span>:=New object    <span class="hljs-variable">$result</span>.fullName:=<span class="hljs-literal">This</span>.fullName    <span class="hljs-variable">$result</span>.address:=<span class="hljs-literal">This</span>.address    <span class="hljs-variable">$result</span>.zipCode:=<span class="hljs-literal">This</span>.zipCode    <span class="hljs-variable">$result</span>.city:=<span class="hljs-literal">This</span>.city    <span class="hljs-variable">$result</span>.state:=<span class="hljs-literal">This</span>.state    <span class="hljs-variable">$result</span>.country:=<span class="hljs-literal">This</span>.country </code></pre><h3><a aria-hidden="true" class="anchor" id="classes.html_class-constructor"></a><a aria-hidden="true" class="hash-link" href="#classes.html_class-constructor"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>Class Constructor</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_syntaxe-2"></a><a aria-hidden="true" class="hash-link" href="#classes.html_syntaxe-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntaxe</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// Class: MyClass</span><span class="hljs-function">Class Constructor</span>({<span class="hljs-variable">$parameterName </span>: type; ...})<span class="hljs-comment">// code</span><span class="hljs-comment">// code</span></code></pre><p>Une fonction class constructor, qui accepte des <a href="#classes.html_parameters">paramètres</a>, peut être utilisée pourdéfinir une classe utilisateur.</p><p>Dans ce cas, lorsque vous appelez la fonction <a href="#classes.html_new"><code>new()</code></a>, le class constructorest appelé avec les paramètres optionnellement passés à la fonction<code>new()</code>.</p><p>Pour une fonction class constructor, la commande <code>Currentmethod name</code> retourne :<code>&lt;ClassName&gt;:constructor</code>, par exemple"MyClass.constructor".</p><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple-"></a><a aria-hidden="true" class="hash-link"href="#classes.html_exemple-"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple :</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// Class: MyClass</span><span class="hljs-comment">// Class constructor de MyClass</span><span class="hljs-function">Class Constructor </span>(<span class="hljs-variable">$name </span>: Text)    <span class="hljs-literal">This</span>.name:=<span class="hljs-variable">$name</span></code></pre><pre><code class="hljs css language-4d"><span class="hljs-comment">// Dans une méthode projet</span><span class="hljs-comment">// Vous pouvez instancier un objet</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$o </span>: cs.MyClass<span class="hljs-variable">$o</span>:=cs.MyClass.<span class="hljs-function">new</span>(<span class="hljs-string">"HelloWorld"</span>)  <span class="hljs-comment">// $o = {"name":"HelloWorld"}</span></code></pre><h3><a aria-hidden="true" class="anchor" id="classes.html_class-extends-classname"></a><a aria-hidden="true"class="hash-link" href="#classes.html_class-extends-classname"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>Class extends &lt;ClassName&gt;</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_syntaxe-3"></a><a aria-hidden="true" class="hash-link" href="#classes.html_syntaxe-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntaxe</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// Class enfant</span><span class="hljs-keyword">Class extends</span> &lt;ParentClass&gt;</code></pre><p>Le mot-clé <code>Class extends</code> est utilisé dans unedéclaration de classe pour créer une classe utilisateur "enfant"d'une autre classe utilisateur. La classe "enfant" hérite de toutesles fonctions de la classe "parente".</p><p>L'extension de classe doit respecter les règles suivantes :</p><ul><li>Une classe utilisateur ne peut pas étendre une classe 4Dsystème (à l'exception de 4D.Object qui est étendue par défaut pourles classes utilisateurs)</li><li>Une classe utilisateur ne peut pas étendre une classeutilisateur d'un autre projet ou composant.</li><li>Une classe utilisateur ne peut pas s'étendre elle-même.</li><li>Il n'est pas possible d'étendre des classes de manièrecirculaire (i.e. "a" étend "b" qui étend "a").</li></ul><p>La violation de ces règles n'est pas détectable par l'éditeur decode ou l'interpréteur, seul le compilateur et la fonction<code>vérifier syntaxe</code> retourneront une erreur dans cecas.</p><p>Une classe étendue peut appeler le constructeur de sa classeparente en utilisant la commande <a href="#classes.html_super"><code>Super</code></a>.</p><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple-3"></a><a aria-hidden="true" class="hash-link" href="#classes.html_exemple-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>Cet exemple crée une classe nommée <code>Square</code> à partird'une classe nommée <code>Polygon</code>.</p><pre><code class="hljs css language-4d"><span class="hljs-comment">//Class: Square</span><span class="hljs-comment">//path: Classes/Square.4dm </span><span class="hljs-keyword">Class extends</span> Polygon<span class="hljs-keyword">Class constructor</span> (<span class="hljs-variable">$side </span>: Integer)    <span class="hljs-comment">// Il appelle le constructeur de la classe parente avec les longueurs</span>    <span class="hljs-comment">// fournies pour la largeur et la hauteur du polygone.</span><span class="hljs-function">    Super</span>(<span class="hljs-variable">$side</span>;<span class="hljs-variable">$side</span>)    <span class="hljs-comment">// Dans les classes dérivées, Super doit être appelé avant que vous puissiez</span>    <span class="hljs-comment">// utiliser 'This'.</span>    <span class="hljs-literal">This</span>.name:=<span class="hljs-string">"Square"</span><span class="hljs-keyword">    Function</span><span class="hljs-function"> getArea</span>()<span class="hljs-function">        C_LONGINT</span>(<span class="hljs-variable">$0</span>)        <span class="hljs-variable">$0</span>:=<span class="hljs-literal">This</span>.height*<span class="hljs-literal">This</span>.width</code></pre><h3><a aria-hidden="true" class="anchor" id="classes.html_super"></a><a aria-hidden="true" class="hash-link"href="#classes.html_super"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>Super</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_syntaxe-4"></a><a aria-hidden="true" class="hash-link" href="#classes.html_syntaxe-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntaxe</h4><pre><code class="hljs css language-4d">Super {( param{;...;paramN} )} {-&gt; Object}</code></pre><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>param</td><td>mixte</td><td>-&gt;</td><td>Paramètre(s) à passer au constructeur de la classe parente</td></tr><tr><td>Résultat</td><td>object</td><td>&lt;-</td><td>Parent de l'objet</td></tr></tbody></table><p>Le mot-clé <code>Super</code> permet d'appeler la<code>superclass</code>, i.e.</p><p><code>Super</code> peut être utilisé de deux différentesmanières :</p><ol><li>A l'intérieur du code de la fonction <a href="#classes.html_class-constructor">constructeur</a>,<code>Super</code> est une commande qui permet d'appeler leconstructeur de la superclass. Lorsqu'elle est utilisée dans unefonction constructeur, la commande <code>Super</code> est seule etdoit être appelée avant que le mot-clé <code>This</code> soitutilisé.</li></ol><ul><li>Si tous les class constructors dans l'arbre des héritages nesont pas appelés correctement, l'erreur -10748 et générée. Il estde la responsabilité du développeur 4D de s'assurer que tous lesappels sont valides.</li><li>Si la commande <code>This</code> est appelée sur un objet dontles superclasses n'ont pas été construites, l'erreur -10743 estgénérée.</li><li>Si <code>Super</code> est appelée en dehors d'un contexted'objet, ou sur un objet dont le constructeur de la superclasse adéjà été appelé, l'erreur -10746 est générée.</li></ul><pre><code class="hljs css language-4d"><span class="hljs-comment">// dans la fonction constructor de myClass</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$text1</span>; <span class="hljs-variable">$text2 </span>: Text<span class="hljs-function">Super</span>(<span class="hljs-variable">$text1</span>) <span class="hljs-comment">//appel du constructeur de la superclasse avec un paramètre text</span><span class="hljs-literal">This</span>.param:=<span class="hljs-variable">$text2 </span><span class="hljs-comment">// utilisation d'un second param</span></code></pre><ol start="2"><li>A l'intérieur d'une <a href="#classes.html_class-function">fonction de classe</a>,<code>Super</code> désigne le prototype de la superclasse et permetd'appeler une fonction de la hiérarchie de superclasses.</li></ol><pre><code class="hljs css language-4d">Super.<span class="hljs-function">doSomething</span>(<span class="hljs-number">42</span>) <span class="hljs-comment">//appelle la fonction "doSomething"   </span><span class="hljs-comment">//déclarée parmi les superclasses</span></code></pre><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple-1-3"></a><a aria-hidden="true" class="hash-link" href="#classes.html_exemple-1-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 1</h4><p>Cet exemple illustre l'utilisation de <code>Super</code> dans unclass constructor. La commande est appelée pour éviter de dupliquerles parties du constructeur qui sont communes aux classes<code>Rectangle</code> et <code>Square</code>.</p><pre><code class="hljs css language-4d"><span class="hljs-comment">// Class: Rectangle</span><span class="hljs-keyword">Class constructor</span>(<span class="hljs-variable">$width </span>: Integer; <span class="hljs-variable">$height </span>: Integer)    <span class="hljs-literal">This</span>.name:=<span class="hljs-string">"Rectangle"</span>    <span class="hljs-literal">This</span>.height:=<span class="hljs-variable">$height</span>    <span class="hljs-literal">This</span>.width:=<span class="hljs-variable">$width</span><span class="hljs-keyword">Function</span><span class="hljs-function"> sayName</span>()<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Hi, I am a "</span>+<span class="hljs-literal">This</span>.name+<span class="hljs-string">"."</span>)<span class="hljs-comment">// Définition de fonction</span><span class="hljs-keyword">Function</span><span class="hljs-function"> getArea</span>()<span class="hljs-keyword">    var</span> <span class="hljs-variable">$0 </span>: Integer    <span class="hljs-variable">$0</span>:=(<span class="hljs-literal">This</span>.height)*(<span class="hljs-literal">This</span>.width)<span class="hljs-comment">// Function definition</span><span class="hljs-keyword">Function</span><span class="hljs-function"> getArea</span>()<span class="hljs-keyword">    var</span> <span class="hljs-variable">$0 </span>: Integer    <span class="hljs-variable">$0</span>:=(<span class="hljs-literal">This</span>.height)*(<span class="hljs-literal">This</span>.width)</code></pre><pre><code class="hljs css language-4d"><span class="hljs-comment">//Class: Square</span><span class="hljs-keyword">Class extends</span> Rectangle<span class="hljs-keyword">Class constructor</span> (<span class="hljs-variable">$side </span>: Integer)    <span class="hljs-comment">// Elle appelle le class constructor de la classe parente en lui passant </span>    <span class="hljs-comment">// les longueurs fournies pour la largeur et hauteur du polygone</span><span class="hljs-function">    Super</span>(<span class="hljs-variable">$side</span>;<span class="hljs-variable">$side</span>)    <span class="hljs-comment">// Dans les classes dérivées, Super doit être appelé avant</span>    <span class="hljs-comment">// de pouvoir utiliser 'This'</span>    <span class="hljs-literal">This</span>.name:=<span class="hljs-string">"Square"</span><span class="hljs-keyword">Function</span><span class="hljs-function"> getArea</span>()<span class="hljs-function">    C_LONGINT</span>(<span class="hljs-variable">$0</span>)    <span class="hljs-variable">$0</span>:=<span class="hljs-literal">This</span>.height*<span class="hljs-literal">This</span>.width</code></pre><h4><a aria-hidden="true" class="anchor" id="classes.html_exemple-2-2"></a><a aria-hidden="true" class="hash-link" href="#classes.html_exemple-2-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple 2</h4><p>Cet exemple illustre l'utilisation de <code>Super</code> dansune fonction de classe. Vous avez créé la classe<code>Rectangle</code> contenant une fonction :</p><pre><code class="hljs css language-4d"><span class="hljs-comment">//Class: Rectangle</span><span class="hljs-keyword">Function</span><span class="hljs-function"> nbSides</span>()<span class="hljs-keyword">    var</span> <span class="hljs-variable">$0 </span>: Text    <span class="hljs-variable">$0</span>:=<span class="hljs-string">"I have 4 sides"</span></code></pre><p>Vous avez également créé la classe <code>Square</code> contenantune fonction qui appelle la fonction superclasse :</p><pre><code class="hljs css language-4d"><span class="hljs-comment">//Class: Square</span><span class="hljs-keyword">Class extends</span> Rectangle<span class="hljs-keyword">Function</span><span class="hljs-function"> description</span>()<span class="hljs-keyword">    var</span> <span class="hljs-variable">$0 </span>: Text    <span class="hljs-variable">$0</span>:=Super.<span class="hljs-function">nbSides</span>()+<span class="hljs-string">" which are all equal"</span></code></pre><p>Vous pouvez donc écrire dans une méthode projet :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$square </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$message </span>: Text<span class="hljs-variable">$square</span>:=cs.Square.<span class="hljs-function">new</span>()<span class="hljs-variable">$message</span>:=<span class="hljs-variable">$square</span>.<span class="hljs-function">description</span>() <span class="hljs-comment">//I have 4 sides which are all equal</span></code></pre><h3><a aria-hidden="true" class="anchor" id="classes.html_this"></a><a aria-hidden="true" class="hash-link"href="#classes.html_this"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>This</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_syntaxe-5"></a><a aria-hidden="true" class="hash-link" href="#classes.html_syntaxe-5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntaxe</h4><pre><code class="hljs css language-4d"><span class="hljs-literal">This</span> -&gt; Object</code></pre><table><thead><tr><th>Paramètres</th><th>Type</th><th></th><th>Description</th></tr></thead><tbody><tr><td>Résultat</td><td>object</td><td>&lt;-</td><td>Objet courant</td></tr></tbody></table><p>Le mot-clé <code>This</code> retourne une référence vers l'objeten cours de traitement. Dans 4D, il peut être utilisé dans <a href="https://doc.4d.com/4Dv19/help/command/page1470.html">différentscontextes</a>.</p><p>Dans la plupart des cas, la valeur de <code>This</code> estdéterminée par la manière dont une fonction est appelée. Il ne peutpas être défini par affectation lors de l'exécution, et il peutêtre différent à chaque fois que la fonction est appelée.</p><p>Lorsqu'une formule est appelée en tant que méthode membre d'unobjet, son <code>This</code> désigne l'objet sur lequel la méthodeest appelée. Par exemple :</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"prop"</span>;<span class="hljs-number">42</span>;<span class="hljs-string">"f"</span>;<span class="hljs-function">Formula</span>(<span class="hljs-literal">This</span>.prop))<span class="hljs-variable">$val</span>:=<span class="hljs-variable">$o</span>.f() <span class="hljs-comment">//42</span></code></pre><p>Lorsqu'une fonction <a href="#classes.html_class-constructor">class constructor</a> estutilisée (avec la fonction <a href="#classes.html_new"><code>new()</code></a>), son <code>This</code>désigne le nouvel objet en cours de construction.</p><pre><code class="hljs css language-4d"><span class="hljs-comment">//Class: ob</span>Class Constructor      <span class="hljs-comment">// Créer des propriétés en</span>    <span class="hljs-comment">// les assignant au This </span>    <span class="hljs-literal">This</span>.a:=<span class="hljs-number">42</span> </code></pre><pre><code class="hljs css language-4d"><span class="hljs-comment">// dans une méthode 4D  </span><span class="hljs-variable">$o</span>:=cs.ob.<span class="hljs-function">new</span>()<span class="hljs-variable">$val</span>:=<span class="hljs-variable">$o</span>.a <span class="hljs-comment">//42</span></code></pre><blockquote><p>En cas d'appel de la superclasse du constructeur depuis leconstructeur en utilisant le mot-clé <a href="#classes.html_super">Super</a>, n'oubliez pas que<code>This</code> ne doit pas être appelé avant le constructeur dela superclasse, sinon une erreur est générée. Voir <a href="#classes.html_example-1">cet exemple</a>.</p></blockquote><p>Dans tous les cas, <code>This</code> se réfère à l'objet surlequel la fonction a été appelée, comme s'il s'agissait d'unefonction de l'objet.</p><pre><code class="hljs css language-4d"><span class="hljs-comment">//Class: ob</span><span class="hljs-keyword">Function</span> f()    <span class="hljs-variable">$0</span>:=<span class="hljs-literal">This</span>.a+<span class="hljs-literal">This</span>.b</code></pre><p>Vous pouvez donc écrire dans une méthode projet :</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$o</span>:=cs.ob.<span class="hljs-function">new</span>()<span class="hljs-variable">$o</span>.a:=<span class="hljs-number">5</span><span class="hljs-variable">$o</span>.b:=<span class="hljs-number">3</span><span class="hljs-variable">$val</span>:=<span class="hljs-variable">$o</span>.f() <span class="hljs-comment">//8</span></code></pre><p>Dans cet exemple, l'objet affecté à la variable $o n'a pas depropriété <em>f</em>, il hérite de celle de sa classe. Comme<em>f</em> est appelée comme une méthode de $o, son<code>This</code> se réfère à $o.</p><h2><a aria-hidden="true" class="anchor" id="classes.html_commandes-de-classes"></a><a aria-hidden="true"class="hash-link" href="#classes.html_commandes-de-classes"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Commandes de classes</h2><p>Plusieurs commandes du langage 4D se rapportent à lamanipulation des classes.</p><h3><a aria-hidden="true" class="anchor" id="classes.html_ob-class"></a><a aria-hidden="true" class="hash-link"href="#classes.html_ob-class"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>OB Class</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_ob-class--object----object--null"></a><a aria-hidden="true" class="hash-link" href="#classes.html_ob-class--object----object--null"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>OB Class ( object ) -&gt; Object | Null</code></h4><p><code>OB Class</code> retourne la classe de l'objet passé enparamètre.</p><h3><a aria-hidden="true" class="anchor" id="classes.html_ob-instance-of"></a><a aria-hidden="true" class="hash-link" href="#classes.html_ob-instance-of"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>OB Instance of</code></h3><h4><a aria-hidden="true" class="anchor" id="classes.html_ob-instance-of--object--class----boolean"></a><a aria-hidden="true"class="hash-link" href="#classes.html_ob-instance-of--object--class----boolean"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>OB Instance of ( object ; class ) -&gt;Boolean</code></h4><p><code>OB Instance of</code> retourne <code>true</code> si<code>object</code> appartient à la <code>class</code> ou à l'unede ses classes héritées, et <code>false</code> sinon.</p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#shared.html"><span class="arrow-prev">←</span> <span>Objets etcollections partagés</span></a><a class="docs-next button" href="#control-flow.html"><span>Conditions et boucles</span><span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#classes.html_aper%25C3%25A7u">Aperçu</a></li><li><a href="#classes.html_gestion-des-classes">Gestion desclasses</a><ul class="toc-headings"><li><a href="#classes.html_d%25C3%25A9finition-dune-classe">Définition d'uneclasse</a></li><li><a href="#classes.html_supprimer-une-classe">Supprimer uneclasse</a></li><li><a href="#classes.html_utiliser-linterface-4d">Utiliserl'interface 4D</a></li></ul></li><li><a href="#classes.html_class-stores">Class stores</a><ul class="toc-headings"><li><a href="#classes.html_cs"><code>cs</code></a></li><li><a href="#classes.html_4d"><code>4D</code></a></li></ul></li><li><a href="#classes.html_lobjet-classe">L'objet classe</a><ul class="toc-headings"><li><a href="#classes.html_h%25C3%25A9ritage">Héritage</a></li></ul></li><li><a href="#classes.html_mots-cl%25C3%25A9s-de-classe">Mots-clésde classe</a><ul class="toc-headings"><li><a href="#classes.html_function"><code>Function</code></a></li><li><a href="#classes.html_function-get-et-function-set"><code>Functionget</code> et <code>Function set</code></a></li><li><a href="#classes.html_class-constructor"><code>ClassConstructor</code></a></li><li><a href="#classes.html_class-extends-classname"><code>Classextends &lt;ClassName&gt;</code></a></li><li><a href="#classes.html_super"><code>Super</code></a></li><li><a href="#classes.html_this"><code>This</code></a></li></ul></li><li><a href="#classes.html_commandes-de-classes">Commandes declasses</a><ul class="toc-headings"><li><a href="#classes.html_ob-class"><code>OB Class</code></a></li><li><a href="#classes.html_ob-instance-of"><code>OB Instanceof</code></a></li></ul></li></ul></nav></div></div></body></html>