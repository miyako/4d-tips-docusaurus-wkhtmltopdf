<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>SystemWorker · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Les System workers permettent au code 4D d'appeler n'importe quel process externe (une commande shell, PHP, etc.) sur la même machine. Les System workers sont appelés de manière asynchrone. En utilisant des callbacks, 4D permet de communiquer dans les deux sens."name="description" /><meta content="fr" name="docsearch:language" /><meta content="SystemWorker · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Les System workers permettent au code 4D d'appeler n'importe quel process externe (une commande shell, PHP, etc.) sur la même machine. Les System workers sont appelés de manière asynchrone. En utilisant des callbacks, 4D permet de communiquer dans les deux sens."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#SystemWorkerClass.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">SystemWorker<a aria-hidden="true" class="anchor" id="SystemWorkerClass.html"></a></h1></header><article><div><p><span>Les System workers permettent au code 4D d'appelern'importe quel process externe (une commande shell, PHP, etc.) surla même machine. Les System workers sont appelés de manièreasynchrone. En utilisant des callbacks, 4D permet de communiquerdans les deux sens.</span></p><p><span>La classe <code>SystemWorker</code> est disponible dans leclass store <code>4D</code> .</span></p><h3><span><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_exemple"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_exemple"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</span></h3><pre><span><code class="hljs css language-4d">    <span class="hljs-comment">// Exemple Windows pour avoir accès aux informations d'ipconfig</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$myWinWorker </span>: 4D.SystemWorker<span class="hljs-keyword">var</span> <span class="hljs-variable">$ipConfig </span>: Text<span class="hljs-variable">$myWinWorker</span>:= 4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"ipconfig"</span>)<span class="hljs-variable">$ipConfig</span>:=<span class="hljs-variable">$myWinWorker</span>.<span class="hljs-function">wait</span>(<span class="hljs-number">1</span>).response <span class="hljs-comment">//timeout 1 seconde</span>    <span class="hljs-comment">// Exemple macOS pour modifier les permissions d'un fichier sous macOS</span>    <span class="hljs-comment">// chmod est la commande macOS utilisée pour modifier l'accès aux fichiers</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$myMacWorker </span>: 4D.SystemWorker<span class="hljs-variable">$myMacWorker</span>:= 4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"chmod x /folder/myfile.sh"</span>)</code></span></pre><h3><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_sommaire"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_sommaire"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Sommaire</h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#SystemWorkerClass.html_4d-systemworker-new"><strong>4D.SystemWorker.new</strong>( <em>commandLine</em> : Text { ; options : Object } ) :4D.SystemWorker</a><p>&nbsp;&nbsp;&nbsp;&nbsp;crée et renvoie un objet<code>4D.SystemWorker</code> qui exécutera la <em>commandLine</em>que vous avez passée en paramètre pour lancer un processexterne</p></td></tr><tr><td><a href="#SystemWorkerClass.html_closeinput"><strong>.closeInput</strong>()</a><p>&nbsp;&nbsp;&nbsp;&nbsp;ferme le flux d'entrée (<em>stdin</em>)du process externe</p></td></tr><tr><td><a href="#SystemWorkerClass.html_commandline"><strong>.commandLine</strong>: Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient la ligne de commande passée enparamètre à la fonction <a href="#SystemWorkerClass.html_4d-systemworker-new"><code>new()</code></a></p></td></tr><tr><td><a href="#SystemWorkerClass.html_currentdirectory"><strong>.currentDirectory</strong>: 4D.Folder</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient le répertoire de travail danslequel le process externe est exécuté</p></td></tr><tr><td><a href="#SystemWorkerClass.html_dataype"><strong>.dataType</strong> :Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient le type du contenu du corps dela réponse</p></td></tr><tr><td><a href="#SystemWorkerClass.html_encoding"><strong>.encoding</strong> :Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient l'encodage du contenu du corpsde la réponse</p></td></tr><tr><td><a href="#SystemWorkerClass.html_errors"><strong>.errors</strong> :Collection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient une collection d'erreurs 4Ddans le cas d'erreur(s) d'exécution</p></td></tr><tr><td><a href="#SystemWorkerClass.html_exitcode"><strong>.exitCode</strong> :Integer</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient le code de sortie renvoyé parle process externe</p></td></tr><tr><td><a href="#SystemWorkerClass.html_hideWindow"><strong>.hideWindow</strong> :Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;peut être utilisée pour cacher lafenêtre de la console DOS ou la fenêtre de l'exécutable lancé(<strong>Windows uniquement</strong>)</p></td></tr><tr><td><a href="#SystemWorkerClass.html_pid"><strong>.pid</strong> :Integer</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient l'identifiant unique du processexterne au niveau du système</p></td></tr><tr><td><a href="#SystemWorkerClass.html_postmessage"><strong>.postMessage</strong>(<em>message</em> : Text)<br /><strong>.postMessage</strong>( <em>messageBLOB</em> : Blob)</a><p>&nbsp;&nbsp;&nbsp;&nbsp;permet d'écrire dans le flux d'entrée(stdin) du process externe</p></td></tr><tr><td><a href="#SystemWorkerClass.html_response"><strong>.response</strong> :Text<br /><strong>.response</strong> : Blob</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient la concaténation de toutes lesdonnées renvoyées une fois la demande terminée</p></td></tr><tr><td><a href="#SystemWorkerClass.html_responseerror"><strong>.responseError</strong>: Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient la concaténation de toutes leserreurs retournées, une fois la requête terminée</p></td></tr><tr><td><a href="#SystemWorkerClass.html_terminate"><strong>.terminate</strong>()</a><p>&nbsp;&nbsp;&nbsp;&nbsp;force le <code>SystemWorker</code> àterminer son exécution</p></td></tr><tr><td><a href="#SystemWorkerClass.html_terminated"><strong>.terminated</strong> :Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient <strong>true</strong> si leprocess externe est terminé</p></td></tr><tr><td><a href="#SystemWorkerClass.html_timeout"><strong>.timeout</strong> :Integer</a><p>&nbsp;&nbsp;&nbsp;&nbsp;contient la durée en secondes avant quele process externe ne soit tué s'il est toujours en vie</p></td></tr><tr><td><a href="#SystemWorkerClass.html_wait"><strong>.wait</strong>({<em>timeout</em> : Real} ) : 4D.SystemWorker</a><p>&nbsp;&nbsp;&nbsp;&nbsp;attend la fin de l'exécution du<code>SystemWorker</code> ou du <em>timeout</em> spécifié</p></td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_4dsystemworkernew"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_4dsystemworkernew"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4D.SystemWorker.new()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R4</td><td>Ajout</td></tr></tbody></table></details><p><strong>4D.SystemWorker.new</strong> ( <em>commandLine</em> :Text { ; options : Object } ) : 4D.SystemWorker</p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>commandLine</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Ligne de commande à exécuter</td></tr><tr><td>options</td><td>Object</td><td style="text-align:center">-&gt;</td><td>Paramètres du worker</td></tr><tr><td>result</td><td>4D.SystemWorker</td><td style="text-align:center">&lt;-</td><td>Nouveau System worker asynchrone ou null si le process n'a pasdémarré</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>4D.SystemWorker.new()</code> crée et renvoieun objet <code>4D.SystemWorker</code> qui exécutera la<em>commandLine</em> que vous avez passée en paramètre pour lancerun process externe.</p><p>L'objet system worker retourné peut être utilisé pour envoyerdes messages au worker et obtenir les résultats du worker.</p><p>Si une erreur se produit pendant la création de l'objet proxy,la fonction renvoie un objet <code>null</code> et une erreur estlevée.</p><p>Dans le paramètre <em>commandLine</em> , passez le chemincomplet du fichier de l'application à exécuter (syntaxe posix),ainsi que les arguments requis, si nécessaire. Si vous ne passezque le nom de l'application, 4D utilisera la variabled'environnement <code>PATH</code> pour localiser l'exécutable.</p><p><strong>Attention :</strong> Cette fonction ne peut lancer quedes applications exécutables ; elle ne peut pas exécuter lesinstructions qui font partie du shell (interpréteur de commandes).Par exemple, sous Windows, il n'est pas possible d'utiliser cettecommande pour exécuter l'instruction <code>dir</code> .</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_objet-options"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_objet-options"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Objet <em>options</em></h4><p>Dans le paramètre <em>options</em> , passez un objet qui peutcontenir les propriétés suivantes :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Par défaut</th><th>Description</th></tr></thead><tbody><tr><td>onResponse</td><td>Formula</td><td>indéfini</td><td>Callback pour les messages du system worker. Ce callback estappelé une fois que la réponse complète est reçue. Il reçoit deuxobjets en paramètres (voir ci-dessous)</td></tr><tr><td>onData</td><td>Formula</td><td>indéfini</td><td>Callback pour les données du system worker. Ce callback estappelé chaque fois que le system worker reçoit des données. Ilreçoit deux objets en paramètres (voir ci-dessous)</td></tr><tr><td>onDataError</td><td>Formula</td><td>indéfini</td><td>Callback pour les erreurs du process externe (<em>stderr</em>du processs externe). Il reçoit deux objets en paramètres (voirci-dessous)</td></tr><tr><td>onError</td><td>Formula</td><td>indéfini</td><td>Callback pour les erreurs d'exécution, renvoyées par le systemworker en cas de conditions d'exécution inhabituelles (erreurssystème). Il reçoit deux objets en paramètres (voirci-dessous)</td></tr><tr><td>onTerminate</td><td>Formula</td><td>indéfini</td><td>Callback lorsque le process externe est terminé. Il reçoit deuxobjets en paramètres (voir ci-dessous)</td></tr><tr><td>timeout</td><td>Nombre</td><td>indéfini</td><td>Délai en secondes avant que le process soit tué s'il esttoujours actif</td></tr><tr><td>dataType</td><td>Text</td><td>"text"</td><td>Type de contenu du corps de la réponse. Valeurs possibles :"text" (par défaut), "blob".</td></tr><tr><td>encoding</td><td>Text</td><td>"UTF-8"</td><td>Seulement si <code>dataType="text"</code>. Encodage du contenudu corps de la réponse. Pour la liste des valeurs disponibles, voirla description de la commande <a href="https://doc.4d.com/4dv19R/help/command/fe/page1011.html"><code>CONVERTFROM TEXT</code></a></td></tr><tr><td>variables</td><td>Object</td><td></td><td>Définit des variables d'environnement personnalisées pour lesystem worker. Syntaxe : <code>variables.key=value</code>, où<code>key</code> est le nom de la variable et <code>value</code> savaleur. Les valeurs sont converties en chaînes de caractèreslorsque cela est possible. La valeur ne peut pas contenir un '='.S'il n'est pas défini, le system worker hérite de l'environnement4D.</td></tr><tr><td>currentDirectory</td><td>Folder</td><td></td><td>Répertoire de travail dans lequel le process est exécuté</td></tr><tr><td>hideWindow</td><td>Booléen</td><td>true</td><td>(Windows) Masquer la fenêtre de l'application (si possible) oula console Windows</td></tr></tbody></table><p>Toutes les fonctions de callback reçoivent deux paramètresobjet. Leur contenu dépend du callback :</p><table><thead><tr><th>Paramètres</th><th>Type</th><th><em>onResponse</em></th><th><em>onData</em></th><th><em>onDataError</em></th><th><em>onError</em></th><th><em>onTerminate</em></th></tr></thead><tbody><tr><td>$param1</td><td>Object</td><td>SystemWorker</td><td>SystemWorker</td><td>SystemWorker</td><td>SystemWorker</td><td>SystemWorker</td></tr><tr><td>$param2.type</td><td>Text</td><td>"response"</td><td>"data"</td><td>"error"</td><td>"error"</td><td>"termination"</td></tr><tr><td>$param2.data</td><td>Text ou Blob</td><td></td><td>données reçues</td><td>données d'erreur</td><td></td><td></td></tr></tbody></table><p>Voici la séquence des appels de callbacks :</p><ol><li><code>onData</code> et <code>onDataError</code> sont exécutésune ou plusieurs fois</li><li>s'il est appelé, <code>onError</code> est exécuté une fois(arrête le traitement du system worker)</li><li>si aucune erreur ne s'est produite, <code>onResponse</code> estexécuté une fois</li><li><code>onTerminate</code> est toujours exécuté</li></ol><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_valeur-retourn%C3%A9e"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_valeur-retourn%25C3%25A9e"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Valeur retournée</h4><p>La fonction renvoie un objet system worker sur lequel vouspouvez appeler les fonctions et les propriétés de la classeSystemWorker.</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_exemples-sous-windows"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_exemples-sous-windows"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemples sous Windows</h4><ol><li>Pour ouvrir le Bloc-notes et ouvrir un document spécifique:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sw </span>: 4D.SystemWorker<span class="hljs-keyword">var</span> <span class="hljs-variable">$options </span>: Object<span class="hljs-variable">$options</span>:=New object<span class="hljs-variable">$options</span>.hideWindow:= <span class="hljs-literal">False</span><span class="hljs-variable">$sw</span>:=4D.SystemWorker.<span class="hljs-function">new </span>(<span class="hljs-string">"C:\\WINDOWS\\notepad.exe C:\\Docs\\new folder\\res.txt"</span>;<span class="hljs-variable">$options</span>)</code></pre><ol start="2"><li>Exécuter npm install dans la console :</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$folder </span>: 4D.Folder<span class="hljs-keyword">var</span> <span class="hljs-variable">$options </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$worker </span>: 4D.SystemWorker<span class="hljs-variable">$folder</span>:=<span class="hljs-function">Folder</span>(fk database folder) <span class="hljs-variable">$options</span>:=New object<span class="hljs-variable">$options</span>.currentDirectory:=<span class="hljs-variable">$folder</span><span class="hljs-variable">$options</span>.hideWindow:=<span class="hljs-literal">False</span><span class="hljs-variable">$worker</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"cmd /c npm install"</span>;<span class="hljs-variable">$options</span>)</code></pre><ol start="3"><li>Pour lancer l'application Microsoft® Word® et ouvrir undocument spécifique :</li></ol><pre><code class="hljs css language-4d"><span class="hljs-variable">$mydoc</span>:=<span class="hljs-string">"C:\\Program Files\\Microsoft Office\\Office15\\WINWORD.EXE C:\\Tempo\\output.txt"</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$sw </span>: 4D.SystemWorker<span class="hljs-variable">$sw</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-variable">$mydoc</span>)</code></pre><ol start="4"><li>Pour lancer une commande avec le répertoire courant et posterun message :</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$param </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$sys </span>: 4D.SystemWorker<span class="hljs-variable">$param</span>:=New object<span class="hljs-variable">$param</span>.currentDirectory:=<span class="hljs-function">Folder</span>(fk database folder)<span class="hljs-variable">$sys</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"git commit -F -"</span>;<span class="hljs-variable">$param</span>)<span class="hljs-variable">$sys</span>.<span class="hljs-function">postMessage</span>(<span class="hljs-string">"This is a postMessage"</span>)<span class="hljs-variable">$sys</span>.<span class="hljs-function">closeInput</span>()</code></pre><ol start="5"><li>Pour permettre à l'utilisateur d'ouvrir un document externesous Windows :</li></ol><pre><code class="hljs css language-4d">$docname:=Select document(" ; "*.*" ; "Choisissez le fichier à ouvrir";0)If(OK=1)    var $sw : 4D.SystemWorker    $sw:=4D.SystemWorker.new("cmd.exe /C start \"\" \""$docname"\"")End if</code></pre><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_exemples-sous-macos"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_exemples-sous-macos"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemples sous macOS</h4><ol><li>Modifier un fichier texte (<code>cat</code> est la commandemacOS utilisée pour modifier les fichiers). Dans cet exemple, lechemin d'accès complet de la commande est transmis :</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sw </span>: 4D.SystemWorker<span class="hljs-variable">$sw</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"/bin/cat /folder/myfile.txt"</span>)<span class="hljs-variable">$sw</span>.<span class="hljs-function">wait</span>() /exécution synchrone</code></pre><ol start="2"><li>Pour lancer une application "graphique" indépendante, il estpréférable d'utiliser la commande système <code>open</code> (dansce cas, le code a le même effet qu'un double-clic surl'application) :</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sw </span>: 4D.SystemWorker<span class="hljs-variable">$sw</span>:=4D.SystemWorker.<span class="hljs-function">new </span>(<span class="hljs-string">"open /Applications/Calculator.app"</span>)</code></pre><ol start="3"><li>Pour obtenir le contenu du dossier "Users" (ls -l estl'équivalent sous macOS de la commande dir sous DOS).</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$systemworker </span>: 4D.SystemWorker<span class="hljs-keyword">var</span> <span class="hljs-variable">$output </span>: Text<span class="hljs-keyword">var</span> <span class="hljs-variable">$errors </span>: Collection<span class="hljs-variable">$systemworker</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"/bin/ls -l /Users "</span>)<span class="hljs-variable">$systemworker</span>.<span class="hljs-function">wait</span>(<span class="hljs-number">5</span>)<span class="hljs-variable">$output</span>:=<span class="hljs-variable">$systemworker</span>.response<span class="hljs-variable">$error</span>:=<span class="hljs-variable">$systemworker</span>.errors</code></pre><ol start="4"><li>Même commande que ci-dessus, mais en utilisant un exemple declasse utilisateur "Params" pour montrer comment gérer lesfonctions de callback :</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$systemworker </span>: 4D.SystemWorker<span class="hljs-variable">$systemworker</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"/bin/ls -l /Users "</span>;cs.Params.<span class="hljs-function">new</span>())<span class="hljs-comment">// "Params" class</span><span class="hljs-keyword">Class constructor</span>    <span class="hljs-literal">This</span>.dataType:=<span class="hljs-string">"text"</span>    <span class="hljs-literal">This</span>.data:=<span class="hljs-string">""</span>    <span class="hljs-literal">This</span>.dataError:=<span class="hljs-string">""</span><span class="hljs-keyword">Function</span><span class="hljs-function"> onResponse</span>(<span class="hljs-variable">$systemWorker </span>: Object)     <span class="hljs-literal">This</span>.<span class="hljs-function">_createFile</span>(<span class="hljs-string">"onResponse"</span>; <span class="hljs-variable">$systemWorker</span>.response)<span class="hljs-keyword">Function</span><span class="hljs-function"> onData</span>(<span class="hljs-variable">$systemWorker </span>: Object; <span class="hljs-variable">$info </span>: Object)     <span class="hljs-literal">This</span>.data+=<span class="hljs-variable">$info</span>.data     <span class="hljs-literal">This</span>.<span class="hljs-function">_createFile</span>(<span class="hljs-string">"onData"</span>;this.data)<span class="hljs-keyword">Function</span><span class="hljs-function"> onDataError</span>(<span class="hljs-variable">$systemWorker </span>: Object; <span class="hljs-variable">$info </span>: Object)     <span class="hljs-literal">This</span>.dataError+=<span class="hljs-variable">$info</span>.data     <span class="hljs-literal">This</span>.<span class="hljs-function">_createFile</span>(<span class="hljs-string">"onDataError"</span>;this.dataError)<span class="hljs-keyword">Function</span><span class="hljs-function"> onTerminate</span>(<span class="hljs-variable">$systemWorker </span>: Object)<span class="hljs-keyword">     var</span> <span class="hljs-variable">$textBody </span>: Text     <span class="hljs-variable">$textBody</span>:=<span class="hljs-string">"Response: "</span>+<span class="hljs-variable">$systemWorker</span>.response     <span class="hljs-variable">$textBody</span>+=<span class="hljs-string">"ResponseError: "</span>+<span class="hljs-variable">$systemWorker</span>.responseError     <span class="hljs-literal">This</span>.<span class="hljs-function">_createFile</span>(<span class="hljs-string">"onTerminate"</span>; <span class="hljs-variable">$textBody</span>)<span class="hljs-keyword">Function</span><span class="hljs-function"> _createFile</span>(<span class="hljs-variable">$title </span>: Text; <span class="hljs-variable">$textBody </span>: Text)<span class="hljs-function">     TEXT TO DOCUMENT</span>(<span class="hljs-function">Get 4D folder</span>(Current resources folder)+<span class="hljs-variable">$title</span>+<span class="hljs-string">".txt"</span>; <span class="hljs-variable">$textBody</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_closeinput"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_closeinput"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.closeInput()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19 R4</td><td>Ajout</td></tr></tbody></table></details><p><strong>.closeInput</strong>() | Paramètres | Type | |Description | | ---------- | ---- |::| ---------------------------| | | | | Ne requiert aucun paramètre |</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-1"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.closeInput()</code> ferme le flux d'entrée(<em>stdin</em>) du process externe.</p><p>Lorsque l'exécutable attend que toutes les données soient reçuespar <code>postMessage()</code>, <code>.closeInput()</code> estutile pour indiquer à l'exécutable que l'envoi des données estterminé et qu'il peut continuer.</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_exemple-1"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_exemple-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><pre><code class="hljs css language-4D"><span class="hljs-comment">// Créer quelques données à gzipper</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$input</span>;<span class="hljs-variable">$output </span>: Blob<span class="hljs-keyword">var</span> <span class="hljs-variable">$gzip </span>: Text<span class="hljs-function">TEXT TO BLOB</span>(<span class="hljs-string">"Hello, World !"</span> ;<span class="hljs-variable">$input</span>)<span class="hljs-variable">$gzip</span>:=<span class="hljs-string">"\"C:\\Program Files (x86)\GnuWin32\bin\\\\\gzip.exe\" "</span><span class="hljs-comment">// Créer un system worker asynchrone</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$worker </span>: 4D.SystemWorker<span class="hljs-variable">$worker</span>:= 4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-variable">$gzip</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"dataType"</span> ; <span class="hljs-string">"blob"</span>))<span class="hljs-comment">// Envoyer le fichier compressé sur stdin.</span><span class="hljs-variable">$worker</span>.<span class="hljs-function">postMessage</span>(<span class="hljs-variable">$input</span>)<span class="hljs-comment">// Notez que nous appelons closeInput() pour indiquer que nous avons terminé. </span><span class="hljs-comment">// gzip (et la plupart des programmes attendant des données de stdin) attendra plus de données jusqu'à ce que l'entrée soit explicitement fermée.</span><span class="hljs-variable">$worker</span>.<span class="hljs-function">closeInput</span>()<span class="hljs-variable">$worker</span>.<span class="hljs-function">wait</span>()<span class="hljs-variable">$output</span>:=<span class="hljs-variable">$worker</span>.response</code></pre><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_commandline"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_commandline"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.commandLine</h2><p><strong>.commandLine</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-2"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.commandLine</code> contient la ligne decommande passée en paramètre à la fonction <a href="#SystemWorkerClass.html_4d-systemworker-new"><code>new()</code></a>.</p><p>Cette propriété est en <strong>lecture seule</strong>.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_currentdirectory"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_currentdirectory"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.currentDirectory</h2><p><strong>.currentDirectory</strong> : 4D.Folder</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-3"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.currentDirectory</code> contient lerépertoire de travail dans lequel le process externe estexécuté.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_datatype"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_datatype"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.dataType</h2><p><strong>.dataType</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-4"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.dataType</code> contient le type du contenudu corps de la réponse. Possible values : "text" or "blob".</p><p>Cette propriété est en <strong>lecture seule</strong>.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_encoding"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_encoding"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.encoding</h2><p><strong>.encoding</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-5"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.encoding</code> contient l'encodage ducontenu du corps de la réponse. Cette propriété est uniquementdisponible si le <a href="#SystemWorkerClass.html_datatype"><code>dataType</code></a> est"text".</p><p>Cette propriété est en <strong>lecture seule</strong>.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_errors"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_errors"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.errors</h2><p><strong>.errors</strong> : Collection</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-6"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.errors</code> contient une collectiond'erreurs 4D dans le cas d'erreur(s) d'exécution.</p><p>Chaque élément de la collection est un objet avec les propriétéssuivantes :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>[].errorCode</td><td>number</td><td>Code d'erreur 4D</td></tr><tr><td>[].message</td><td>Texte</td><td>Description de l'erreur 4D</td></tr><tr><td>[ ].componentSignature</td><td>Texte</td><td>Signature du composant interne qui a retourné l'erreur</td></tr></tbody></table><p>Si aucune erreur ne s'est produite, <code>.errors</code>contient une collection vide.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_exitcode"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_exitcode"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.exitCode</h2><p><strong>.exitCode</strong> : Integer</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-7"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.exitCode</code> contient le code de sortierenvoyé par le process externe. Si le process ne s'est pas terminénormalement, <code>exitCode</code> est <em>undefined</em>.</p><p>Cette propriété est en <strong>lecture seule</strong>.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_hidewindow"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_hidewindow"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.hideWindow</h2><p><strong>.hideWindow</strong> : Boolean</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-8"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-8"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.hideWindow</code> peut être utilisée pourcacher la fenêtre de la console DOS ou la fenêtre de l'exécutablelancé (<strong>Windows uniquement</strong>).</p><p>Cette propriété est en <strong>lecture-écriture</strong>.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_pid"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_pid"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.pid</h2><p><strong>.pid</strong> : Integer</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-9"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.pid</code> contient l'identifiant unique duprocess externe au niveau du système.</p><p>Cette propriété est en <strong>lecture seule</strong>.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_postmessage"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_postmessage"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.postMessage()</h2><p><strong>.postMessage</strong>( <em>message</em> : Text)<br /><strong>.postMessage</strong>( <em>messageBLOB</em> : Blob)</p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>message</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Texte à écrire dans le flux d'entrée (stdin) du processexterne</td></tr><tr><td>messageBLOB</td><td>Blob</td><td style="text-align:center">-&gt;</td><td>Octets écrits dans le flux d'entrée</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-10"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-10"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.postMessage()</code> permet d'écrire dans leflux d'entrée (stdin) du process externe. Dans le paramètre<em>message</em>, passez le texte à écrire dans <em>stdin</em>.</p><p>La fonction <code>.postMessage()</code> accepte également unevaleur de type Blob dans <em>messageBLOB</em>, de sorte que vouspouvez poster des données binaires dans <em>stdin</em>.</p><p>Vous pouvez utiliser la propriété <code>.dataType</code> del'objet <a href="#SystemWorkerClass.html_options-object">options</a> pour que lecorps de réponse renvoie des valeurs Blob.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_response"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_response"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.response</h2><p><strong>.response</strong> : Text<br /><strong>.response</strong> : Blob</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-11"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-11"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.response</code> contient la concaténation detoutes les données renvoyées une fois la demande terminée,c'est-à-dire le message complet reçu à partir de l'output duprocess.</p><p>Le type du message est défini selon l'attribut <a href="#SystemWorkerClass.html_datatype"><code>dataType</code></a> .</p><p>Cette propriété est en <strong>lecture seule</strong>.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_responseerror"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_responseerror"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.responseError</h2><p><strong>.responseError</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-12"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-12"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.responseError</code> contient laconcaténation de toutes les erreurs retournées, une fois la requêteterminée.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_terminate"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_terminate"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.terminate()</h2><p><strong>.terminate</strong>() | Paramètres | Type | |Description | | ---------- | ---- |::| ---------------------------| | | | | Ne requiert aucun paramètre |</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-13"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-13"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.terminate()</code> force le<code>SystemWorker</code> à terminer son exécution.</p><p>Cette fonction envoie l'instruction de terminer et de redonnerle contrôle au script en cours d'exécution.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_terminated"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_terminated"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.terminated</h2><p><strong>.terminated</strong> : Boolean</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-14"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-14"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.terminated</code> contient<strong>true</strong> si le process externe est terminé.</p><p>Cette propriété est en <strong>lecture seule</strong>.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_timeout"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_timeout"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.timeout</h2><p><strong>.timeout</strong> : Integer</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-15"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-15"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La propriété <code>.timeout</code> contient la durée en secondesavant que le process externe ne soit tué s'il est toujours envie.</p><p>Cette propriété est en <strong>lecture seule</strong>.</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_wait"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_wait"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.wait()</h2><details><summary>Historique</summary><table><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><p>|v19 R4|Added|</p></details><p><strong>.wait</strong>( {<em>timeout</em> : Real} ) :4D.SystemWorker</p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>timeout</td><td>Réel</td><td style="text-align:center">-&gt;</td><td>Temps d'attente (en secondes)</td></tr><tr><td>Résultat</td><td>4D.SystemWorker</td><td style="text-align:center">&lt;-</td><td>Objet SystemWorker</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_description-16"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_description-16"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description</h4><p>La fonction <code>.wait()</code> attend la fin de l'exécution du<code>SystemWorker</code> ou du <em>timeout</em> spécifié.</p><p>Dans <em>timeout</em>, passez une valeur en secondes. Le script<code>SystemWorker</code> attendra le process externe pendant ladurée définie dans le paramètre <em>timeout</em> . Si vous omettezle paramètre <em>timeout</em>, l'exécution du script attendraindéfiniment.</p><p>En fait, <code>.wait()</code> attend la fin du traitement de laformule <code>onTerminate</code>, sauf si le <em>timeout</em> estatteint. Si le <em>timeout</em> est atteint, le<code>SystemWorker</code> n'est pas tué.</p><p>Pendant une exécution <code>.wait()</code>, les fonctions decallback sont exécutées, en particulier les callbacks provenantd'autres événements ou d'autres instances de<code>SystemWorker</code>. Vous pouvez sortir d'un<code>.wait()</code> en appelant <a href="#SystemWorkerClass.html_terminate"><code>terminate()</code></a> àpartir d'un callback.</p><p>Cette fonction renvoie l'objet SystemWorker.</p><blockquote><p>Cette fonction n'est pas nécessaire si vous avez créé le<code>SystemWorker</code> à partir d'un process worker 4D.</p></blockquote><style><![CDATA[ h2 { background: #d9ebff;}]]></style></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#SMTPTransporterClass.html"><span class="arrow-prev">←</span><span>SMTPTransporter</span></a><a class="docs-next button" href="#WebServerClass.html"><span class="function-name-prevnext">WebServer</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#SystemWorkerClass.html_4dsystemworkernew">4D.SystemWorker.new()</a></li><li><a href="#SystemWorkerClass.html_closeinput">.closeInput()</a></li><li><a href="#SystemWorkerClass.html_commandline">.commandLine</a></li><li><a href="#SystemWorkerClass.html_currentdirectory">.currentDirectory</a></li><li><a href="#SystemWorkerClass.html_datatype">.dataType</a></li><li><a href="#SystemWorkerClass.html_encoding">.encoding</a></li><li><a href="#SystemWorkerClass.html_errors">.errors</a></li><li><a href="#SystemWorkerClass.html_exitcode">.exitCode</a></li><li><a href="#SystemWorkerClass.html_hidewindow">.hideWindow</a></li><li><a href="#SystemWorkerClass.html_pid">.pid</a></li><li><a href="#SystemWorkerClass.html_postmessage">.postMessage()</a></li><li><a href="#SystemWorkerClass.html_response">.response</a></li><li><a href="#SystemWorkerClass.html_responseerror">.responseError</a></li><li><a href="#SystemWorkerClass.html_terminate">.terminate()</a></li><li><a href="#SystemWorkerClass.html_terminated">.terminated</a></li><li><a href="#SystemWorkerClass.html_timeout">.timeout</a></li><li><a href="#SystemWorkerClass.html_wait">.wait()</a></li></ul></nav></div></div></body></html>