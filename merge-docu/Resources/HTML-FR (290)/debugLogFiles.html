<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Description des fichiers d'historique · 4DDocumentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Les applications 4D peuvent générer divers fichiers d'historique (ou &quot;logs&quot;) qui sont utiles pour le débogage ou l'optimisation de leur exécution. Les fichiers d'historique sont généralement démarrés ou arrêtés via des sélecteurs des commandes [SET DATABASE PARAMETER](https://doc.4d.com/4dv19/help/command/en/page642.html) ou [WEB SET OPTION](https://doc.4d.com/4dv19/help/command/en/page1210.html) et sont stockés dans le dossier [Logs](/docs/Rx/fr/Project/architecture.html#logs) du projet."name="description" /><meta content="fr" name="docsearch:language" /><meta content="Description des fichiers d'historique · 4D Documentation"property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Les applications 4D peuvent générer divers fichiers d'historique (ou &quot;logs&quot;) qui sont utiles pour le débogage ou l'optimisation de leur exécution. Les fichiers d'historique sont généralement démarrés ou arrêtés via des sélecteurs des commandes [SET DATABASE PARAMETER](https://doc.4d.com/4dv19/help/command/en/page642.html) ou [WEB SET OPTION](https://doc.4d.com/4dv19/help/command/en/page1210.html) et sont stockés dans le dossier [Logs](/docs/Rx/fr/Project/architecture.html#logs) du projet."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#debugLogFiles.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Description desfichiers d'historique<a aria-hidden="true" class="anchor" id="debugLogFiles.html"></a></h1></header><article><div><p><span>Les applications 4D peuvent générer divers fichiersd'historique (ou "logs") qui sont utiles pour le débogage oul'optimisation de leur exécution. Les fichiers d'historique sontgénéralement démarrés ou arrêtés via des sélecteurs des commandes<a href="https://doc.4d.com/4dv19/help/command/en/page642.html">SETDATABASE PARAMETER</a> ou <a href="https://doc.4d.com/4dv19/help/command/en/page1210.html">WEB SETOPTION</a> et sont stockés dans le dossier <a href="#debugLogFiles.html_logs">Logs</a> du projet.</span></p><p><span>Les informations de l'historique doivent être analyséespour détecter et corriger les problèmes. Cette section fournit unedescription complète des fichiers journaux suivants :</span></p><ul><li><span><a href="#debugLogFiles.html_4drequestslogtxt">4DRequestsLog.txt</a></span></li><li><span><a href="#debugLogFiles.html_4drequestslog_processinfotxt">4DRequestsLog_ProcessInfo.txt</a></span></li><li><span><a href="#debugLogFiles.html_httpdebuglogtxt">HTTPDebugLog.txt</a></span></li><li><span>4DDebugLog.txt (<a href="#debugLogFiles.html_4ddebuglogtxt-standard">standard</a> &amp;<a href="#debugLogFiles.html_4ddebuglogtxt-tabular">tabular</a>)</span></li><li><span><a href="#debugLogFiles.html_4ddiagnosticlogtxt">4DDiagnosticLog.txt</a></span></li><li><span><a href="#debugLogFiles.html_4dsmtplogtxt-4dpop3logtxt-and-4dimaplogtxt">4DIMAPLog.txt</a></span></li><li><span><a href="#debugLogFiles.html_4dsmtplogtxt-4dpop3logtxt-and-4dimaplogtxt">4DPOP3Log.txt</a></span></li><li><span><a href="#debugLogFiles.html_4dsmtplogtxt-4dpop3logtxt-and-4dimaplogtxt">4DSMTPLog.txt</a></span></li><li><span><a href="#debugLogFiles.html_orda-client-requests">Fichier d'historique desrequêtes ORDA clientes</a></span></li></ul><blockquote><p><span>Lorsqu'un fichier d'historique peut être généré soit sur4D Server, soit sur le client distant, le mot " Server " est ajoutéau nom du fichier d'historique côté serveur, par exemple "4DRequestsLogServer.txt"</span></p></blockquote><p><span>Les fichiers d'historique partagent certains champs, cequi vous permet d'établir une chronologie et d'établir desconnexions entre les entrées lors du débogage :</span></p><ul><li><span><code>sequence_number</code> : ce numéro est unique parmitous les fichiers d'historique de débogage et est incrémenté àchaque nouvelle entrée, quel que soit le fichier d'historique, demanière à ce que vous puissiez connaître la séquence exacte desopérations.</span></li><li><span><code>connection_uuid</code> : pour chaque process 4Dcréé sur un client 4D qui se connecte au serveur, cet UUID deconnexion est stocké à la fois côté serveur et client. Il vouspermet d'identifier facilement le client distant qui a lancé leprocess.</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="debugLogFiles.html_4drequestslogtxt"></a><a aria-hidden="true"class="hash-link" href="#debugLogFiles.html_4drequestslogtxt"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4DRequestsLog.txt</span></h2><p><span>Ce fichier d'historique enregistre les requêtes standardenvoyées par la machine de 4D Server ou par la machine 4D distantequi a exécuté la commande (hors requêtes web).</span></p><p><span>Pour démarrer ce fichier d'historique :</span></p><ul><li><span>sur le serveur :</span></li></ul><pre><span><code class="hljs css language-4d"><span class="hljs-function">SET DATABASE PARAMETER</span>(4D Server log recording;<span class="hljs-number">1</span>)<span class="hljs-comment">//côté serveur</span></code></span></pre><ul><li>sur le client :</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">1</span>)<span class="hljs-comment">//côté distant</span></code></pre><blockquote><p>Cette instruction démarre également le fichier d'historique<a href="#debugLogFiles.html_4drequestslog_processinfotxt">4DRequestsLog_ProcessInfo.txt</a>.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="debugLogFiles.html_en-t%C3%AAtes"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_en-t%25C3%25AAtes"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>En-têtes</h4><p>Ce fichier commence avec les en-têtes suivants :</p><ul><li>Log Session Identifier (Identifiant de sessiond'historique)</li><li>Nom du serveur qui héberge l'application</li><li>User Login Name : Nom de l'utilisateur (défini dans l'OS) qui aexécuté l'application 4D sur le serveur.</li></ul><h4><a aria-hidden="true" class="anchor" id="debugLogFiles.html_contenu"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_contenu"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Contenu</h4><p>Pour chaque requête, les champs suivants sont enregistrés :</p><table><thead><tr><th>Nom des champs</th><th>Description</th></tr></thead><tbody><tr><td>sequence_number</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td></tr><tr><td>time</td><td>Date et heure au format ISO 8601 :'YYYY-MM-DDTHH:MM:SS.mmm'</td></tr><tr><td>systemid</td><td>ID système</td></tr><tr><td>component</td><td>Signature du composant (par exemple '4SQLS' ou 'dbmg')</td></tr><tr><td>process_info_</td><td>correspond au champ "index" dans le fichier d'historique4DRequestsLog_ProcessInfo.txt, permettant de relier une requête àun process.</td></tr><tr><td>request</td><td>ID de requête en mode distant chaîne de message pour lesrequêtes SQL ou messages <code>LOG EVENT</code></td></tr><tr><td>bytes_in</td><td>Nombre d'octets reçus</td></tr><tr><td>bytes_out</td><td>Nombre d'octets envoyés</td></tr><tr><td>server_duration | exec_duration</td><td>Dépend de l'endroit où l'historique est généré :<ul><li><em>server_duration</em> lorsqu'il est généré sur le client--Temps en microsecondes pris par le serveur pour traiter larequête et retourner une réponse. Correspond au chemin B vers Fdans l'image ci-dessous, OU</li><li><em>exec_duration</em> lorsqu'il est généré sur le serveur--Temps en microsecondes pris par le serveur pour traiter larequête. Correspond au chemin B vers F dans l'imageci-dessous.</li></ul></td></tr><tr><td>write_duration</td><td>Temps en microsecondes pour envoyer :<ul><li>La requête (lorsqu'elle est exécutée sur le client). Correspondau chemin A vers B dans l'image ci-dessous.</li><li>La réponse (lorsqu'elle est exécutée sur le serveur).Correspond au chemin E vers F dans l'image ci-dessous.</li></ul></td></tr><tr><td>task_kind</td><td>Préemptif ou coopératif (respectivement 'p' ou 'c')</td></tr><tr><td>rtt</td><td>Temps en microsecondes pris par le client pour envoyer larequête et pour qu'elle soit reçue par le serveur. Correspondrespectivement aux chemins A vers D et E vers H dans l'imageci-dessous.<ul><li>Mesuré uniquement lorsque la couche réseau ServerNet estutilisée, retourne 0 lorsque l'ancienne couche réseau estutilisée.</li><li>Dans les versions antérieures à Windows 10 ou à Windows Server2016, l'appel retournera la valeur 0.</li></ul></td></tr></tbody></table><p>Acheminement de la requête :</p><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/Admin/logRequestFlow.PNG" /></p><h2><a aria-hidden="true" class="anchor" id="debugLogFiles.html_4drequestslog_processinfotxt"></a><a aria-hidden="true"class="hash-link" href="#debugLogFiles.html_4drequestslog_processinfotxt"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4DRequestsLog_ProcessInfo.txt</h2><p>Ce fichier d'historique enregistre des informations sur chaqueprocess créé sur la machine de 4D Server, ou sur la machine 4Ddistante qui a exécuté la commande (hors requêtes web).</p><p>Pour démarrer ce fichier d'historique :</p><ul><li>sur le serveur :</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">SET DATABASE PARAMETER</span>(4D Server log recording;<span class="hljs-number">1</span>) <span class="hljs-comment">//côté serveur</span></code></pre><ul><li>sur le client :</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">1</span>) <span class="hljs-comment">//côté distant</span></code></pre><blockquote><p>Cette instruction démarre également le fichier d'historique<a href="#debugLogFiles.html_4drequestslogtxt">4DRequestsLog.txt</a>.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="debugLogFiles.html_en-t%C3%AAtes-1"></a><a aria-hidden="true"class="hash-link" href="#debugLogFiles.html_en-t%25C3%25AAtes-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>En-têtes</h4><p>Ce fichier commence avec les en-têtes suivants :</p><ul><li>Log Session Identifier (Identifiant de sessiond'historique)</li><li>Nom du serveur qui héberge l'application</li><li>User Login Name : Nom de l'utilisateur (défini dans l'OS) qui aexécuté l'application 4D sur le serveur.</li></ul><h4><a aria-hidden="true" class="anchor" id="debugLogFiles.html_contenu-1"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_contenu-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Contenu</h4><p>Pour chaque process, les champs suivants sont enregistrés :</p><table><thead><tr><th>Nom des champs</th><th>Description</th></tr></thead><tbody><tr><td>sequence_number</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td></tr><tr><td>time</td><td>Date et heure au format ISO 8601 :"YYYY-MM-DDTHH:MM:SS.mmm"</td></tr><tr><td>process_info_index</td><td>Numéro de process séquentiel et unique</td></tr><tr><td>CDB4DBaseContext</td><td>UUID du contexte de base du composant DB4D</td></tr><tr><td>systemid</td><td>ID système</td></tr><tr><td>server_process_id</td><td>ID du process sur le serveur</td></tr><tr><td>remote_process_id</td><td>ID du process sur le client</td></tr><tr><td>process_name</td><td>Nom du process</td></tr><tr><td>cID</td><td>Identifiant de la connexion 4D</td></tr><tr><td>uID</td><td>Identifiant du client 4D</td></tr><tr><td>IP Client</td><td>Addresse IPv4/IPv6 du client</td></tr><tr><td>host_name</td><td>Nom d'hôte du client</td></tr><tr><td>user_name</td><td>Nom de connexion utilisateur sur le client</td></tr><tr><td>connection_uuid</td><td>Identifiant UUID de process de connexion</td></tr><tr><td>server_process_unique_id</td><td>ID unique du process sur le serveur</td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="debugLogFiles.html_httpdebuglogtxt"></a><a aria-hidden="true"class="hash-link" href="#debugLogFiles.html_httpdebuglogtxt"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTPDebugLog.txt</h2><p>Ce fichier d'historique enregistre chaque requête HTTP et chaqueréponse en mode brut (raw). Les requêtes sont enregistrées dansleur totalité (en-têtes compris). Les parts du body peuventoptionellement être enregistrées.</p><p>Pour démarrer ce fichier d'historique :</p><pre><code class="hljs css language-4d"><span class="hljs-function">WEB SET OPTION</span>(Web debug log;wdl enable without body)  <span class="hljs-comment">//d'autres valeurs sont disponibles</span></code></pre><p>Les champs suivants sont enregistrés pour chaque requête etréponse :</p><table><thead><tr><th>Nom des champs</th><th>Description</th></tr></thead><tbody><tr><td>SocketID</td><td>ID du socket utilisé pour la communication</td></tr><tr><td>PeerIP</td><td>Adresse IPv4 de l'hôte (client)</td></tr><tr><td>PeerPort</td><td>Port utilisé par l'hôte (client)</td></tr><tr><td>TimeStamp</td><td>Horodatage en millisecondes (depuis le démarrage dusystème)</td></tr><tr><td>ConnectionID</td><td>Connexion UUID (UUID du VTCPSocket utilisé pour lacommunication)</td></tr><tr><td>SequenceNumber</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="debugLogFiles.html_4ddebuglogtxt-standard"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_4ddebuglogtxt-standard"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4DDebugLog.txt (standard)</h2><p>Ce fichier d'historique enregistre chaque évènement qui a lieuau niveau de la programmation 4D. Le mode standard offre une vuebasique des événements.</p><p>Pour démarrer ce fichier d'historique :</p><pre><code class="hljs css language-4d"><span class="hljs-function">SET DATABASE PARAMETER</span>(Debug Log Recording;<span class="hljs-number">2</span>)  <span class="hljs-comment">//standard, tous les process</span><span class="hljs-function">SET DATABASE PARAMETER</span>(Current process debug log recording;<span class="hljs-number">2</span>)  <span class="hljs-comment">//standard, process courant uniquement</span></code></pre><p>Les champs suivants sont enregistrés pour chaque événement :</p><table><thead><tr><th>Colonne #</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td></tr><tr><td>2</td><td>Date et heure au format ISO 8601 (YYYY-MM-DDThh:mm:ss.mmm)</td></tr><tr><td>3</td><td>ID process (p=xx) et ID unique process (puid=xx)</td></tr><tr><td>4</td><td>Niveau de stack (pile)</td></tr><tr><td>5</td><td>Peut être Nom de commande / Nom de méthode / Message / InfoStart Stop task / Nom, événement ou callback plugin / UUIDconnexion</td></tr><tr><td>6</td><td>Durée de l'opération de connexion en millisecondes (différent2e colonne)</td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="debugLogFiles.html_4ddebuglogtxt-tabul%C3%A9"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_4ddebuglogtxt-tabul%25C3%25A9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4DDebugLog.txt (tabulé)</h2><p>Ce fichier d'historique enregistre chaque événement au niveau dela programmation 4D sous un format compact tabulé incluant desinformations supplémentaires par rapport au format standard.</p><p>Pour démarrer ce fichier d'historique :</p><pre><code class="hljs css language-4d"><span class="hljs-function">SET DATABASE PARAMETER</span>(Debug Log Recording;<span class="hljs-number">2</span>+<span class="hljs-number">4</span>)  <span class="hljs-comment">//format tabulé étendu, tous les process</span><span class="hljs-function">SET DATABASE PARAMETER</span>(Current process debug log recording;<span class="hljs-number">2</span>+<span class="hljs-number">4</span>)  <span class="hljs-comment">//étendu, process courant uniquement</span></code></pre><p>Les champs suivants sont enregistrés pour chaque événement :</p><table><thead><tr><th>Colonne #</th><th>Nom des champs</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>sequence_number</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td></tr><tr><td>2</td><td>time</td><td>Date et heure au format ISO 8601 (YYYY-MM-DDThh:mm:ss.mmm)</td></tr><tr><td>3</td><td>ProcessID</td><td>ID du process</td></tr><tr><td>4</td><td>unique_processID</td><td>ID unique du process</td></tr><tr><td>5</td><td>stack_level</td><td>Niveau de stack (pile)</td></tr><tr><td>6</td><td>operation_type</td><td>Type d'opération enregistrée. Il peut s'agir d'une valeurabsolue :<ol><li>Commande</li><li>Méthode (méthode projet, méthode base, etc.)</li><li>Message (uniquement envoyé par la commande <a href="https://doc.4d.com/4dv19/help/command/fr/page667.html">LOGEVENT</a>)</li><li>PluginMessage</li><li>PluginEvent</li><li>PluginCommand</li><li>PluginCallback</li><li>Task (Process)</li><li>Méthode membre (méthode attachée à une collection ou unobjet)</li></ol>Lors de la fermeture d'un niveau de stack, les colonnes<code>operation_type</code>, <code>operation</code> et<code>operation_parameters</code> ont la même valeur que le niveaude stack d'ouverture enregistré dans la colonne<code>stack_opening_sequence_number</code>. Par exemple :<ol><li>121 15:16:50:777 5 8 1 2 CallMethod Parameters 0</li><li>122 15:16:50:777 5 8 2 1 283 0</li><li>123 15:16:50:777 5 8 2 1 283 0 122 3</li><li>124 15:16:50:777 5 8 1 2 CallMethod Parameters 0 121 61</li></ol>Les 1re et 2e lignes ouvrent un niveau de stack, les 3e et 4elignes ferment un niveau de stack. Les valeurs des colonnes 6, 7 et8 sont répétées dans la ligne du niveau de stack de fermeture. Lacolonne 10 contient les numéros de séquence d'ouverture du niveaude stack, c'est-à-dire 122 pour la 3e ligne et 121 pour la 4e.</td></tr><tr><td>7</td><td>operation</td><td>Peut représenter (en fonction du type d'opération) :<ul><li>un ID de commande du langage (lorsque type=1)</li><li>un nom de méthode (lorsque type=2)</li><li>une combinaison de pluginIndex;pluginCommand (lorsque type=4,5, 6 ou 7). Peut contenir des éléments tels que '3;2'</li><li>un UUID de connexion de process (lorsque type=8)</li></ul></td></tr><tr><td>8</td><td>operation_parameters</td><td>Paramètres passés aux commandes, méthodes ou aux plugins</td></tr><tr><td>9</td><td>form_event</td><td>Evénement formulaire, le cas échéant ; vide dans les autres cas(par conséquent cette colonne est utilisée lorsque le code estexécuté dans une méthode formulaire ou méthode objet)</td></tr><tr><td>10</td><td>stack_opening_sequence_number</td><td>Niveaux de fermeture de stacks uniquement : numéro de séquencedu niveau d'ouverture de stack correspondant</td></tr><tr><td>11</td><td>stack_level_execution_time</td><td>Niveaux de fermeture de stacks uniquement : Durée en microsecondes de l'action enregistrée courante (cf. 10e colonne deslignes 123 et 124 dans l'historique ci-dessus)</td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="debugLogFiles.html_4ddiagnosticlogtxt"></a><a aria-hidden="true"class="hash-link" href="#debugLogFiles.html_4ddiagnosticlogtxt"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4DDiagnosticLog.txt</h2><p>Ce fichier d'historique enregistre de nombreux événements liésau fonctionnement interne de l'application et est lisible par unhumain. Vous pouvez inclure des informations personnalisées dans cefichier à l'aide de la commande <a href="https://doc.4d.com/4dv19/help/command/fr/page667.html">LOGEVENT</a>.</p><p>Pour démarrer ce fichier d'historique :</p><pre><code class="hljs css language-4d"><span class="hljs-function"> SET DATABASE PARAMETER</span>(Diagnostic log recording;<span class="hljs-number">1</span>) <span class="hljs-comment">//lancer l'enregistrement</span></code></pre><p>Les champs suivants sont enregistrés pour chaque événement :</p><table><thead><tr><th>Nom des champs</th><th>Description</th></tr></thead><tbody><tr><td>sequenceNumber</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td></tr><tr><td>timestamp</td><td>Date et heure au format ISO 8601 (YYYY-MM-DDThh:mm:ss.mmm)</td></tr><tr><td>loggerID</td><td>Optionnel</td></tr><tr><td>componentSignature</td><td>Optionnel - signature de composant interne</td></tr><tr><td>messageLevel</td><td>Info, Attention, Erreur</td></tr><tr><td>message</td><td>Description de la saisie de journal</td></tr></tbody></table><p>En fonction de l'événement, d'autres champs peuvent égalementêtre enregistrés, tels que task, socket, etc.</p><h3><a aria-hidden="true" class="anchor" id="debugLogFiles.html_activation-du-fichier"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_activation-du-fichier"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Activation du fichier</h3><p>The <em>4DDiagnosticLog.txt</em> file can log different levelsof messages, from <code>ERROR</code> (most important) to<code>TRACE</code> (less important). By default, the<code>INFO</code> level is set, which means that the file will logonly important events, including errors and unexpected results (seebelow).</p><p>You can select the level of messages using the <code>Diagnosticlog level</code> selector of the <a href="https://doc.4d.com/4dv19/help/command/en/page642.html">SETDATABASE PARAMETER</a> command, depending on your needs. When youselect a level, levels above (which are more important) areimplicitely selected also. The following levels are available:</p><table><thead><tr><th>Colonne #</th><th>Description</th><th>When selected, includes</th></tr></thead><tbody><tr><td>ERROR</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td><td>ERROR</td></tr><tr><td>WARN</td><td>Date et heure au format RFC3339 (yyyy-mm-ddThh:mm:ss.ms)</td><td>ERROR, WARN</td></tr><tr><td>INFO</td><td>ID du Process 4D</td><td>ERROR, WARN, INFO</td></tr><tr><td>DEBUG</td><td>ID unique du process</td><td>ERROR, WARN, INFO, DEBUG</td></tr><tr><td>TRACE</td><td>Other internal information (for 4D technical services)</td><td>ERROR, WARN, INFO, DEBUG, TRACE</td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="debugLogFiles.html_4dsmtplogtxt-4dpop3logtxt-et-4dimaplogtxt"></a><a aria-hidden="true"class="hash-link" href="#debugLogFiles.html_4dsmtplogtxt-4dpop3logtxt-et-4dimaplogtxt"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4DSMTPLog.txt, 4DPOP3Log.txt, et 4DIMAPLog.txt</h2><p>Ces fichiers d'historique enregistrent chaque échange entrel'application 4D et le serveur de mail (SMTP, POP3, IMAP)initialisé par les commandes suivantes :</p><ul><li>SMTP - <a href="#debugLogFiles.html_smtp-new-transporter">SMTPNew transporter</a></li><li>POP3 - <a href="#debugLogFiles.html_pop3-new-transporter">POP3New transporter</a></li><li>IMAP - <a href="#debugLogFiles.html_imap-new-transporter">IMAPNew transporter</a></li></ul><p>Les fichiers d'historique peuvent être générés en deux versions:</p><ul><li><p>une version classique :</p><ul><li>fichiers nommés 4DSMTPLog.txt, 4DPOP3Log.txt, ou4DIMAPLog.txt</li><li>sans pièces jointes</li><li>avec un recyclage automatique tous les 10 MB</li><li>conçue pour des fonctions de débogage habituelles</li></ul><p>Pour lancer cet historique :</p><pre><code class="hljs css language-4d"><span class="hljs-function">SET DATABASE PARAMETER</span>(SMTP Log;<span class="hljs-number">1</span>) <span class="hljs-comment">//lancer log SMTP </span><span class="hljs-function">SET DATABASE PARAMETER</span>(POP3 Log;<span class="hljs-number">1</span>) <span class="hljs-comment">//lancer log POP3 </span><span class="hljs-function">SET DATABASE PARAMETER</span>(IMAP Log;<span class="hljs-number">1</span>) <span class="hljs-comment">//lancer log IMAP</span></code></pre></li></ul><blockquote><p>4D Server : Cliquez sur le bouton <strong>Démarrer les journauxde requêtes et de débogage</strong> dans la <a href="#maintenance.html">Page Maintenance</a> de la fenêtred'administration de 4D Server.</p></blockquote><pre><code class="hljs">  Ce chemin d'accès au journal est retourné par la commande `Get 4D file`.</code></pre><ul><li><p>une version étendue :</p><ul><li>pièce(s) jointe(s) inclue(s)</li><li>nom personnalisé</li><li>conçue à des fins spécifiques</li></ul><p>Pour lancer cet historique :</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$server</span>:=New object...<span class="hljs-comment">//SMTP</span><span class="hljs-variable">$server</span>.logFile:=<span class="hljs-string">"MySMTPAuthLog.txt"</span><span class="hljs-variable">$transporter</span>:=<span class="hljs-function">SMTP New transporter</span>(<span class="hljs-variable">$server</span>)<span class="hljs-comment">// POP3</span><span class="hljs-variable">$server</span>.logFile:=<span class="hljs-string">"MyPOP3AuthLog.txt"</span><span class="hljs-variable">$transporter</span>:=<span class="hljs-function">POP3 New transporter</span>(<span class="hljs-variable">$server</span>)<span class="hljs-comment">//IMAP</span><span class="hljs-variable">$server</span>.logFile:=<span class="hljs-string">"MyIMAPAuthLog.txt"</span><span class="hljs-variable">$transporter</span>:=<span class="hljs-function">IMAP New transporter</span>(<span class="hljs-variable">$server</span>)</code></pre></li></ul><h4><a aria-hidden="true" class="anchor" id="debugLogFiles.html_contenu-2"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_contenu-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Contenu</h4><p>Pour chaque requête, les champs suivants sont enregistrés :</p><table><thead><tr><th>Colonne #</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td></tr><tr><td>2</td><td>Date et heure au format RFC3339 (yyyy-mm-ddThh:mm:ss.ms)</td></tr><tr><td>3</td><td>ID du Process 4D</td></tr><tr><td>4</td><td>ID unique du process</td></tr><tr><td>5</td><td><ul><li>Informations sur le lancement d'une session SMTP, POP3 ou IMAP,y compris le nom d'hôte du serveur, le numéro de port TCP utilisépour se connecter au serveur SMTP, POP3 ou IMAP et l'état TLS,ou</li><li>données échangées entre le serveur et le client, en commençantpar "S &lt;" (données reçues depuis le serveur SMTP, POP3 ou IMAP)ou "C&gt;" (données envoyées par le client IMAP) : liste des modesd'authentification envoyés par le serveur et moded'authentification sélectionné, toute erreur signalée par leserveur SMTP, POP3 ou IMAP, les informations sur l'en-tête del'e-mail envoyé (version standard uniquement) et si l'e-mail estsauvegardé sur le serveur, ou</li><li>Les informations sur la clôture de la session IMAP.</li></ul></td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="debugLogFiles.html_requ%C3%AAtes-client-orda"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_requ%25C3%25AAtes-client-orda"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Requêtes client ORDA</h2><p>Ce journal enregistre chaque requête ORDA envoyée depuis unemachine distante. Vous pouvez diriger les informations du journalvers la mémoire ou vers un fichier sur le disque. Vous pouvezchoisir le nom et l'emplacement de ce fichier journal.</p><p>Pour démarrer ce fichier d'historique :</p><pre><code class="hljs css language-4d"><span class="hljs-comment">//à exécuter sur une machine distante</span>ds.<span class="hljs-function">startRequestLog</span>(<span class="hljs-function">File</span>(<span class="hljs-string">"/PACKAGE/Logs/ordaLog.txt"</span>))  <span class="hljs-comment">//peut aussi être envoyé à la mémoire</span></code></pre><p>Si vous souhaitez utiliser la numérotation séquentielle uniquedans le fichier des requêtes ORDA, vous devez l'activer :</p><pre><code class="hljs css language-4d"><span class="hljs-comment">// à exécuter sur une machine distante</span><span class="hljs-function">SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">1</span>)  <span class="hljs-comment">//pour activer la numérotation automatique de l'historique</span>ds.<span class="hljs-function">startRequestLog</span>(<span class="hljs-function">File</span>(<span class="hljs-string">"/PACKAGE/Logs/ordaLog.txt"</span>))  <span class="hljs-comment">//peut aussi être envoyé à la mémoire</span><span class="hljs-function">SET DATABASE PARAMETER</span>(Client Log Recording;<span class="hljs-number">0</span>)  <span class="hljs-comment">//désactive la numérotation automatique</span></code></pre><p>Les champs suivants sont enregistrés pour chaque requête :</p><table><thead><tr><th>Nom des champs</th><th>Description</th><th>Exemple</th></tr></thead><tbody><tr><td>sequenceNumber</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td><td>104</td></tr><tr><td>url</td><td>URL de la requête ORDA effectuée par le poste client</td><td>"rest/Persons(30001)"</td></tr><tr><td>startTime</td><td>Date et heure de début au format ISO 8601</td><td>"2019-05-28T08:25:12.346Z"</td></tr><tr><td>endTime</td><td>Date et heure de fin au format ISO 8601</td><td>"2019-05-28T08:25:12.371Z"</td></tr><tr><td>duration</td><td>Durée de traitement client (ms)</td><td>25</td></tr><tr><td>response</td><td>Objet réponse du serveur</td><td>{"status":200,"body":{"__entityModel":"Persons",[...]}}</td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="debugLogFiles.html_utilisation-dun-fichier-de-configuration-de-log"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_utilisation-dun-fichier-de-configuration-de-log"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Utilisation d'un fichier de configuration de log</h2><p>Vous pouvez utiliser un <strong>fichier de configuration delog</strong> pour gérer facilement l'enregistrement des journauxdans un environnement de production. Ce fichier est préconfigurépar le développeur. En général, il peut être envoyé aux clientspour qu'ils n'aient qu'à le sélectionner ou à le copier dans undossier local. Une fois activé, le fichier de configuration de logdéclenche l'enregistrement de journaux spécifiques.</p><h3><a aria-hidden="true" class="anchor" id="debugLogFiles.html_activation-du-fichier-1"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_activation-du-fichier-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Activation du fichier</h3><p>Il existe plusieurs façons d'activer le fichier de configurationdes logs :</p><ul><li>Sur le serveur 4D avec interface, vous pouvez ouvrir la pageMaintenance et cliquer sur le bouton <a href="#debugLogFiles.html_load-logs-configuration-file">Charger lefichier de configuration des logs, puis sélectionner lefichier</a>. Dans ce cas, vous pouvez utiliser n'importe quel nompour le fichier de configuration. Il est immédiatement activé surle serveur.</li><li>Vous pouvez copier le fichier de configuration du journal dansle <a href="#debugLogFiles.html_settings-1">dossier Settings</a> duprojet. Dans ce cas, le fichier doit être nommé<code>logConfig.json</code>. Il est activé au démarrage du projet(uniquement sur le serveur en client/serveur).</li><li>Avec une application générée, vous pouvez copier le fichier<code>logConfig.json</code> dans le dossier suivant :<ul><li>Windows :<code>Users\[userName]\AppData\Roaming\[application]</code></li><li>macOS :<code>/Users/[userName]/Library/ApplicationSupport/[application]</code></li></ul></li></ul><blockquote><p>Si vous souhaitez activer le fichier de configuration log pourtous les projets dans les applications autonomes, serveur etdistantes, copiez le ficher <code>logConfig.json</code> dans ledossier suivant : - Windows:<code>Users\[userName]\AppData\Roaming\4D ou \4D Server</code> -macOS: <code>/Users/[userName]/Library/ApplicationSupport/4D ou /4DServer</code></p></blockquote><h3><a aria-hidden="true" class="anchor" id="debugLogFiles.html_description-du-fichier-json"></a><a aria-hidden="true"class="hash-link" href="#debugLogFiles.html_description-du-fichier-json"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Description du fichier JSON</h3><p>Le fichier de configuration de log est un fichier<code>.json</code> qui peut contenir les propriétés suivantes :</p><pre><code class="hljs css language-json">{    <span class="hljs-attr">"$schema"</span>: <span class="hljs-string">"http://json-schema.org/draft-07/schema"</span>,    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Logs Configuration File"</span>,    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"A file that controls the state of different types of logs in 4D clients and servers"</span>,    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,    <span class="hljs-attr">"properties"</span>: {        <span class="hljs-attr">"forceLoggingConfiguration"</span>: {            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Forcing the logs configuration described in the file ingoring changes coming from code or user interface"</span>,            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,            <span class="hljs-attr">"default"</span>: <span class="hljs-literal">true</span>        },        <span class="hljs-attr">"requestLogs"</span>: {            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Configuration for request logs"</span>,            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,            <span class="hljs-attr">"properties"</span>: {                <span class="hljs-attr">"clientState"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Enable/Disable client request logs (from 0 to N)"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>                },                <span class="hljs-attr">"serverState"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Enable/Disable server request logs (from 0 to N)"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>                }            }        },        <span class="hljs-attr">"debugLogs"</span>: {            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Configuration for debug logs"</span>,            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,            <span class="hljs-attr">"properties"</span>: {                <span class="hljs-attr">"commandList"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Commands to log or not log"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,                    <span class="hljs-attr">"items"</span>: {                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>                    },                    <span class="hljs-attr">"minItems"</span>: <span class="hljs-number">1</span>,                    <span class="hljs-attr">"uniqueItems"</span>: <span class="hljs-literal">true</span>                },                <span class="hljs-attr">"state"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"integer to specify type of debuglog and options"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>                }            }        },        <span class="hljs-attr">"diagnosticLogs"</span>:{            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Configuration for debug logs"</span>,            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,            <span class="hljs-attr">"properties"</span>: {                <span class="hljs-attr">"state"</span>:{                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Enable/Disable diagnostic logs 0 or 1 (0 = do not record, 1 = record)"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>                    }            }          },        <span class="hljs-attr">"httpDebugLogs"</span>: {            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Configuration for http debug logs"</span>,            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,            <span class="hljs-attr">"properties"</span>: {                <span class="hljs-attr">"level"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Configure http request logs"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,                    <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">7</span>                },                <span class="hljs-attr">"state"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Enable/Disable recording of web requests"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,                    <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">4</span>                }            }        },        <span class="hljs-attr">"POP3Logs"</span>: {            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Configuration for POP3 logs"</span>,            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,            <span class="hljs-attr">"properties"</span>: {                <span class="hljs-attr">"state"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Enable/Disable POP3 logs (from 0 to N)"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>                }            }        },        <span class="hljs-attr">"SMTPLogs"</span>: {            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Configuration for SMTP logs"</span>,            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,            <span class="hljs-attr">"properties"</span>: {                <span class="hljs-attr">"state"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Enable/Disable SMTP log recording (form 0 to N)"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>                }            }        },        <span class="hljs-attr">"IMAPLogs"</span>: {            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Configuration for IMAP logs"</span>,            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,            <span class="hljs-attr">"properties"</span>: {                <span class="hljs-attr">"state"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Enable/Disable IMAP log recording (form 0 to N)"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>                }            }        },        <span class="hljs-attr">"ORDALogs"</span>: {            <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Configuration for ORDA logs"</span>,            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,            <span class="hljs-attr">"properties"</span>: {                <span class="hljs-attr">"state"</span>: {                    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Enable/Disable ORDA logs (0 or 1)"</span>,                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>                },                <span class="hljs-attr">"filename"</span>: {                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>                }            }        }    }}</code></pre><h3><a aria-hidden="true" class="anchor" id="debugLogFiles.html_exemple"></a><a aria-hidden="true" class="hash-link" href="#debugLogFiles.html_exemple"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h3><p>Voici un exemple de fichier de configuration de log :</p><pre><code class="hljs css language-json">{    <span class="hljs-attr">"forceLoggingConfiguration"</span>: <span class="hljs-literal">false</span>,    <span class="hljs-attr">"requestLogs"</span>: {        <span class="hljs-attr">"clientState"</span>: <span class="hljs-number">1</span>,        <span class="hljs-attr">"serverState"</span>: <span class="hljs-number">1</span>    },    <span class="hljs-attr">"debugLogs"</span>: {        <span class="hljs-attr">"commandList"</span>:[<span class="hljs-string">"322"</span>,<span class="hljs-string">"311"</span>,<span class="hljs-string">"112"</span>],        <span class="hljs-attr">"state"</span>: <span class="hljs-number">4</span>    },    <span class="hljs-attr">"diagnosticLogs"</span>:{        <span class="hljs-attr">"state"</span> : <span class="hljs-number">1</span>    },    <span class="hljs-attr">"httpDebugLogs"</span>: {        <span class="hljs-attr">"level"</span>: <span class="hljs-number">5</span>,        <span class="hljs-attr">"state"</span> : <span class="hljs-number">1</span>    },    <span class="hljs-attr">"POP3Logs"</span>: {        <span class="hljs-attr">"state"</span> : <span class="hljs-number">1</span>    },    <span class="hljs-attr">"SMTPLogs"</span>: {        <span class="hljs-attr">"state"</span> : <span class="hljs-number">1</span>    },    <span class="hljs-attr">"IMAPLogs"</span>: {        <span class="hljs-attr">"state"</span> : <span class="hljs-number">1</span>    },    <span class="hljs-attr">"ORDALogs"</span>: {        <span class="hljs-attr">"state"</span> : <span class="hljs-number">1</span>,        <span class="hljs-attr">"filename"</span>: <span class="hljs-string">"ORDALog.txt"</span>    }}</code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#debugging-remote.html"><span class="arrow-prev">←</span><span>Débogage depuis des machines distantes</span></a><a class="docs-next button" href="#tags.html"><span>Balises detransformation</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#debugLogFiles.html_4drequestslogtxt">4DRequestsLog.txt</a></li><li><a href="#debugLogFiles.html_4drequestslog_processinfotxt">4DRequestsLog_ProcessInfo.txt</a></li><li><a href="#debugLogFiles.html_httpdebuglogtxt">HTTPDebugLog.txt</a></li><li><a href="#debugLogFiles.html_4ddebuglogtxt-standard">4DDebugLog.txt(standard)</a></li><li><a href="#debugLogFiles.html_4ddebuglogtxt-tabul%25C3%25A9">4DDebugLog.txt(tabulé)</a></li><li><a href="#debugLogFiles.html_4ddiagnosticlogtxt">4DDiagnosticLog.txt</a><ul class="toc-headings"><li><a href="#debugLogFiles.html_activation-du-fichier">Activationdu fichier</a></li></ul></li><li><a href="#debugLogFiles.html_4dsmtplogtxt-4dpop3logtxt-et-4dimaplogtxt">4DSMTPLog.txt,4DPOP3Log.txt, et 4DIMAPLog.txt</a></li><li><a href="#debugLogFiles.html_requ%25C3%25AAtes-client-orda">Requêtes clientORDA</a></li><li><a href="#debugLogFiles.html_utilisation-dun-fichier-de-configuration-de-log">Utilisation d'un fichier de configuration de log</a><ul class="toc-headings"><li><a href="#debugLogFiles.html_activation-du-fichier-1">Activation dufichier</a></li><li><a href="#debugLogFiles.html_description-du-fichier-json">Description dufichier JSON</a></li><li><a href="#debugLogFiles.html_exemple">Exemple</a></li></ul></li></ul></nav></div></div></body></html>