<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Object · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Les variables, champs ou expressions de type objet peuvent contenir des données de divers types. La structure des objets &quot;natifs&quot; 4D est basée sur le principe classique des paires &quot;propriété/valeur&quot; (aussi appelées &quot;attribut/valeur). La syntaxe de ces objets s’inspire du JSON :"name="description" /><meta content="fr" name="docsearch:language" /><meta content="Object · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Les variables, champs ou expressions de type objet peuvent contenir des données de divers types. La structure des objets &quot;natifs&quot; 4D est basée sur le principe classique des paires &quot;propriété/valeur&quot; (aussi appelées &quot;attribut/valeur). La syntaxe de ces objets s’inspire du JSON :"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#dt_object.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Object<a aria-hidden="true" class="anchor" id="object.html"></a></h1></header><article><div><p><span>Les variables, champs ou expressions de type objet peuventcontenir des données de divers types. La structure des objets"natifs" 4D est basée sur le principe classique des paires"propriété/valeur" (aussi appelées "attribut/valeur). La syntaxe deces objets s’inspire du JSON :</span></p><ul><li><p><span>Un nom de propriété est toujours un texte, par exemple"Nom". Il doit suivre des <a href="#object.html_object-properties">règles spécifiques</a>.</span></p></li><li><p><span>Une valeur de propriété peut être du type suivant:</span></p><ul><li><span>Numérique (réel, entier long, etc.)</span></li><li><span>Texte</span></li><li><span>null</span></li><li><span>boolean</span></li><li><span>Pointeur (stocké tel quel, évalué à l’aide de la commande<code>JSON Stringify</code> ou lors d’une copie),</span></li><li><span>Date (type date ou chaîne au format date ISO)</span></li><li><span>Objet(1) (les objets peuvent être imbriqués sur plusieursniveaux)</span></li><li><span>Image(2)</span></li><li><span>collection</span></li></ul></li></ul><p><span>(1) Les objets ORDA tels que les <a href="#object.html_entity">entités</a> ou les <a href="#object.html_entity-selection">sélections d'entités</a> ne peuventpas être stockés dans les <strong>champs objet</strong>; ils sontnéanmoins entièrement pris en charge dans les <strong>variablesobjet</strong> en mémoire.</span></p><p><span>(2)Lorsqu'elles sont exposées sous forme de texte dans ledébogueur ou exportées en JSON, les propriétés d'objet de typeimage indiquent "[objet Image]".</span></p><p><span><strong>Attention :</strong> N'oubliez pas que les nomsd'attributs tiennent compte des majuscules/minuscules.</span></p><p><span>Vous gérez les variables, les champs ou les expressions detype Objet à l'aide de la <a href="#object.html_syntax-basics">notation objet</a> ou des commandesclassiques du thème <strong>Objets (langage)</strong>. A noter quedes commandes spécifiques du thème <strong>Requêtes</strong>,telles que <code>QUERY BY ATTRIBUTE</code>, <code>QUERY SELECTIONBY ATTRIBUTE</code> ou <code>ORDER BY ATTRIBUTE</code> peuvent êtreutilisées pour traiter des champs objets.</span></p><p><span>Chaque valeur de propriété accessible par la notationobjet est considérée comme une expression. Vous pouvez utiliser cesvaleurs partout où des expressions 4D sont attendues :</span></p><ul><li><span>Dans le code 4D, soit écrites dans les méthodes (éditeurde méthodes) soit externalisées (formules, fichiers d'étiquettestraités par la commande <code>PROCESS 4D TAGS</code> ou le ServeurWeb, fichiers d'export, documents 4D Write Pro, etc.),</span></li><li><span>Dans les zones d'expressions du débogueur etl'explorateur d'exécution,</span></li><li><span>Dans la liste de propriétés de l'éditeur de formulairespour les objets formulaires : champ Variable ou Expression etplusieurs expressions de list box et colonnes (source de données,couleur de fond, style ou couleur de police).</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="object.html_initialisation"></a><a aria-hidden="true" class="hash-link" href="#object.html_initialisation"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Initialisation</span></h2><p><span>Les objets doivent être initialisés à l'aide, par exemple,de la commande <code>New object</code>, sinon une erreur de syntaxesera générée à la suite d'une lecture ou d'une modification deleurs propriétés.</span></p><p><span>Exemple :</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-function"> C_OBJET</span>(<span class="hljs-variable">$obVar</span>) <span class="hljs-comment">//création d'une variable 4D de type objet. $obVar:=Creer objet//initialisation de l'objet et assignation à la variable 4D</span></code></span></pre><h3><a aria-hidden="true" class="anchor" id="object.html_objet-standard-ou-partag%C3%A9"></a><a aria-hidden="true" class="hash-link" href="#object.html_objet-standard-ou-partag%25C3%25A9"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Objet standard ou partagé</h3><p>Vous pouvez créer deux types d'objets :</p><ul><li>standard (non partagés), à l'aide de la commande <code>Creerobjet</code>. Ces objets peuvent être modifiés sans contrôled'accès spécifique mais ne peuvent pas être partagés entre lesprocess.</li><li>partagés, à l'aide de la commande <code>New sharedobject</code>. Le contenu de ces objets peut être partagé entre lesprocess, y compris des process (thread) préemptifs. L'accès à cesobjets doit être contrôlé via des structures <code>Use...Enduse</code>. Pour plus d'informations, veuillez vous reporter à lapage <a href="#shared.html">Objets partagés et collectionspartagées</a>.</li></ul><h2><a aria-hidden="true" class="anchor" id="object.html_principes-de-syntaxe"></a><a aria-hidden="true" class="hash-link" href="#object.html_principes-de-syntaxe"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Principes de syntaxe</h2><p>La notation objet est utilisée pour accéder aux valeurs depropriétés d'objets via des séquences de symboles et de propriétésréférencées (tokens).</p><h3><a aria-hidden="true" class="anchor" id="object.html_propri%C3%A9t%C3%A9s-des-objets"></a><a aria-hidden="true" class="hash-link" href="#object.html_propri%25C3%25A9t%25C3%25A9s-des-objets"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Propriétés des objets</h3><p>Avec la notation objet, il est possible d'accéder aux propriétésd'objets (aussi appelées attributs d'objets) de deux façons :</p><ul><li>à l'aide du symbole "point" : &gt; objet.NomPropriété</li></ul><p>Exemple :</p><pre><code class="hljs css language-4d">     employee.name:=<span class="hljs-string">"Smith"</span></code></pre><ul><li>à l'aide d'une chaîne entre crochets : &gt;objet["NomPropriété"]</li></ul><p>Voici quelques exemples :</p><pre><code class="hljs css language-4d">     <span class="hljs-variable">$vName</span>:=employee[<span class="hljs-string">"name"</span>]     <span class="hljs-comment">//ou :</span>     <span class="hljs-variable">$property</span>:=<span class="hljs-string">"name"</span>     <span class="hljs-variable">$vName</span>:=employee[<span class="hljs-variable">$property</span>]</code></pre><p>Comme la valeur d'une propriété d'objet peut elle-même être unobjet ou une collection, la notation objet requiert une séquence desymboles pour accéder aux sous-propriétés, par exemple :</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$vAge</span>:=employee.children[<span class="hljs-number">2</span>].age</code></pre><p>La notation objet est utilisable avec tout élément de langagequi contient ou retourne un objet, c'est-à-dire :</p><ul><li>avec les <strong>objets</strong> eux-mêmes (stockés dans desvariables, champs, propriétés d'objets, tableaux d'objets ouéléments de collections). Voici quelques exemples :</li></ul><pre><code class="hljs css language-4d">     <span class="hljs-variable">$age</span>:=<span class="hljs-variable">$myObjVar</span>.employee.age <span class="hljs-comment">//variable</span> <span class="hljs-variable">$addr</span>:=[Emp]data_obj.address <span class="hljs-comment">//champ</span> <span class="hljs-variable">$city</span>:=<span class="hljs-variable">$addr</span>.city <span class="hljs-comment">//propriété d'un objet</span> <span class="hljs-variable">$pop</span>:=<span class="hljs-variable">$aObjCountries{2}</span>.population <span class="hljs-comment">//tableau d'objets</span> <span class="hljs-variable">$val</span>:=<span class="hljs-variable">$myCollection</span>[<span class="hljs-number">3</span>].subvalue <span class="hljs-comment">//élément de collection</span></code></pre><ul><li>avec les <strong>commandes 4D</strong> qui retournent desobjets. Exemple :</li></ul><pre><code class="hljs css language-4d">     <span class="hljs-variable">$measures</span>:=Lire mesures base.DB.tables</code></pre><ul><li>avec les <strong>méthodes projet</strong> qui retournent desobjets. Exemple :</li></ul><pre><code class="hljs css language-4d">      <span class="hljs-comment">// MyMethod1</span><span class="hljs-function">     C_OBJECT</span>(<span class="hljs-variable">$0</span>)     <span class="hljs-variable">$0</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"a"</span>;<span class="hljs-number">10</span>;<span class="hljs-string">"b"</span>;<span class="hljs-number">20</span>)      <span class="hljs-comment">//myMethod2</span>     <span class="hljs-variable">$result</span>:=MyMethod1.a <span class="hljs-comment">//10</span></code></pre><ul><li><strong>Collections</strong> Exemple :</li></ul><pre><code class="hljs css language-4d">     myColl.length <span class="hljs-comment">//taille de la collection</span></code></pre><h3><a aria-hidden="true" class="anchor" id="object.html_pointeurs"></a><a aria-hidden="true" class="hash-link"href="#object.html_pointeurs"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Pointeurs</h3><p><strong>Note :</strong> Les objets étant toujours passés parréférence, l'utilisation de pointeurs n'est généralement pasnécessaire. En passant un objet, 4D utilise automatiquement, eninterne, un mécanisme similaire à un pointeur pour minimiser lamémoire nécessaire, pour vous permettre de modifier le paramètre etde retourner les modifications. Par conséquent, vous n'aurez pasbesoin d'utiliser des pointeurs. Cependant, si vous souhaitezutiliser des pointeurs, il est possible d'accéder aux valeurs depropriétés via des pointeurs.</p><p>La notation objet pour les pointeurs est semblable à la notationobjet standard, à la seule différence que le symbole "point" doitêtre omis.</p><ul><li>Accès direct :</li></ul><blockquote><p>pointeurObjet-&gt;nomPropriété</p></blockquote><ul><li>Accès par le nom :</li></ul><blockquote><p>pointeurObjet-&gt; nomPropriété"]</p></blockquote><p>Exemple :</p><pre><code class="hljs css language-4d"><span class="hljs-function"> C_OBJECT</span>(vObj)<span class="hljs-function"> C_POINTER</span>(vPtr) vObj:=New object vObj.a:=<span class="hljs-number">10</span> vPtr:=-&gt;vObj x:=vPtr-&gt;a <span class="hljs-comment">//x=10</span></code></pre><h3><a aria-hidden="true" class="anchor" id="object.html_valeur-null"></a><a aria-hidden="true" class="hash-link" href="#object.html_valeur-null"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Valeur Null</h3><p>Lorsque la notation objet est utilisée, la valeur<strong>null</strong> est prise en charge via la commande<strong>Null</strong>. Cette commande peut être utilisée pouraffecter ou comparer la valeur null aux propriétés d'objets ou auxéléments de collections, par exemple :</p><pre><code class="hljs css language-4d"> myObject.address.zip:=<span class="hljs-literal">Null</span><span class="hljs-keyword"> If</span>(myColl[<span class="hljs-number">2</span>]=<span class="hljs-literal">Null</span>)</code></pre><p>Pour plus d'informations, veuillez vous reporter à ladescription de la commande <code>Null</code>.</p><h3><a aria-hidden="true" class="anchor" id="object.html_valeur-ind%C3%A9finie"></a><a aria-hidden="true"class="hash-link" href="#object.html_valeur-ind%25C3%25A9finie"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Valeur Indéfinie</h3><p>L'évaluation d'une propriété d'objet peut parfois produire unevaleur indéfinie (undefined). En règle générale, lorsque le codetente de lire ou d'affecter des expressions indéfinies, 4D génèredes erreurs, hormis dans les cas décrits ci-dessous :</p><ul><li>La lecture d'une propriété d'un objet ou d'une valeurindéfini(e) retourne Indéfini ; l'affectation d'une valeurindéfinie à des variables (hors tableaux) a le même effetqu'appeler <code>CLEAR VARIABLE</code> avec elles :</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">     C_OBJET</span>(<span class="hljs-variable">$o</span>)<span class="hljs-function"> C_ENTIER Long</span>(<span class="hljs-variable">$val</span>) <span class="hljs-variable">$val</span>:=<span class="hljs-number">10</span> <span class="hljs-comment">//$val=10</span> <span class="hljs-variable">$val</span>:=<span class="hljs-variable">$o</span>.a <span class="hljs-comment">//$o.a est indéfini (pas d'erreur), et affecter cette valeur efface la variable</span>  <span class="hljs-comment">//$val=0</span></code></pre><ul><li>La lecture de la propriété <strong>length</strong> d'unecollection indéfinie renvoie 0 :</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">     C_COLLECTION</span>(<span class="hljs-variable">$c</span>) <span class="hljs-comment">//variable créée mais pas de collection définie</span> <span class="hljs-variable">$size</span>:=<span class="hljs-variable">$c</span>.length <span class="hljs-comment">//$size = 0</span></code></pre><ul><li>Une valeur indéfinie passée en paramètre à une méthode projetest automatiquement convertie en 0 ou en "" en fonction de ladéclaration du type du paramètre.</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">     C_OBJECT</span>(<span class="hljs-variable">$o</span>)<span class="hljs-function"> mymethod</span>(<span class="hljs-variable">$o</span>.a) <span class="hljs-comment">//passage d'un paramètre indéfini</span>  <span class="hljs-comment">//Dans la méthode mymethod</span><span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$1</span>) <span class="hljs-comment">//Paramètre de type texte</span>  <span class="hljs-comment">// $1 contient ""</span></code></pre><ul><li>Une expression de condition est automatiquement convertie àFaux lorsque son évaluation donne Indéfinie avec les mots-clés Siet Au cas ou :</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">     C_OBJECT</span>(<span class="hljs-variable">$o</span>)<span class="hljs-keyword">     If</span>(<span class="hljs-variable">$o</span>.a) <span class="hljs-comment">// faux</span><span class="hljs-keyword">     End if</span><span class="hljs-keyword">     Case of</span>        :(<span class="hljs-variable">$o</span>.a) <span class="hljs-comment">// faux</span><span class="hljs-keyword">     End case</span></code></pre><ul><li>L'affectation d'une valeur indéfinie à une propriété d'objetexistante réinitialise ou efface sa valeur, selon son type :</li><li>Objet, collection, pointeur : Null</li><li>Image : image vide</li><li>Booléen : False</li><li>Chaîne : ""</li><li>Numérique : 0</li><li>Date : !00-00-00! si la base utilise le type date pour lesobjets, sinon ""</li><li>Heure : 0 (nombre de ms)</li><li>Indéfini, Null : pas de changement</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">     C_OBJECT</span>(<span class="hljs-variable">$o</span>) <span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"a"</span>;<span class="hljs-number">2</span>) <span class="hljs-variable">$o</span>.a:=<span class="hljs-variable">$o</span>.b <span class="hljs-comment">//$o.a=0</span></code></pre><ul><li>L'affectation d'une valeur indéfinie à une propriété d'objetinexistante ne fait rien.</li></ul><p>Lorsque des expressions d'un type donné sont attendues dansvotre code 4D, vous pouvez vous assurer qu'elles auront le typesouhaité même en cas de valeur Indéfinie en les encadrant avec lacommande de transtypage 4D appropriée : <code>String</code>,<code>Num</code>, <code>Time</code>, <code>Date</code>,<code>Bool</code>. Ces commandes retournent une valeur vide du typespécifié lorsque l'expression est évaluée à Indéfinie. Par exemple:</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$myString</span>:=<span class="hljs-function">Lowercase</span>(<span class="hljs-function">String</span>(<span class="hljs-variable">$o</span>.a.b)) <span class="hljs-comment">//pour être sûr d'obtenir une valeur texte même si indéfinie</span>  <span class="hljs-comment">//afin d'éviter des erreurs dans le code</span></code></pre><h2><a aria-hidden="true" class="anchor" id="object.html_exemples"></a><a aria-hidden="true" class="hash-link"href="#object.html_exemples"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemples</h2><p>L'utilisation de la notation objet simplifie grandement le code4D de manipulation des objets. A noter toutefois que la notationutilisant les commandes "OB" reste entièrement prise en charge.</p><ul><li>Ecriture et lecture de propriétés d'objets (cet exemple comparela notation objet et la syntaxe avec commandes) :</li></ul><pre><code class="hljs css language-4d">  <span class="hljs-comment">// Utilisation de la notation objet</span><span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$myObj</span>) <span class="hljs-comment">//déclaration d'une variable objet 4D</span> <span class="hljs-variable">$myObj</span>:=New object <span class="hljs-comment">//création d'un objet et affectation à la variable</span> <span class="hljs-variable">$myObj</span>.age:=<span class="hljs-number">56</span> <span class="hljs-variable">$age</span>:=<span class="hljs-variable">$myObj</span>.age <span class="hljs-comment">//56</span>  <span class="hljs-comment">// Utilisation de la syntaxe par commande</span><span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$myObj2</span>) <span class="hljs-comment">//déclaration d'une variable objet 4D</span><span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$myObj2</span>;<span class="hljs-string">"age"</span>;<span class="hljs-number">42</span>) <span class="hljs-comment">//création d'un objet et création de la propriété age</span> <span class="hljs-variable">$age</span>:=<span class="hljs-function">OB Get</span>(<span class="hljs-variable">$myObj2</span>;<span class="hljs-string">"age"</span>) <span class="hljs-comment">//42</span>  <span class="hljs-comment">// Bien entendu, les deux notations peuvent être utilisées simultanément</span><span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$myObj3</span>)<span class="hljs-function"> OB SET</span>(<span class="hljs-variable">$myObj3</span>;<span class="hljs-string">"age"</span>;<span class="hljs-number">10</span>) <span class="hljs-variable">$age</span>:=<span class="hljs-variable">$myObj3</span>.age <span class="hljs-comment">//10</span></code></pre><ul><li>Création de propriétés et affectation de valeurs, y comprisd'autres objets :</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function"> C_OBJECT</span>(<span class="hljs-variable">$Emp</span>) <span class="hljs-variable">$Emp</span>:=New object <span class="hljs-variable">$Emp</span>.city:=<span class="hljs-string">"London"</span> <span class="hljs-comment">//crée la propriété city avec la valeur "London"</span> <span class="hljs-variable">$Emp</span>.city:=<span class="hljs-string">"Paris"</span> <span class="hljs-comment">//modifie la propriété city</span> <span class="hljs-variable">$Emp</span>.phone:=<span class="hljs-function">New object</span>(<span class="hljs-string">"office"</span>;<span class="hljs-string">"123456789"</span>;<span class="hljs-string">"home"</span>;<span class="hljs-string">"0011223344"</span>)  <span class="hljs-comment">//crée la propriété phone avec un autre objet comme valeur</span></code></pre><ul><li>Lire une valeur dans un sous-objet est très simple avec lanotation objet :</li></ul><pre><code class="hljs css language-4d"> <span class="hljs-variable">$vCity</span>:=<span class="hljs-variable">$Emp</span>.city <span class="hljs-comment">//"Paris"</span> <span class="hljs-variable">$vPhone</span>:=<span class="hljs-variable">$Emp</span>.phone.home <span class="hljs-comment">//"0011223344"</span></code></pre><ul><li>Vous pouvez accéder aux propriétés d'objets via des chaînesgrâce à l'opérateur [ ]</li></ul><pre><code class="hljs css language-4d"> <span class="hljs-variable">$Emp</span>[<span class="hljs-string">"city"</span>]:=<span class="hljs-string">"Berlin"</span> <span class="hljs-comment">//modification de la propriété city</span>  <span class="hljs-comment">//cette syntaxe est utile pour créer des propriétés à l'aide de variables</span><span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$addr</span>) <span class="hljs-variable">$addr</span>:=<span class="hljs-string">"address"</span><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$i</span>;<span class="hljs-number">1</span>;<span class="hljs-number">4</span>)    <span class="hljs-variable">$Emp</span>[<span class="hljs-variable">$addr</span>+<span class="hljs-function">Chaine</span>(<span class="hljs-variable">$i</span>)]:=<span class="hljs-string">""</span><span class="hljs-keyword">End for</span>  <span class="hljs-comment">// crée 4 propriétés vides "address1...address4" dans l'objet $Emp</span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#number.html"><span class="arrow-prev">←</span> <span>Numérique(Réel, Entier, Entier long)</span></a><a class="docs-next button"href="#picture.html"><span>Image</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#object.html_initialisation">Initialisation</a><ul class="toc-headings"><li><a href="#object.html_objet-standard-ou-partag%25C3%25A9">Objetstandard ou partagé</a></li></ul></li><li><a href="#object.html_principes-de-syntaxe">Principes desyntaxe</a><ul class="toc-headings"><li><a href="#object.html_propri%25C3%25A9t%25C3%25A9s-des-objets">Propriétésdes objets</a></li><li><a href="#object.html_pointeurs">Pointeurs</a></li><li><a href="#object.html_valeur-null">Valeur Null</a></li><li><a href="#object.html_valeur-ind%25C3%25A9finie">ValeurIndéfinie</a></li></ul></li><li><a href="#object.html_exemples">Exemples</a></li></ul></nav></div></div></body></html>