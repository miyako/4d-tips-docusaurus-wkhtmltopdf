<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Administration · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="4D offre plusieurs outils intégrés permettant de démarrer, arrêter ou administrer le serveur web intégré."name="description" /><meta content="fr" name="docsearch:language" /><meta content="Administration · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="4D offre plusieurs outils intégrés permettant de démarrer, arrêter ou administrer le serveur web intégré."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#webServerAdmin.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Administration<a aria-hidden="true" class="anchor" id="webServerAdmin.html"></a></h1></header><article><div><p><span>4D offre plusieurs outils intégrés permettant de démarrer,arrêter ou administrer le serveur web intégré.</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_d%C3%A9marrer-le-serveur-web-4d"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_d%25C3%25A9marrer-le-serveur-web-4d"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Démarrer le Serveur Web 4D</span></h2><blockquote><p><span>Une licence 4D Web Application est requise pour pouvoirlancer le serveur web de 4D ou 4D Server. Pour plus d'informations,consultez le <a href="https://www.4d.com">site web de4D</a>.</span></p></blockquote><p><span>Un projet 4D peut démarrer et surveiller un serveur Webpour l'application principale (hôte) ainsi que chaque composanthébergé.</span></p><p><span>Il y a plusieurs manières de démarrer le serveur Webprincipal :</span></p><ul><li><p><span>via un bouton/une commande de menu :</span></p><ul><li><span>4D: <strong>Exécution &gt; démarrer le serveurWeb</strong><br /><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/start1.png" /></span></li><li><span>4D Server : depuis la page du serveur HTTP, cliquez sur<strong>Démarrer le serveur HTTP</strong><br /><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/start2.png" /></span></li></ul></li><li><p><span>automatiquement à l'ouverture de l'application 4D. encochant l'option <strong>Lancer le serveur Web audémarrage</strong> dans <strong>Propriétés</strong> &amp;#062<strong>Web</strong> &amp;#062 <strong>Configuration</strong><br /><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/config.png" /></span></p></li><li><p><span>Par programmation, en appelant la fonction <a href="#webServerAdmin.html_start"><code>webServer.start()</code></a> oula commande <code>WEB START SERVER</code>.</span></p></li></ul><p><span>Le serveur Web de n'importe quel composant peut être lancéen appelant la fonction <a href="#webServerAdmin.html_start"><code>webServer.start()</code></a> surl'objet serveur Web du composant.</span></p><blockquote><p><span>Il n'est pas nécessaire de relancer l'application 4D pourdémarrer ou arrêter le serveur Web.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_arr%C3%AAter-le-serveur-web-4d"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_arr%25C3%25AAter-le-serveur-web-4d"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Arrêter le Serveur Web 4D</span></h2><p><span>Il y a plusieurs manières d'arrêter le serveur Webprincipal :</span></p><ul><li><p><span>Via le menu 4D, <strong>Exécution &gt; Arrêter le serveurWeb</strong>, ou via le bouton <strong>Arrêter le serveurHTTP</strong> de 4D Server (les deux items affichent<strong>Démarrer...</strong> quand le serveur n'est pas encoredémarré).</span></p></li><li><p><span>Par programmation, en appelant la fonction <a href="#webServerAdmin.html_stop"><code>webServer.stop()</code></a> ou lacommande <code>WEB STOP SERVER</code>.</span></p></li></ul><p><span>Le serveur Web de n'importe quel composant peut êtrearrêté en appelant la fonction ``webServer.stop() sur l'objetserveur Web du composant.</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_tester-le-serveur-web-4d"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_tester-le-serveur-web-4d"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Tester le Serveur Web 4D</span></h2><p><span>La commande <strong>Tester le serveur Web</strong> peutêtre utilisé pour s'assurer que le serveur web intégré fonctionnecorrectement (4D uniquement). Cette commande est accessible depuisle menu <strong>Run</strong> lorsque le serveur web est lancé:</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/test1.png" /></span></p><p><span>Lorsque vous sélectionnez cette commande, la paged'accueil du site Web publié par l'application 4D s'affiche dansune fenêtre de votre navigateur par défaut :</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/defaultHomePage.png" /></span></p><p><span>Cette commande vous permet de vérifier que le serveur web,l'affichage de la page d'accueil, etc. fonctionnent correctement.La page est appelée en utilisant l'URL <em>localhost</em>, qui estle raccourci standard désignant l'adresse IP de la machine surlaquelle le navigateur web est exécuté. Cette commande prend encompte le numéro du <a href="#webServerAdmin.html_http-port">portde publication TCP</a> spécifié dans les paramètres.</span></p><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_vider-le-cache"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_vider-le-cache"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Vider le cache</span></h2><p><span>À tout moment, vous pouvez vider le cache des pages et desimages qu'il contient (si, par exemple, vous avez modifié une pagestatique et que vous souhaitez la recharger dans lecache).</span></p><p><span>Pour ce faire, vous pouvez :</span></p><ul><li><span>4D : cliquez sur le bouton <strong>Vider lecache</strong> dans la page Web/Options (I) de la boîte de dialoguedes Paramètres.</span></li><li><span>4D Server : cliquez sur le bouton <strong>Vider lecache</strong> dans la page HTTP de la fenêtre <a href="#webServerAdmin.html_http-server-page">Administration de 4DServer</a>.</span></li></ul><p><span>Le cache est alors immédiatement effacé.</span></p><blockquote><p><span>Vous pouvez aussi utiliser l'url <a href="#webServerAdmin.html_cacheclear">/4DCACHECLEAR</a>.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_explorateur-dex%C3%A9cution"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_explorateur-dex%25C3%25A9cution"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Explorateur d'exécution</span></h2><p><span>La page <strong>Watch</strong> (rubrique<strong>Web</strong>) de l'Explorateur d'exécution affiche lesinformations du serveur Web, notamment :</span></p><ul><li><p><span><strong>Occupation du cache Web</strong> : indique lenombre de pages présentes dans le cache web ainsi que lepourcentage d'utilisation. Cette information n'est disponible quesi le serveur web est actif et que la taille du cache estsupérieure à 0.</span></p></li><li><p><span><strong>Temps d’activité du serveur Web</strong> : indiquela durée d'utilisation (au format heures:minutes:secondes) duserveur Web. Ces informations ne sont disponibles que si le serveurweb est actif.</span></p></li><li><p><span><strong>Nombre de requêtes http</strong> : indique lenombre total de requêtes HTTP reçues depuis le démarrage du serveurweb, ainsi qu'un nombre instantané de requêtes par seconde (mesureprise entre deux mises à jour de l'Explorateur d'exécution). Cesinformations ne sont disponibles que si le serveur web estactif.</span></p></li></ul><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_urls-dadministration"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_urls-dadministration"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>URLs d'administration</span></h2><p><span>Les URL d'administration Web vous permettent de contrôlerle site web publié sur votre serveur. 4D Web Server accepte quatreURLs spécifiques : <em>/4DSTATS</em>, <em>/4DHTMLSTATS</em>,/<em>4DCACHECLEAR</em> et <em>/4DWEBTEST</em>.</span></p><blockquote><p><span><em>/4DSTATS</em>, <em>/4DHTMLSTATS</em> et<em>/4DCACHECLEAR</em> ne sont disponibles que pour le concepteuret l'administrateur de la base de données. Si le système de mot depasse 4D n'a pas été activé, ces URL sont disponibles pour tous lesutilisateurs. /4DWEBTEST est toujours disponible.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_4dstats"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_4dstats"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>/4DSTATS</span></h3><p><span>L'URL <strong>/4DSTATS</strong> renvoie plusieurs élémentsd'information dans un tableau HTML (affichable dans un navigateur):</span></p><table><thead><tr><th>Élément</th><th>Description</th></tr></thead><tbody><tr><td>Cache Current Size</td><td>Taille actuelle du cache du serveur web (en octets)</td></tr><tr><td>Cache Max Size</td><td>Taille maximale du cache (en octets)</td></tr><tr><td>Cached Object Max Size</td><td>Taille maximale de chaque objet dans le cache (en octets)</td></tr><tr><td>Cache Use</td><td>Pourcentage de cache utilisé</td></tr><tr><td>Cached Objects</td><td>Nombre d'objects trouvés dans le cache, <strong>imagesincluses</strong></td></tr></tbody></table><p><span>Ces informations peuvent vous permettre de vérifier lefonctionnement de votre serveur et éventuellement d'adapter lesparamètres correspondants.</span></p><blockquote><p><span>La commande <code>WEB LIRE STATISTIQUES</code> permetégalement d'obtenir des informations sur la façon dont le cache estutilisé pour les pages statiques.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_4dhtmlstats"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_4dhtmlstats"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>/4DHTMLSTATS</span></h3><p><span>L'URL <em>/4DHTMLSTATS</em> retourne les mêmesinformations que l'URL <em>/4DSTATS</em>, également sous forme detableau. La différence est que le champ <strong>Cachedobjects</strong> ne compte que les pages HTML (les fichiersd'images ne sont pas pris en compte). De plus, cette URL retournele champ <strong>Filtered Objects</strong>.</span></p><table><thead><tr><th>Élément</th><th>Description</th></tr></thead><tbody><tr><td>Cache Current Size</td><td>Taille actuelle du cache du serveur web (en octets)</td></tr><tr><td>Cache Max Size</td><td>Taille maximale du cache (en octets)</td></tr><tr><td>Cached Object Max Size</td><td>Taille maximale de chaque objet dans le cache (en octets)</td></tr><tr><td>Cache Use</td><td>Pourcentage de cache utilisé</td></tr><tr><td>Cached Objects</td><td>Nombre d'objects trouvés dans le cache, <strong>sans lesimages</strong></td></tr><tr><td>Filtered Objects</td><td>Nombre d'objets dans le cache non pris en compte par l'URL,notamment les images</td></tr></tbody></table><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_4dcacheclear"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_4dcacheclear"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>/4DCACHECLEAR</span></h3><p><span>L'URL <em>/4DCACHECLEAR</em> retire immédiatement lespages statiques et les images du cache. Il vous permet donc de"forcer" la mise à jour des pages qui ont été modifiées.</span></p><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_4dwebtest"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_4dwebtest"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>/4DWEBTEST</span></h3><p><span>L'URL <em>/4DWEBTEST</em> permet de vérifier l'état duserveur web. Lorsque cette URL est appelée, 4D renvoie un fichiertexte avec les champs HTTP suivants remplis :</span></p><table><thead><tr><th>Champ HTTP</th><th>Description</th><th>Exemple</th></tr></thead><tbody><tr><td>Date</td><td>date courante au format RFC 822 format</td><td>Mon, 7 Dec 2020 13:12:50 GMT</td></tr><tr><td>Server</td><td>4D/numéro de version</td><td>4D/18.5.0 (Build 18R5.257368)</td></tr><tr><td>User-Agent</td><td>nom et version @ adresse IP du client</td><td>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36(KHTML, like Gecko) Chrome/86.0.4240.183 Safari/537.36 @127.0.0.1</td></tr></tbody></table><h2><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_logs"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_logs"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Logs</span></h2><p><span>4D vous permet de générer deux historiques de requêtes Web:</span></p><ul><li><span>un historique de débogage, utile dans la phase dedéveloppement du serveur web(<em>HTTPDebugLog.txt</em>),</span></li><li><span>un journal standardisé des requêtes web, plutôt utilisé àdes fins statistiques (<em>logweb.txt</em>).</span></li></ul><p><span>Les deux fichiers journaux sont automatiquement créés dansle dossier <strong>Logs</strong> du projetd'application.</span></p><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_httpdebuglogtxt"></a><a aria-hidden="true"class="hash-link" href="#webServerAdmin.html_httpdebuglogtxt"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>HTTPDebugLog.txt</span></h3><p><span>Le <a href="#webServerAdmin.html_debug-log">fichier dedébogage</a> peut être activé via l'objet <a href="#webServerObject.html"><code>web server</code></a> ou la commande<code>WEB FIXER OPTION</code></span></p><p><span>Ce fichier d'historique enregistre chaque requête HTTP etchaque réponse en mode brut (raw). Les requêtes sont enregistréesdans leur totalité (en-têtes compris). Les parts du body peuventoptionellement être enregistrées.</span></p><p><span>Les champs suivants sont enregistrés pour chaque requêteet réponse :</span></p><table><thead><tr><th>Nom des champs</th><th>Description</th></tr></thead><tbody><tr><td>SocketID</td><td>ID du socket utilisé pour la communication</td></tr><tr><td>PeerIP</td><td>Adresse IPv4 de l'hôte (client)</td></tr><tr><td>PeerPort</td><td>Port utilisé par l'hôte (client)</td></tr><tr><td>TimeStamp</td><td>Horodatage en millisecondes (depuis le démarrage dusystème)</td></tr><tr><td>ConnectionID</td><td>Connexion UUID (UUID du VTCPSocket utilisé pour lacommunication)</td></tr><tr><td>SequenceNumber</td><td>Numéro d'opération séquentiel et unique dans la sessiond'historique</td></tr></tbody></table><h3><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_logwebtxt"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_logwebtxt"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>logweb.txt</span></h3><p><span>Le <a href="#webServerAdmin.html_log-recording">fichierd'enregistrements d'historique Web</a> peut être activé via l'objet<a href="#webServerObject.html"><code>web server</code></a>, lacommande <code>WEB FIXER OPTION</code> ou la page <strong>Web &gt;Log</strong> des <strong>Propriétés</strong>. Vous devezsélectionner un format d'historique.</span></p><h4><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_clfdlf"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_clfdlf"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>CLF/DLF</span></h4><p><span>Chaque ligne du fichier représente une requête, comme :<em>host rfc931 user [DD/MMM/YYYY:HH:MM:SS] "request" statelength</em> Chaque champ est séparé par un espace et chaque lignese termine par la séquence CR/LF (caractère 13, caractère10).</span></p><p><span>Le format DLF (Distilled Log Format) est similaire auformat CLF (Common Log format) et utilise exactement la mêmestructure. Il ajoute simplement deux champs HTTP supplémentaires àla fin de chaque requête : Referer et User-agent. Voici ladescription des formats CLF/DLF (non personnalisables) :</span></p><table><thead><tr><th>Nom des champs</th><th>Description</th></tr></thead><tbody><tr><td>host</td><td>Adresse IP du client (ex. 192.100.100.10)</td></tr><tr><td>rfc931</td><td>information non générée par 4D, c'est toujours - (le signemoins)</td></tr><tr><td>user</td><td>le nom d'utilisateur tel qu'il est authentifié, ou bien - (lesigne moins). Si le nom de l’utilisateur contient des espaces, ilssont remplacés par des _ (tiret bas).</td></tr><tr><td>DD/MMM/YYYY:HH:MM:SS</td><td>DD : jour, MMM : abréviation de 3 lettres pour le nom du mois(Jan, Feb,...), YYYY : année, HH : heure, MM : minutes, SS :secondes. La date et heure sont locales au serveur.</td></tr><tr><td>request</td><td>requête envoyée par le client (ex. GET /index.htmHTTP/1.0)</td></tr><tr><td>state</td><td>réponse donnée par le serveur</td></tr><tr><td>length</td><td>taille des données retournées (HTTP header exclu) ou 0</td></tr><tr><td>Referer</td><td>DLF uniquement. Contient l'URL de la page qui pointe vers ledocument de la requête.</td></tr><tr><td>User-agent</td><td>DLF uniquement - Contient le nom et la version du navigateur oudu logiciel du client à l'origine de la demande</td></tr></tbody></table><h4><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_elwwlf"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_elwwlf"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ELW/WLF</span></h4><p><span>Le format ELF (Extended Log Format) est très répandu dansle monde des navigateurs HTTP. Il peut être utilisé pour construiredes historiques sophistiqués qui répondent à des besoinsspécifiques. Pour cette raison, le format ELF peut êtrepersonnalisé : il est possible de choisir les champs à enregistrerainsi que leur ordre d'insertion dans le fichier.</span></p><p><span>Le format WLF (WebStar Log format) a été développéspécifiquement pour le serveur 4D WebSTAR.</span></p><h5><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_configurer-les-champs"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_configurer-les-champs"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Configurer les champs</span></h5><p><span>Lorsque vous choisissez le format ELF ou WLF, la zone "WebLog Token Selection" affiche les champs disponibles pour le formatchoisi. Vous devrez sélectionner chaque champ à inclure dans lejournal. Pour ce faire, cochez les champs souhaités.</span></p><blockquote><p><span>Le même champ ne peut pas être sélectionné deuxfois.</span></p></blockquote><p><span>Le tableau suivant répertorie les champs disponibles pourchaque format (par ordre alphabétique) et décrit leur contenu:</span></p><table><thead><tr><th>Champ</th><th>ELF</th><th>WLF</th><th>Valeur</th></tr></thead><tbody><tr><td>BYTES_RECEIVED</td><td></td><td>X</td><td>Nombre d'octets reçus par le serveur</td></tr><tr><td>BYTES_SENT</td><td>X</td><td>X</td><td>Nombre d’octets envoyés par le serveur au client</td></tr><tr><td>C_DNS</td><td>X</td><td>X</td><td>Adresse IP du DNS (ELF : champ identique au champ C_IP)</td></tr><tr><td>C_IP</td><td>X</td><td>X</td><td>Adresse IP du client (par exemple 192.100.100.10)</td></tr><tr><td>CONNECTION_ID</td><td></td><td>X</td><td>Numéro unique de la connexion</td></tr><tr><td>CS(COOKIE)</td><td>X</td><td>X</td><td>Informations sur les cookies contenus dans la requête HTTP</td></tr><tr><td>CS(HOST)</td><td>X</td><td>X</td><td>Champ Host de la requête HTTP</td></tr><tr><td>CS(REFERER)</td><td>X</td><td>X</td><td>URL de la page pointant vers le document demandé</td></tr><tr><td>CS(USER_AGENT)</td><td>X</td><td>X</td><td>Informations sur le logiciel et le système d’exploitation duclient</td></tr><tr><td>CS_SIP</td><td>X</td><td>X</td><td>Adresse IP du serveur</td></tr><tr><td>CS_URI</td><td>X</td><td>X</td><td>URI sur lequel la requête est effectuée</td></tr><tr><td>CS_URI_QUERY</td><td>X</td><td>X</td><td>Paramètres d’interrogation de la requête</td></tr><tr><td>CS_URI_STEM</td><td>X</td><td>X</td><td>Partie de la requête sans les paramètres d’interrogation</td></tr><tr><td>DATE</td><td>X</td><td>X</td><td>DD: jour, MMM: abréviation de 3 lettres pour le mois (Jan,Feb,...), YYYY: année</td></tr><tr><td>METHOD</td><td>X</td><td>X</td><td>Méthode HTTP utilisée pour la requête adressée au serveur</td></tr><tr><td>PATH_ARGS</td><td></td><td>X</td><td>CGI parameters: string located after the “$” character</td></tr><tr><td>STATUS</td><td>X</td><td>X</td><td>Réponse fournie par le serveur</td></tr><tr><td>TIME</td><td>X</td><td>X</td><td>HH: heure, MM: minutes, SS: secondes</td></tr><tr><td>TRANSFER_TIME</td><td>X</td><td>X</td><td>Délai ayant été nécessaire au serveur pour générer laréponse</td></tr><tr><td>USER</td><td>X</td><td>X</td><td>Nom d’utilisateur s’il s’est authentifié, sinon - (signemoins). Si le nom d’utilisateur contient des espaces, ils sontremplacés par des _ (traits de soulignement)</td></tr><tr><td>Variable URL</td><td></td><td>X</td><td>URL demandé par le client</td></tr></tbody></table><blockquote><p><span>Les dates et heures sont données au format GMT</span></p></blockquote><h4><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_fr%C3%A9quence-de-backup"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_fr%25C3%25A9quence-de-backup"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Fréquence de backup</span></h4><p><span>Comme la taille d'un <em>logweb.txt</em> fichier évoluerconsidérablement, il est possible de mettre en place un mécanismed'archivage automatique. Le déclenchement d'une backup peut êtrebasé sur une certaine période de temps (exprimée en heures, jours,semaine ou mois), ou sur la taille du fichier ; lorsque le délaifixé (ou la taille du fichier) est atteinte, 4D ferme et archiveautomatiquement le fichier d'historique en cours et en crée unnouveau.</span></p><p><span>Lorsque la sauvegarde du fichier d'historique web estdéclenchée, le fichier d'historique est archivé dans un dossiernommé "Archives Logweb", qui est créé au même niveau que le fichier<em>logweb.txt</em>.</span></p><p><span>Le fichier archivé est renommé sur le modèle suivant :"DYYYY_MM_DD_Thh_mm_ss.txt". Par exemple, pour un dossier archivéle 4 septembre 2020 à 15 h 50 et 7 secondes :“D2020_09_04_T15_50_07.txt.” et 7 secondes :“D2020_09_04_T15_50_07.txt.”</span></p><h4><span><a aria-hidden="true" class="anchor" id="webServerAdmin.html_param%C3%A8tres-de-backup"></a><a aria-hidden="true" class="hash-link" href="#webServerAdmin.html_param%25C3%25A8tres-de-backup"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Paramètres de backup</span></h4><p><span>Les paramètres de sauvegarde automatique du logweb.txtsont définis sur la page <strong>Web &gt; Journal(périodicité)</strong> des Paramètres :</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/backup.png" /></span></p><p><span>Vous devez d'abord choisir la fréquence (jours, semaines,etc.) ou le critère de la taille limite du fichier en cliquant surle bouton radio correspondant. Vous devez ensuite spécifier lemoment précis du backup si nécessaire.</span></p><ul><li><p><span><strong>Pas de sauvegarde du journal</strong> : Lafonction de sauvegarde programmée est désactivée.</span></p></li><li><p><span><strong>Toutes les X heure(s)</strong> : Cette option estutilisée pour programmer des sauvegardes sur une base horaire. Vouspouvez entrer une valeur entre 1 et 24.</span></p><ul><li><span><strong>à partir de</strong>: Permet de définir l'heuredu déclenchement du premier backup.</span></li></ul></li><li><p><span><strong>Tous les N jour(s) à N</strong> : permet deprogrammer des backups sur une base journalière. Saisissez 1 sivous souhaitez une sauvegarde hebdomadaire. Lorsque vous cochezcette option, vous devez indiquer l’heure à laquelle la sauvegardedoit être déclenchée.</span></p></li><li><p><span><strong>Tous les N jour(s) à N</strong> : permet deprogrammer des backups sur une base hebdomadaire. Saisissez 1 sivous souhaitez une sauvegarde hebdomadaire. Lorsque vous cochezcette option, vous devez indiquer le ou les jours de la semaine etl’heure à laquelle chaque sauvegarde doit être déclenchée. Vouspouvez cocher un ou plusieurs jour(s) de la semaine. Par exemple,vous pouvez utiliser cette option pour définir deux sauvegardeshebdomadaires : une le mercredi et une le vendredi.</span></p></li><li><p><span><strong>Tous les N mois, Ne jour à N</strong> : permet deprogrammer des sauvegardes sur une base mensuelle. Saisissez 1 sivous souhaitez une sauvegarde mensuelle. Lorsque vous cochez cetteoption, vous devez indiquer le jour de chaque mois auquel lasauvegarde doit être déclenchée, ainsi que l’heure dedéclenchement.</span></p></li><li><p><span><strong>Tous les N Mo</strong> : Cette option est utiliséepour programmer les sauvegardes en fonction de la taille du fichierjournal courant. Un backup se déclenche automatiquement quand lefichier atteint la taille spécifiée. La taille limite du fichierpeut être fixée à 1, 10, 100 ou 1000 Mo.</span></p></li></ul></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#webServerConfig.html"><span class="arrow-prev">←</span><span>Configuration</span></a><a class="docs-next button" href="#webServerObject.html"><span>Objet Serveur Web</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#webServerAdmin.html_d%25C3%25A9marrer-le-serveur-web-4d">Démarrerle Serveur Web 4D</a></li><li><a href="#webServerAdmin.html_arr%25C3%25AAter-le-serveur-web-4d">Arrêterle Serveur Web 4D</a></li><li><a href="#webServerAdmin.html_tester-le-serveur-web-4d">Testerle Serveur Web 4D</a></li><li><a href="#webServerAdmin.html_vider-le-cache">Vider lecache</a></li><li><a href="#webServerAdmin.html_explorateur-dex%25C3%25A9cution">Explorateurd'exécution</a></li><li><a href="#webServerAdmin.html_urls-dadministration">URLsd'administration</a><ul class="toc-headings"><li><a href="#webServerAdmin.html_4dstats">/4DSTATS</a></li><li><a href="#webServerAdmin.html_4dhtmlstats">/4DHTMLSTATS</a></li><li><a href="#webServerAdmin.html_4dcacheclear">/4DCACHECLEAR</a></li><li><a href="#webServerAdmin.html_4dwebtest">/4DWEBTEST</a></li></ul></li><li><a href="#webServerAdmin.html_logs">Logs</a><ul class="toc-headings"><li><a href="#webServerAdmin.html_httpdebuglogtxt">HTTPDebugLog.txt</a></li><li><a href="#webServerAdmin.html_logwebtxt">logweb.txt</a></li></ul></li></ul></nav></div></div></body></html>