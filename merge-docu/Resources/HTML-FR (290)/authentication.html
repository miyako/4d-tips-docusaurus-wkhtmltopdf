<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Authentification · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="L'authentification est nécessaire lorsque vous souhaitez fournir des droits d'accès spécifiques aux utilisateurs Web. L'authentification désigne la manière dont les informations concernant les références de l'utilisateur (généralement le nom et le mot de passe) sont collectées et traitées."name="description" /><meta content="fr" name="docsearch:language" /><meta content="Authentification · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="L'authentification est nécessaire lorsque vous souhaitez fournir des droits d'accès spécifiques aux utilisateurs Web. L'authentification désigne la manière dont les informations concernant les références de l'utilisateur (généralement le nom et le mot de passe) sont collectées et traitées."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#authentication.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Authentification<a aria-hidden="true" class="anchor" id="authentication.html"></a></h1></header><article><div><p><span>L'authentification est nécessaire lorsque vous souhaitezfournir des droits d'accès spécifiques aux utilisateurs Web.L'authentification désigne la manière dont les informationsconcernant les références de l'utilisateur (généralement le nom etle mot de passe) sont collectées et traitées.</span></p><h2><span><a aria-hidden="true" class="anchor" id="authentication.html_modes-dauthentification"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_modes-dauthentification"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Modes d’authentification</span></h2><p><span>Le serveur web 4D propose trois modes d'authentificationque vous pouvez sélectionner sur la page<strong>Web</strong>/<strong>Options (I)</strong> de la fenêtre desPropriétés :</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/authentication.png" /></span></p><blockquote><p><span>Il est recommandé d'utiliser une authentification<strong>personnalisée</strong>.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="authentication.html_aper%C3%A7u"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_aper%25C3%25A7u"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Aperçu</span></h3><p><span>Le schéma suivant résume le système d'accès au serveur web4D :</span></p><p><span><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/serverAccess.png" /></span></p><blockquote><p><span>Les requêtes qui commencent par <code>rest/</code> sontgérées directement par le <a href="#configuration.html">serveurREST</a>.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="authentication.html_authentification-personnalis%C3%A9e-par-d%C3%A9faut"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_authentification-personnalis%25C3%25A9e-par-d%25C3%25A9faut"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Authentification personnalisée (par défaut)</span></h3><p><span>Dans ce mode, c'est au développeur de définir commentauthentifier les utilisateurs. 4D évalue uniquement les requêtesHTTP <a href="#authentication.html_method-calls">qui nécessitentune authentification</a>.</span></p><p><span>Ce mode d'authentification est le plus flexible car ilpermet de :</span></p><ul><li><span>soit déléguer l'authentification de l'utilisateur à uneapplication tierce (par exemple, un réseau social, unSSO);</span></li><li><span>ou alors, fournir une interface à l'utilisateur (parexemple, un formulaire web) pour qu'il puisse créer son compte dansvotre base de données clients ; ensuite, vous pouvez authentifierles utilisateurs avec n'importe quel algorithme personnalisé (voir<a href="#authentication.html_example">cette exemple</a> dans lechapitre "Sessions Utilisateur"). L'important est de ne jamaisstocker le mot de passe en clair, en utilisant du code tel que:</span></li></ul><pre><span><code class="hljs css language-4d"><span class="hljs-comment">//... user account creation</span>ds.webUser.password:=<span class="hljs-function">Generate password hash</span>(<span class="hljs-variable">$password</span>)  ds.webUser.<span class="hljs-function">save</span>()</code></span></pre><p>Voir également <a href="#authentication.html_authenticating-users">cet exemple</a> duchapitre "Prise en main".</p><p>Si aucune authentification personnalisée n'est fournie, 4Dappelle la méthode de base de données <a href="#authentication.html_on-web-authentication"><code>On WebAuthentication</code></a> (si elle existe). En plus de $1 et $2,seules les adresses IP du navigateur et du serveur ($3 et $4) sontfournies, le nom d'utilisateur et le mot de passe ($5 et $6) sontvides. La méthode doit retourner <strong>True</strong> dans $0 sil'utilisateur est authentifié avec succès. Ensuite, la ressourcequi fait l'objet de la requête est fournie. Si l'authentificationéchoue, <strong>False</strong> est retourné dans $0.</p><blockquote><p><strong>Attention:</strong> Si la méthode de base de données<code>On Web Authentication</code> n'existe pas, les connexionssont automatiquement acceptées (mode test).</p></blockquote><h3><a aria-hidden="true" class="anchor" id="authentication.html_protocole-basic"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_protocole-basic"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Protocole BASIC</h3><p>Lorsqu'un utilisateur se connecte au serveur, une boîte dedialogue standard apparaît sur son navigateur afin qu'il saisisseson nom d'utilisateur et son mot de passe.</p><blockquote><p>Le nom et le mot de passe saisis par l'utilisateur sont envoyésen clair dans l'en-tête de la requête HTTP. Ce mode requiertgénéralement le protocole HTTPS pour assurer laconfidentialité.</p></blockquote><p>Les valeurs saisies sont ensuite évaluées :</p><ul><li><p>Si l'option <strong>Inclure les mots de passe 4D</strong> estcochée, les informations d'identification des utilisateurs serontd'abord évaluées par rapport à la <a href="#overview.html">tableinterne des utilisateurs 4D</a>.</p><ul><li>Si le nom d'utilisateur envoyé par le navigateur existe dans latable des utilisateurs 4D et que le mot de passe est correct, laconnexion est acceptée. Si le mot de passe est incorrect, laconnexion est refusée.</li><li>Si le nom de l'utilisateur n'existe pas dans la table desutilisateurs 4D, la méthode base <a href="#authentication.html_on-web-authentication"><code>On WebAuthentication</code></a> est appelée. Si la méthode base <code>OnWeb Authentication</code> n'existe pas, les connexions sontrejetées.</li></ul></li><li><p>Si l'option <strong>Inclure les mots de passe 4D</strong> n'estpas cochée, les informations d'identification des utilisateurs sontenvoyées à la méthode base <a href="#authentication.html_on-web-authentication"><code>On WebAuthentication</code></a> avec les autres paramètres de connexion(adresse et port IP, URL...) afin de pouvoir les traiter. Si laméthode base <code>On Web Authentication</code> n'existe pas, lesconnexions sont rejetées.</p></li></ul><blockquote><p>Avec le serveur Web du client 4D, gardez à l'esprit que tous lessites publiés par les machines 4D Client partageront la même tabled'utilisateurs. La validation des utilisateurs/mots de passe esteffectuée par l'application 4D Server.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="authentication.html_mots-de-passe-protocole-digest"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_mots-de-passe-protocole-digest"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Mots de passe protocole DIGEST</h3><p>Ce mode offre un niveau de sécurité plus élevé car lesinformations d'authentification sont traitées par un processus àsens unique appelé "hashing" qui rend leur contenu impossible àdéchiffrer.</p><p>Comme en mode BASIC, l'utilisateur doit saisir son nom et mot depasse lors de la connexion. Ensuite, la méthode base <a href="#authentication.html_on-web-authentication"><code>On WebAuthentication</code></a> est appelée. Lorsque le mode DIGEST estactivé, le paramètre $6 (mot de passe) est toujours retourné vide.En effet, lors de l'utilisation de ce mode, ces informations nepassent pas par le réseau en texte clair (non chiffré). Il est doncimpératif dans ce cas d'évaluer les demandes de connexion à l'aidede la commande <code>WEB Validate digest</code>.</p><blockquote><p>Vous devez redémarrer le serveur web pour que les modificationsapportées à ces paramètres soient prises en compte.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="authentication.html_on-web-authentication"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_on-web-authentication"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>On Web Authentication</h2><p>La méthode de base de données <code>On Web Authentication</code>est chargée de gérer l'accès au moteur du serveur web. Elle estappelée par 4D ou 4D Server lorsqu'une requête HTTP dynamique estreçue.</p><h3><a aria-hidden="true" class="anchor" id="authentication.html_database-method-calls"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_database-method-calls"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Database method calls</h3><p>The <code>On Web Authentication</code> database method isautomatically called when a request or processing requires theexecution of some 4D code (except for REST calls). It is alsocalled when the web server receives an invalid static URL (forexample, if the static page requested does not exist).</p><p>The <code>On Web Authentication</code> database method istherefore called:</p><ul><li>when the web server receives a URL requesting a resource thatdoes not exist</li><li>when the web server receives a URL beginning with<code>4DACTION/</code>, <code>4DCGI/</code>...</li><li>when the web server receives a root access URL and no home pagehas been set in the Settings or by means of the <code>WEB SET HOMEPAGE</code> command</li><li>when the web server processes a tag executing code (e.g<code>4DSCRIPT</code>) in a semi-dynamic page.</li></ul><p>The <code>On Web Authentication</code> database method is NOTcalled:</p><ul><li>when the web server receives a URL requesting a valid staticpage.</li><li>when the web server reveives a URL beginning with<code>rest/</code> and the REST server is launched (in this case,the authentication is handled through the <a href="#authentication.html_using-the-on-rest-authentication-database-method"><code>On REST Authentication</code> database method</a> or <a href="#authentication.html_using-the-structure-settings">Structuresettings</a>).</li></ul><h3><a aria-hidden="true" class="anchor" id="authentication.html_syntaxe"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_syntaxe"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntaxe</h3><p><strong>On Web Authentication</strong>( <em>$1</em> : Text ;<em>$2</em> : Text ; <em>$3</em> : Text ; <em>$4</em> : Text ;<em>$5</em> : Text ; <em>$6</em> : Text ) -&gt; $0 : Boolean</p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>$1</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Variable URL</td></tr><tr><td>$2</td><td>Text</td><td style="text-align:center">&lt;-</td><td>HTTP headers + HTTP body (up to 32 kb limit)</td></tr><tr><td>$3</td><td>Text</td><td style="text-align:center">&lt;-</td><td>IP address of the web client (browser)</td></tr><tr><td>$4</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Adresse IP du serveur</td></tr><tr><td>$5</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Nom d'utilisateur</td></tr><tr><td>$6</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Password</td></tr><tr><td>$0</td><td>Booléen</td><td style="text-align:center">-&gt;</td><td>True = request accepted, False = request rejected</td></tr></tbody></table><p>You must declare these parameters as follows:</p><pre><code class="hljs css language-4d"><span class="hljs-comment">//On Web Authentication database method</span><span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$1</span>;<span class="hljs-variable">$2</span>;<span class="hljs-variable">$3</span>;<span class="hljs-variable">$4</span>;<span class="hljs-variable">$5</span>;<span class="hljs-variable">$6</span>)<span class="hljs-function"> C_BOOLEAN</span>(<span class="hljs-variable">$0</span>)<span class="hljs-comment">//Code for the method</span></code></pre><p>Alternatively, you can use the <a href="#authentication.html_named-parameters">named parameters</a>syntax:</p><pre><code class="hljs css language-4d"><span class="hljs-comment">// On Web Authentication database method</span>#<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$url </span>: Text; <span class="hljs-variable">$header </span>: Text; \  <span class="hljs-variable">$BrowserIP </span>: Text; <span class="hljs-variable">$ServerIP </span>: Text; \  <span class="hljs-variable">$user </span>: Text; <span class="hljs-variable">$password </span>: Text) \  -&gt; <span class="hljs-variable">$RequestAccepted </span>: Boolean</code></pre><blockquote><p>All the <code>On Web Authentication</code> database method'sparameters are not necessarily filled in. The information receivedby the database method depends on the selected <a href="#authentication.html_authentication-mode">authenticationmode</a>).</p></blockquote><h4><a aria-hidden="true" class="anchor" id="authentication.html_1---url"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_1---url"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$1 - URL</h4><p>The first parameter (<code>$1</code>) is the URL received by theserver, from which the host address has been removed.</p><p>Let’s take the example of an Intranet connection. Suppose thatthe IP address of your 4D Web Server machine is 123.45.67.89. Thefollowing table shows the values of $1 depending on the URL enteredin the Web browser:</p><table><thead><tr><th>URL entered in web browser</th><th>Value of parameter $1</th></tr></thead><tbody><tr><td>123.45.67.89</td><td>/</td></tr><tr><td><a href="http://123.45.67.89">http://123.45.67.89</a></td><td>/</td></tr><tr><td>123.45.67.89/Customers</td><td>/Customers</td></tr><tr><td><a href="http://123.45.67.89/Customers/Add">http://123.45.67.89/Customers/Add</a></td><td>/Customers/Add</td></tr><tr><td>123.45.67.89/Do_This/If_OK/Do_That</td><td>/Do_This/If_OK/Do_That</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="authentication.html_2---header-and-body-of-the-http-request"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_2---header-and-body-of-the-http-request"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$2 - Header and Body of the HTTP request</h4><p>The second parameter (<code>$2</code>) is the header and thebody of the HTTP request sent by the web browser. Note that thisinformation is passed to your <code>On Web Authentication</code>database method as it is. Its contents will vary depending on thenature of the web browser which is attempting the connection.</p><p>If your application uses this information, it is up to you toparse the header and the body. You can use the <code>WEB GET HTTPHEADER</code> and the <code>WEB GET HTTP BODY</code> commands.</p><blockquote><p>For performance reasons, the size of data passing through the $2parameter must not exceed 32 KB. Beyond this size, they aretruncated by the 4D HTTP server.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="authentication.html_3---web-client-ip-address"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_3---web-client-ip-address"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$3 - Web client IP address</h4><p>The <code>$3</code> parameter receives the IP address of thebrowser’s machine. This information can allow you to distinguishbetween intranet and internet connections.</p><blockquote><p>4D returns IPv4 addresses in a hybrid IPv6/IPv4 format writtenwith a 96-bit prefix, for example ::ffff:192.168.2.34 for the IPv4address 192.168.2.34. For more information, refer to the <a href="#authentication.html_about-ipv6-support">IPv6 Support</a>section.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="authentication.html_4---server-ip-address"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_4---server-ip-address"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$4 - Server IP address</h4><p>The <code>$4</code> parameter receives the IP address used tocall the web server. 4D allows for multi-homing, which allows youto exploit machines with more than one IP address. Pour plusd'informations, veuillez consulter la <a href="#authentication.html_ip-address-to-listen">PageConfiguration</a>.</p><h4><a aria-hidden="true" class="anchor" id="authentication.html_5-and-6---user-name-and-password"></a><a aria-hidden="true"class="hash-link" href="#authentication.html_5-and-6---user-name-and-password"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$5 and $6 - User Name and Password</h4><p>The <code>$5</code> and <code>$6</code> parameters receive theuser name and password entered by the user in the standardidentification dialog box displayed by the browser. This dialog boxappears for each connection, if <a href="#authentication.html_basic-protocol">basic</a> or <a href="#authentication.html_digest-protocol">digest</a> authentication isselected.</p><blockquote><p>If the user name sent by the browser exists in 4D, the $6parameter (the user’s password) is not returned for securityreasons.</p></blockquote><h4><a aria-hidden="true" class="anchor" id="authentication.html_0-parameter"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_0-parameter"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$0 parameter</h4><p>The <code>On Web Authentication</code> database method returns aboolean in $0:</p><ul><li><p>If $0 is True, the connection is accepted.</p></li><li><p>If $0 is False, the connection is refused.</p></li></ul><p>The <code>On Web Connection</code> database method is onlyexecuted if the connection has been accepted by <code>On WebAuthentication</code>.</p><blockquote><p><strong>WARNING</strong><br />If no value is set to $0 or if $0 is not defined in the <code>OnWeb Authentication</code> database method, the connection isconsidered as accepted and the <code>On Web Connection</code>database method is executed.</p><ul><li><ul><li>Do not call any interface elements in the <code>On WebAuthentication</code> database method (<code>ALERT</code>,<code>DIALOG</code>, etc.) because otherwise its execution will beinterrupted and the connection refused. The same thing will happenif an error occurs during its processing.</li></ul></li></ul></blockquote><h3><a aria-hidden="true" class="anchor" id="authentication.html_exemple"></a><a aria-hidden="true" class="hash-link" href="#authentication.html_exemple"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h3><p>Example of the <code>On Web Authentication</code> databasemethod in <a href="#authentication.html_digest-protocol">DIGESTmode</a>:</p><pre><code class="hljs css language-4d"> <span class="hljs-comment">// On Web Authentication Database Method</span> #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$url </span>: Text; <span class="hljs-variable">$header </span>: Text; <span class="hljs-variable">$ipB </span>: Text; <span class="hljs-variable">$ipS </span>: Text; \    <span class="hljs-variable">$user </span>: Text; <span class="hljs-variable">$pw </span>: Text) -&gt; <span class="hljs-variable">$valid </span>: Boolean<span class="hljs-keyword"> var</span> <span class="hljs-variable">$found </span>: cs.WebUserSelection <span class="hljs-variable">$valid</span>:=<span class="hljs-literal">False</span> <span class="hljs-variable">$found</span>:=ds.WebUser.<span class="hljs-function">query</span>(<span class="hljs-string">"User === :1"</span>;<span class="hljs-variable">$user</span>)<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$found</span>.length=<span class="hljs-number">1</span>) <span class="hljs-comment">// User is found</span>    <span class="hljs-variable">$valid</span>:=<span class="hljs-function">WEB Validate digest</span>(<span class="hljs-variable">$user</span>;[WebUser]password)<span class="hljs-keyword"> Else</span>    <span class="hljs-variable">$valid</span>:=<span class="hljs-literal">False</span> <span class="hljs-comment">// User does not exist</span><span class="hljs-keyword"> End if</span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#errorPages.html"><span class="arrow-prev">←</span> <span>Pagesd'erreur HTTP personnalisées</span></a><a class="docs-next button"href="#sessions.html"><span>Sessions utilisateur</span><span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#authentication.html_modes-dauthentification">Modesd’authentification</a><ul class="toc-headings"><li><a href="#authentication.html_aper%25C3%25A7u">Aperçu</a></li><li><a href="#authentication.html_authentification-personnalis%25C3%25A9e-par-d%25C3%25A9faut">Authentification personnalisée (par défaut)</a></li><li><a href="#authentication.html_protocole-basic">ProtocoleBASIC</a></li><li><a href="#authentication.html_mots-de-passe-protocole-digest">Mots de passeprotocole DIGEST</a></li></ul></li><li><a href="#authentication.html_on-web-authentication">On WebAuthentication</a><ul class="toc-headings"><li><a href="#authentication.html_database-method-calls">Databasemethod calls</a></li><li><a href="#authentication.html_syntaxe">Syntaxe</a></li><li><a href="#authentication.html_exemple">Exemple</a></li></ul></li></ul></nav></div></div></body></html>