<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>BLOB · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Un champ, une variable ou une expression de type BLOB (Binary Large OBject) est une série contiguë d'octets qui peut être traitée comme un seul objet ou dont les octets peuvent être adressés individuellement."name="description" /><meta content="fr" name="docsearch:language" /><meta content="BLOB · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Un champ, une variable ou une expression de type BLOB (Binary Large OBject) est une série contiguë d'octets qui peut être traitée comme un seul objet ou dont les octets peuvent être adressés individuellement."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#dt_blob.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">BLOB<a aria-hidden="true" class="anchor" id="blob.html"></a></h1></header><article><div><p><span>Un champ, une variable ou une expression de type BLOB(Binary Large OBject) est une série contiguë d'octets qui peut êtretraitée comme un seul objet ou dont les octets peuvent êtreadressés individuellement.</span></p><p><span>Lorsque vous travaillez avec un blob, il est stockéentièrement en mémoire. Si vous travaillez avec une variable, leblob n'existe qu'en mémoire. Si vous travaillez avec un champ detype blob, il est chargé en mémoire à partir du disque, comme lereste de l'enregistrement auquel il appartient.</span></p><p><span>A l'instar d'autres types de champs pouvant contenir unegrande quantité de données (comme les champs de type Image), leschamps de type blob ne sont pas dupliqués en mémoire lorsque vousmodifiez un enregistrement. Par conséquent, les résultats renvoyéspar <code>Ancien</code> et <code>Modifie</code> ne sont passignificatifs lorsque ces fonctions sont appliquées à des champs detype blob.</span></p><h2><span><a aria-hidden="true" class="anchor" id="blob.html_types-de-blob"></a><a aria-hidden="true" class="hash-link" href="#blob.html_types-de-blob"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Types de Blob</span></h2><p><span>Dans le langage 4D, il existe deux façons de manipuler unblob :</span></p><ul><li><span><strong>comme une valeur scalaire</strong> : un blob peutêtre stocké dans une variable ou un champ Blob et peut êtremodifié.</span></li><li><span><strong>comme un objet (<code>4D.Blob</code>)</strong> :un <code>4D.Blob</code> est un objet blob. Vous pouvez encapsulerun blob ou une partie de celui-ci dans un <code>4D.Blob</code> sansmodifier le blob d'origine. Cette méthode est appelée <a href="#blob.html_Boxing">"boxing"</a>. Pour plus d'informations surl'instanciation d'un <code>4D.Blob</code>, consultez la rubrique<a href="#BlobClass.html">Blob Class</a>.</span></li></ul><p><span>Chaque type de blob a ses avantages. Utilisez le tableausuivant pour déterminer celui qui convient à vos besoins:</span></p><table><thead><tr><th></th><th style="text-align:center">Blob</th><th style="text-align:center">4D.Blob</th></tr></thead><tbody><tr><td>Modifiable</td><td style="text-align:center">Oui</td><td style="text-align:center">Non</td></tr><tr><td>Partageable en objets et collections</td><td style="text-align:center">Non</td><td style="text-align:center">Oui</td></tr><tr><td>Passé par référence*</td><td style="text-align:center">Non</td><td style="text-align:center">Oui</td></tr><tr><td>Performances lors de l'accès aux octets</td><td style="text-align:center">+</td><td style="text-align:center">-</td></tr><tr><td>Taille maximale</td><td style="text-align:center">2Go</td><td style="text-align:center">Mémoire</td></tr></tbody></table><p><span>*Contrairement aux commandes 4D conçues pour prendre unblob scalaire en paramètre, le fait de passer un blob scalaire àune méthode le duplique en mémoire. Lorsque vous travaillez avecdes méthodes, l'utilisation d'objets blob (<code>4D.Blob</code>)est plus efficace, car ils sont passés par référence.</span></p><blockquote><p><span>Par défaut, la taille maximale des blobs scalaires estfixée à 2 Go, mais cette limite peut être inférieure en fonction devotre OS et de l'espace disponible.</span></p></blockquote><p><span>Vous ne pouvez pas utiliser d'opérateurs sur lesblobs.</span></p><h2><span><a aria-hidden="true" class="anchor" id="blob.html_v%C3%A9rifier-si-une-variable-contient-un-blob-scalaire-ou-un-4dblob"></a><a aria-hidden="true" class="hash-link" href="#blob.html_v%25C3%25A9rifier-si-une-variable-contient-un-blob-scalaire-ou-un-4dblob"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Vérifier si une variable contient un blob scalaire ou un<code>4D.Blob</code></span></h2><p><span>Utilisez la commande <a href="https://doc.4d.com/4dv19R/help/command/en/page1509.html">Valuetype</a> pour déterminer si une valeur est de type Blob ou Object.Pour vérifier qu'un objet est un objet blob (<code>4D.Blob</code>),utilisez <a href="https://doc.4d.com/4dv19R/help/command/en/page1731.html">OBinstance of</a> :</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$myBlob</span>: Blob<span class="hljs-keyword">var</span> <span class="hljs-variable">$myBlobObject</span>: 4D.Blob<span class="hljs-variable">$myBlobObject</span>:=4D.Blob.<span class="hljs-function">new</span>()<span class="hljs-variable">$type</span>:=<span class="hljs-function"> Value type</span>(<span class="hljs-variable">$myblobObject</span>) <span class="hljs-comment">// 38 (object)</span><span class="hljs-variable">$is4DBlob</span>:=<span class="hljs-function"> OB Instance of</span>(<span class="hljs-variable">$myblobObject</span>; 4D.Blob)  <span class="hljs-comment">//True</span></code></span></pre><h2><a aria-hidden="true" class="anchor" id="blob.html_passer-des-blobs-en-tant-que-param%C3%A8tres"></a><a aria-hidden="true"class="hash-link" href="#blob.html_passer-des-blobs-en-tant-que-param%25C3%25A8tres"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Passer des blobs en tant que paramètres</h2><p>Les blobs scalaires et les objets blob peuvent être passés commeparamètres aux commandes 4D ou aux routines de plug-in quiattendent des paramètres blob.</p><h3><a aria-hidden="true" class="anchor" id="blob.html_passer-des-blobs-et-des-objets-blob-aux-commandes-4d"></a><a aria-hidden="true"class="hash-link" href="#blob.html_passer-des-blobs-et-des-objets-blob-aux-commandes-4d"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Passer des blobs et des objets blob aux commandes 4D</h3><p>Vous pouvez passer un blob scalaire ou un <code>4D.Blob</code> àtoute commande 4D qui prend un blob comme paramètre :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$myBlob</span>: 4D.Blob<span class="hljs-function">CONVERT FROM TEXT</span>(<span class="hljs-string">"Hello, World!"</span>; <span class="hljs-string">"UTF-8"</span>; <span class="hljs-variable">$myBlob</span>)<span class="hljs-variable">$myText</span>:=<span class="hljs-function"> BLOB to text</span>( <span class="hljs-variable">$myBlob </span>; UTF8 text without length )</code></pre><p>Certaines commandes 4D modifient le blob d'origine et neprennent donc pas en charge le type <code>4D.Blob</code> :</p><ul><li><a href="https://doc.4d.com/4dv19/help/command/en/page560.html">DELETE FROMBLOB</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page559.html">INSERT INBLOB</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page548.html">INTEGER TOBLOB</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page550.html">LONGINT TOBLOB</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page552.html">REAL TOBLOB</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page606.html">SET BLOBSIZE</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page554.html">TEXT TOBLOB</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page532.html">VARIABLE TOBLOB</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page556.html">LIST TOBLOB</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page782.html">SOAPDECLARATION</a></li><li><a href="https://doc.4d.com/4dv19/help/command/en/page777.html">WEB SERVICESET PARAMETER</a></li></ul><h3><a aria-hidden="true" class="anchor" id="blob.html_passer-des-blobs-et-des-objets-blob-aux-m%C3%A9thodes"></a><a aria-hidden="true"class="hash-link" href="#blob.html_passer-des-blobs-et-des-objets-blob-aux-m%25C3%25A9thodes"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Passer des blobs et des objets blob aux méthodes</h3><p>Vous pouvez passer des blobs et des objets blob(<code>4D.Blob</code>) aux méthodes. A noter que, contrairement auxobjets blob, qui sont transmis par référence, les blobs scalairessont dupliqués en mémoire lorsqu'ils sont passés aux méthodes.</p><h3><a aria-hidden="true" class="anchor" id="blob.html_passer-un-blob-scalaire-par-r%C3%A9f%C3%A9rence-en-utilisant-un-pointeur"></a><a aria-hidden="true" class="hash-link" href="#blob.html_passer-un-blob-scalaire-par-r%25C3%25A9f%25C3%25A9rence-en-utilisant-un-pointeur"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Passer un blob scalaire par référence en utilisant unpointeur</h3><p>Pour passer un blob scalaire à vos propres méthodes sans ledupliquer en mémoire, définissez un pointeur vers la variable quile stocke et passez le pointeur comme paramètre.</p><p><strong>Voici quelques exemples :</strong></p><pre><code class="hljs css language-4d"><span class="hljs-comment">// Déclarer une variable de type Blob</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$myBlobVar</span>: Blob<span class="hljs-comment">// Passer le blob (en tant que paramètre) en une commande 4D</span><span class="hljs-function"> SET BLOB SIZE</span>(<span class="hljs-variable">$myBlobVar</span>;<span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>)</code></pre><pre><code class="hljs css language-4d"><span class="hljs-comment">// Passer le blob (en tant que paramètre) en routine externe</span> <span class="hljs-variable">$errCode</span>:=<span class="hljs-function">Do Something With This blob</span>(<span class="hljs-variable">$myBlobVar</span>)</code></pre><pre><code class="hljs css language-4d"><span class="hljs-comment">//Passer le blob (en tant que paramètre) en une méthode qui retourne un blob</span><span class="hljs-keyword"> var</span> <span class="hljs-variable">$retrieveBlob</span>: Blob retrieveBlob:=<span class="hljs-function">Fill_Blob</span>(<span class="hljs-variable">$myBlobVar</span>)</code></pre><pre><code class="hljs css language-4d"><span class="hljs-comment">// Passer un pointeur au blob (en tant que paramètre) à votre propre méthode,</span><span class="hljs-function">COMPUTE BLOB</span>(-&gt;<span class="hljs-variable">$myBlobVar</span>)</code></pre><p><strong>Note pour les développeurs de plug ins 4D :</strong> Unparamètre de type BLOB se déclare “&amp;O” (la lettre “O” et non lechiffre “0”).</p><h2><a aria-hidden="true" class="anchor" id="blob.html_assigner-une-variable-blob-%C3%A0-une-autre"></a><a aria-hidden="true"class="hash-link" href="#blob.html_assigner-une-variable-blob-%25C3%25A0-une-autre"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Assigner une variable Blob à une autre</h2><p>Vous pouvez affecter une variable Blob à une autre :</p><p><strong>Exemple :</strong></p><pre><code class="hljs css language-4d"><span class="hljs-comment">// Déclarer deux variables de type Blob</span><span class="hljs-keyword"> var</span> <span class="hljs-variable">$vBlobA</span>; <span class="hljs-variable">$vBlobB </span>: Blob <span class="hljs-comment">// Fixer la taille du premier blob à 10Ko</span><span class="hljs-function"> SET BLOB SIZE</span>(<span class="hljs-variable">$vBlobA</span>;<span class="hljs-number">10</span>*<span class="hljs-number">1024</span>) <span class="hljs-comment">// Assigner le premier BLOB au second</span> <span class="hljs-variable">$vBlobB</span>:=<span class="hljs-variable">$vBlobA</span></code></pre><h2><a aria-hidden="true" class="anchor" id="blob.html_conversion-automatique-du-type-blob"></a><a aria-hidden="true" class="hash-link" href="#blob.html_conversion-automatique-du-type-blob"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Conversion automatique du type blob</h2><p>4D convertit automatiquement les blobs scalaires en objets blob,et vice versa, lorsqu'ils sont assignés l'un à l'autre. Par exemple:</p><pre><code class="hljs css language-4d"><span class="hljs-comment">// Créer une variable de type Blob et une variable objet</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$myBlob</span>: Blob<span class="hljs-keyword">var</span> <span class="hljs-variable">$myObject </span>: Object<span class="hljs-comment">// Assigner ce blob à une propriété de $myObject nommée "blob"</span><span class="hljs-variable">$myObject</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"blob"</span>; <span class="hljs-variable">$myBlob</span>)<span class="hljs-comment">// le blob stocké dans $myBlob est automatiquement converti en un 4D.Blob</span><span class="hljs-variable">$type</span>:=<span class="hljs-function"> OB Instance of</span>(<span class="hljs-variable">$myObject</span>.blob; 4D.Blob)  <span class="hljs-comment">//True</span><span class="hljs-comment">// Conversion d'un 4D.Blob en Blob</span><span class="hljs-variable">$myBlob</span>:= <span class="hljs-variable">$myObject</span>.blob<span class="hljs-variable">$type</span>:=<span class="hljs-function"> Value type</span>(<span class="hljs-variable">$myBlob</span>) <span class="hljs-comment">// Blob</span></code></pre><blockquote><p>Lors de la conversion d'un <code>4D.Blob</code> en un blobscalaire, si la taille du <code>4D.Blob</code> dépasse la taillemaximale des blobs scalaires, le blob scalaire résultant est vide.Par exemple, lorsque la taille maximale des blobs scalaires est de2GB, si vous convertissez un <code>4D.Blob</code> de 2,5Go en blobscalaire, vous obtenez un blob vide.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="blob.html_modification-dun-blob-scalaire"></a><a aria-hidden="true" class="hash-link" href="#blob.html_modification-dun-blob-scalaire"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Modification d'un blob scalaire</h2><p>Contrairement aux objets blob, les blobs scalaires peuvent êtremodifiés. Par exemple :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$myBlob </span>: Blob<span class="hljs-function">SET BLOB SIZE </span>(<span class="hljs-variable">$myBlob </span>; <span class="hljs-number">16</span>*<span class="hljs-number">1024</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="blob.html_acc%C3%A9der-individuellement-aux-octets-dun-blob"></a><a aria-hidden="true"class="hash-link" href="#blob.html_acc%25C3%25A9der-individuellement-aux-octets-dun-blob"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Accéder individuellement aux octets d'un blob</h2><h4><a aria-hidden="true" class="anchor" id="blob.html_acc%C3%A9der-aux-octets-dun-blob-scalaire"></a><a aria-hidden="true"class="hash-link" href="#blob.html_acc%25C3%25A9der-aux-octets-dun-blob-scalaire"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Accéder aux octets d'un blob scalaire</h4><p>Vous pouvez accéder aux octets individuels d'un blob scalaire enutilisant des accolades <code>{}</code>. Dans un blob, les octetssont numérotés de 0 à N-1, N étant la taille du BLOB:</p><pre><code class="hljs css language-4d">  <span class="hljs-comment">// Déclarer une variable de type BLOB</span><span class="hljs-keyword"> var</span> <span class="hljs-variable">$vBlob </span>: Blob  <span class="hljs-comment">// Fixer la taille du BLOB à 256 octets</span><span class="hljs-function"> SET BLOB SIZE</span>(<span class="hljs-variable">$vBlob</span>;<span class="hljs-number">256</span>)  <span class="hljs-comment">//  Le code suivant initialise les octets du BLOB à zéro</span><span class="hljs-keyword"> For</span>(vByte;<span class="hljs-number">0</span>;<span class="hljs-function">BLOB size</span>(<span class="hljs-variable">$vBlob</span>)<span class="hljs-number">-1</span>)    <span class="hljs-variable">$vBlob{vByte}</span>:=<span class="hljs-number">0</span><span class="hljs-keyword"> End for</span></code></pre><p>Etant donné que vous pouvez adresser tous les octets d'un blobindividuellement, vous pouvez stocker tout ce que vous souhaitezdans une variable ou un champ Blob.</p><h4><a aria-hidden="true" class="anchor" id="blob.html_acc%C3%A9der-aux-octets-dun-4dblob"></a><a aria-hidden="true" class="hash-link" href="#blob.html_acc%25C3%25A9der-aux-octets-dun-4dblob"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Accéder aux octets d'un <code>4D.Blob</code></h4><p>Utilisez les crochets <code>[]</code> pour accéder directement àun octet spécifique dans un <code>4D.Blob</code></p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$myBlob</span>: 4D.Blob<span class="hljs-function">CONVERT FROM TEXT</span>(<span class="hljs-string">"Hello, World!"</span>; <span class="hljs-string">"UTF-8"</span>; <span class="hljs-variable">$myBlob</span>)<span class="hljs-variable">$myText</span>:=<span class="hljs-function"> BLOB to text </span>( <span class="hljs-variable">$myBlob </span>; UTF8 text without length )<span class="hljs-variable">$byte</span>:=<span class="hljs-variable">$myBlob</span>[<span class="hljs-number">5</span>]</code></pre><p>Etant donné qu'un <code>4D.Blob</code> ne peut pas être modifié,vous pouvez lire les octets d'un <code>4D.Blob</code> à l'aide decette syntaxe, mais pas les modifier.</p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#data-types.html"><span class="arrow-prev">←</span> <span>Types dedonnées</span></a><a class="docs-next button" href="#boolean.html"><span>Booléen</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#blob.html_types-de-blob">Types de Blob</a></li><li><a href="#blob.html_v%25C3%25A9rifier-si-une-variable-contient-un-blob-scalaire-ou-un-4dblob">Vérifier si une variable contient un blob scalaire ou un<code>4D.Blob</code></a></li><li><a href="#blob.html_passer-des-blobs-en-tant-que-param%25C3%25A8tres">Passerdes blobs en tant que paramètres</a><ul class="toc-headings"><li><a href="#blob.html_passer-des-blobs-et-des-objets-blob-aux-commandes-4d">Passerdes blobs et des objets blob aux commandes 4D</a></li><li><a href="#blob.html_passer-des-blobs-et-des-objets-blob-aux-m%25C3%25A9thodes">Passer des blobs et des objets blob aux méthodes</a></li><li><a href="#blob.html_passer-un-blob-scalaire-par-r%25C3%25A9f%25C3%25A9rence-en-utilisant-un-pointeur">Passer un blob scalaire par référence en utilisant unpointeur</a></li></ul></li><li><a href="#blob.html_assigner-une-variable-blob-%25C3%25A0-une-autre">Assignerune variable Blob à une autre</a></li><li><a href="#blob.html_conversion-automatique-du-type-blob">Conversionautomatique du type blob</a></li><li><a href="#blob.html_modification-dun-blob-scalaire">Modification d'un blobscalaire</a></li><li><a href="#blob.html_acc%25C3%25A9der-individuellement-aux-octets-dun-blob">Accéderindividuellement aux octets d'un blob</a></li></ul></nav></div></div></body></html>