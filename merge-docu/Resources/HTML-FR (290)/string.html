<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Chaîne · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="Chaîne est un terme générique utilisé pour :" name="description" /><meta content="fr" name="docsearch:language" /><meta content="Chaîne · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="Chaîne est un terme générique utilisé pour :"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#dt_string.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Chaîne<a aria-hidden="true" class="anchor" id="string.html"></a></h1></header><article><div><p><span>Chaîne est un terme générique utilisé pour :</span></p><ul><li><span>Les variables ou champs de type Texte : un champ, unevariable ou une expression de type Texte peut contenir de 0 à 2 Gode texte.</span></li><li><span>Les variables ou champs de type alphanumérique : un champalphanumérique peut contenir de 0 à 255 caractères (la limite estfixée lors de la définition du champ).</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="string.html_constantes-litt%C3%A9rales-de-type-cha%C3%AEne"></a><a aria-hidden="true"class="hash-link" href="#string.html_constantes-litt%25C3%25A9rales-de-type-cha%25C3%25AEne"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Constantes littérales de type chaîne</span></h2><p><span>Une constante littérale de type chaîne est incluse entredes guillemets droits ("…"). En voici quelques exemples:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-string">"Ajouter Enregistrements"</span><span class="hljs-string">"Aucun enregistrement trouvé."</span><span class="hljs-string">"Facture"</span></code></span></pre><p>Une chaîne vide est spécifiée par la succession de deuxguillemets ("").</p><h3><a aria-hidden="true" class="anchor" id="string.html_s%C3%A9quences-d%C3%A9chappement"></a><a aria-hidden="true" class="hash-link" href="#string.html_s%25C3%25A9quences-d%25C3%25A9chappement"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Séquences d’échappement</h3><p>Les séquences d’échappement suivantes peuvent être utiliséesdans les chaînes :</p><table><thead><tr><th>Séquence d’échappement</th><th>Caractère remplacé</th></tr></thead><tbody><tr><td>\n</td><td>LF (Retour ligne)</td></tr><tr><td>\t</td><td>HT (Tabulation)</td></tr><tr><td>\r</td><td>CR (Retour chariot)</td></tr><tr><td>\\</td><td>\ (Barre oblique inversée)</td></tr><tr><td>\"</td><td>" (Guillemets)</td></tr></tbody></table><p><strong>Note:</strong> Le caractère \ est utilisé commeséparateur dans les chemins d’accès sous Windows. Vous devez doncsaisir un double \ lorsque vous souhaitez insérer une barre obliqueinversée devant un caractère utilisé dans une des séquencesd’échappement reconnues par 4D (ex :“C:\MesDocuments\Nouveaux.txt”).</p><h2><a aria-hidden="true" class="anchor" id="string.html_op%C3%A9rateurs-sur-les-cha%C3%AEnes"></a><a aria-hidden="true"class="hash-link" href="#string.html_op%25C3%25A9rateurs-sur-les-cha%25C3%25AEnes"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Opérateurs sur les chaînes</h2><table><thead><tr><th>Opération</th><th>Syntaxe</th><th>Retourne</th><th>Expression</th><th>Valeur</th></tr></thead><tbody><tr><td>Concaténation</td><td>Chaîne + Chaîne</td><td>Chaine</td><td>"abc" + "def"</td><td>"abcdef"</td></tr><tr><td>Répétition</td><td>Chaîne * Nombre</td><td>Chaine</td><td>"ab" * 3</td><td>"ababab"</td></tr><tr><td>Egalité</td><td>Chaîne = Chaîne</td><td>Booléen</td><td>"abc" = "abc"</td><td>Vrai</td></tr><tr><td></td><td></td><td></td><td>"abc" = "abd"</td><td>Faux</td></tr><tr><td>Inégalité</td><td>Chaîne # Chaîne</td><td>Booléen</td><td>"abc" # "abd"</td><td>Vrai</td></tr><tr><td></td><td></td><td></td><td>"abc" # "abc"</td><td>Faux</td></tr><tr><td>Supérieur à</td><td>Chaîne &gt; Chaîne</td><td>Booléen</td><td>"abd" &gt; "abc"</td><td>Vrai</td></tr><tr><td></td><td></td><td></td><td>"abc" &gt; "abc"</td><td>Faux</td></tr><tr><td>Inférieur à</td><td>Chaîne &lt; Chaîne</td><td>Booléen</td><td>"abc" &lt; "abd"</td><td>Vrai</td></tr><tr><td></td><td></td><td></td><td>"abc" &lt; "abc"</td><td>Faux</td></tr><tr><td>Supérieur ou égal à</td><td>Chaîne &gt;= Chaîne</td><td>Booléen</td><td>"abd" &gt;= "abc"</td><td>Vrai</td></tr><tr><td></td><td></td><td></td><td>"abc" &gt;= "abd"</td><td>Faux</td></tr><tr><td>Inférieur ou égal à</td><td>Chaîne &lt;= Chaîne</td><td>Booléen</td><td>"abc" &lt;= "abd"</td><td>Vrai</td></tr><tr><td></td><td></td><td></td><td>"abd" &lt;= "abc"</td><td>Faux</td></tr><tr><td>Contient mot-clé</td><td>Chaîne % Chaîne</td><td>Booléen</td><td>"Alpha Bravo" % "Bravo"</td><td>Vrai</td></tr><tr><td></td><td></td><td></td><td>"Alpha Bravo" % "ravo"</td><td>Faux</td></tr><tr><td></td><td>Image % Chaîne</td><td>Booléen</td><td>Expr_image % "Mer"</td><td>True (*)</td></tr></tbody></table><p>(*) Si le mot-clé "Mer" a été associé à l'image stockée dansl'expression image (champ ou variable).</p><h2><a aria-hidden="true" class="anchor" id="string.html_comparaisons-de-cha%C3%AEnes"></a><a aria-hidden="true" class="hash-link" href="#string.html_comparaisons-de-cha%25C3%25AEnes"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Comparaisons de chaînes</h2><ul><li>Les chaînes sont toujours comparées caractère par caractère(hormis en cas de recherche par <a href="#string.html_keywords">mot-clé</a>, cf. ci-dessous).</li><li>Lors d'une comparaison de chaînes, 4D ne tient pas compte de lacasse des caractères ; par exemple, "a"="A" retourne<code>VRAI</code>. Pour savoir si des caractères sont en majusculesou en minuscules, vous devez comparer leurs codes de caractères.Par exemple, l'expression suivante retourne <code>FAUX</code>:</li></ul><pre><code class="hljs css language-4d"><span class="hljs-function">Code de caractere</span>(<span class="hljs-string">"A"</span>)=<span class="hljs-function">Code de caractere</span>(<span class="hljs-string">"a"</span>) <span class="hljs-comment">// 65 n'est pas égal à 97</span></code></pre><ul><li>Lors d'une comparaison de chaînes, les caractères diacritiquessont comparés à l'aide de la table de comparaison des caractères devotre machine. Par exemple, les expressions suivantes retournent<code>VRAI</code> :</li></ul><pre><code class="hljs css language-4d">     <span class="hljs-string">"n"</span>=<span class="hljs-string">"ñ"</span>     <span class="hljs-string">"n"</span>=<span class="hljs-string">"Ñ"</span>     <span class="hljs-string">"A"</span>=<span class="hljs-string">"å"</span>      <span class="hljs-comment">// etc</span></code></pre><p><strong>Note :</strong> Les comparaisons de chaîne tiennentcompte des spécificités du langage <strong>défini pour le fichierde données 4D</strong> (qui n'est pas toujours identique au langagedéfini pour le système).</p><h3><a aria-hidden="true" class="anchor" id="string.html_le-joker-"></a><a aria-hidden="true" class="hash-link"href="#string.html_le-joker-"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Le joker (@)</h3><p>Le langage 4D prend en charge <strong>@</strong> en tant quejoker. Ce caractère peut être utilisé dans toute comparaison dechaînes. Ainsi, par exemple, l'expression suivante est évaluée à<code>TRUE</code> :</p><pre><code class="hljs css language-4d"><span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"abc@"</span></code></pre><p>Le joker doit être utilisé dans le second opérande (la chaînequi se trouve à droite de l'opérateur). L'expression suivante estévaluée à <code>FAUX</code> car le joker est alors considéré entant que caractère :</p><pre><code class="hljs css language-4d">    <span class="hljs-string">"abc@"</span>=<span class="hljs-string">"abcdefghij"</span></code></pre><p>Le joker signifie “un ou plusieurs caractères sinon rien”. Lesexpressions suivantes sont évaluées à <code>VRAI</code> :</p><pre><code class="hljs css language-4d">     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"abcdefghij@"</span>     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"@abcdefghij"</span>     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"abcd@efghij"</span>     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"@abcdefghij@"</span>     <span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"@abcde@fghij@"</span></code></pre><p>En revanche, dans tous les cas, lorsque deux jokers consécutifssont placés dans une comparaison de chaînes, celle-ci sera évaluéeà <code>FAUX</code>. L'expression suivante est à <code>FAUX</code>:</p><pre><code class="hljs css language-4d"><span class="hljs-string">"abcdefghij"</span>=<span class="hljs-string">"abc@@fg"</span></code></pre><p>Lorsque l'opérateur de comparaison est ou contient un symbole&lt; ou &gt;, seule la comparaison avec un seul joker situé en find'opérande est prise en charge :</p><pre><code class="hljs css language-4d">     <span class="hljs-string">"abcd"</span>&lt;=<span class="hljs-string">"abc@"</span> <span class="hljs-comment">//Comparaison valide</span> <span class="hljs-string">"abcd"</span>&lt;=<span class="hljs-string">"abc@ef"</span> <span class="hljs-comment">//Comparaison non valide</span></code></pre><p>Si vous souhaitez effectuer des comparaisons ou des recherchesutilisant @ en tant que caractère (et non en tant que joker), vousdevez utiliser l'instruction <code>Code decaractere(Arobase)</code>. Imaginons par exemple que voussouhaitiez savoir si une chaîne se termine par le caractère @.L’expression suivante (si $vaValeur n'est pas vide) retournetoujours <code>VRAI</code> :</p><pre><code class="hljs css language-4d">(<span class="hljs-variable">$vaValeur</span><span class="hljs-variable">[[Longueur($vaValeur)]]</span>=<span class="hljs-string">"@"</span>)</code></pre><p>L'expression suivante sera correctement évaluée :</p><pre><code class="hljs css language-4d">(<span class="hljs-function">Code de caractere</span>(<span class="hljs-variable">$vaValeur</span><span class="hljs-variable">[[Longueur($vaValeur)]]</span>)#<span class="hljs-number">64</span>)  </code></pre><p><strong>Note :</strong> Une option 4D du mode Développement vouspermet de paramétrer le mode d’interprétation du caractère @lorsque celui-ci est inclus dans une chaîne de caractères.</p><h3><a aria-hidden="true" class="anchor" id="string.html_mots-cl%C3%A9s"></a><a aria-hidden="true" class="hash-link" href="#string.html_mots-cl%25C3%25A9s"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Mots-clés</h3><p>A la différence des autres comparaisons de chaîne, lesrecherches par mots-clés recherchent des “mots” dans des “textes” :les mots sont évalués individuellement et dans leur globalité.L’opérateur <strong>%</strong> retournera toujours<code>Faux</code> si la recherche porte sur plusieurs mots ou unepartie de mot (par exemple une syllabe). Les “mots” sont deschaînes de caractères encadrées par des “séparateurs”, qui sont lesespaces, les caractères de ponctuation et les tirets. Uneapostrophe, comme dans “aujourd'hui”, est généralement considéréecomme partie du mot, mais sera ignorée dans certains cas (cf.règles ci-dessous). Les nombres peuvent être recherchés car ilssont évalués dans leur ensemble (incluant les symboles décimaux).Les autres symboles (monnaie, température, etc.) serontignorés.</p><pre><code class="hljs css language-4d">     <span class="hljs-string">"Alpha Bravo Charlie"</span>%<span class="hljs-string">"Bravo"</span> <span class="hljs-comment">// Retourne Vrai</span> <span class="hljs-string">"Alpha Bravo Charlie"</span>%<span class="hljs-string">"vo"</span> <span class="hljs-comment">// Retourne Faux</span> <span class="hljs-string">"Alpha Bravo Charlie"</span>%<span class="hljs-string">"Alpha Bravo"</span> <span class="hljs-comment">// Retourne Faux</span> <span class="hljs-string">"Alpha,Bravo,Charlie"</span>%<span class="hljs-string">"Alpha"</span> <span class="hljs-comment">// Retourne Vrai</span> <span class="hljs-string">"Software and Computers"</span>%<span class="hljs-string">"comput@"</span> <span class="hljs-comment">// Retourne Vrai</span></code></pre><blockquote><p><strong>Notes :</strong> - 4D utilise la librairie ICU pour lacomparaison des chaînes (à l'aide des opérateurs &lt;&gt;=#) et ladétection des mots-clés. Pour plus d'informations sur les règlesmises en oeuvre, reportez-vous à l'adresse <a href="#string.html_Word_Boundaries">http://www.unicode.org/reports/tr29/#Word_Boundaries</a>.En version japonaise, 4D utilise par défaut la librairie Mecab enlieu et place de ICU pour la détection des mots-clés.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="string.html_symboles-dindice-de-cha%C3%AEne"></a><a aria-hidden="true" class="hash-link" href="#string.html_symboles-dindice-de-cha%25C3%25AEne"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Symboles d'indice de chaîne</h2><p>Les symboles d'indice de chaîne sont les suivants : [[...]]</p><p>Ces symboles sont utilisés pour désigner un caractèreparticulier dans une chaîne. Cette syntaxe vous permet deréférencer un caractère dans un champ ou une variable de type Alphaou Texte.</p><p>Lorsque les symboles d'indice de chaîne sont placés à gauche del'opérateur d'affectation (:=), un caractère est affecté à laposition référencée dans la chaîne. Par exemple, en postulant quela chaîne vsNom n'est pas une chaîne vide, le code suivant passe lepremier caractère de la chaîne vsNom en majuscule :</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span>(vsNom#<span class="hljs-string">""</span>)    vsNom<span class="hljs-variable">[[1]]</span>:=<span class="hljs-function">Uppercase</span>(vsNom<span class="hljs-variable">[[1]]</span>)<span class="hljs-keyword">End if</span></code></pre><p>Lorsque les symboles d'indice de chaîne apparaissent dans uneexpression, ils retournent le caractère auquel ils font référencesous la forme d'une chaîne d'un caractère. Par exemple :</p><pre><code class="hljs css language-4d"><span class="hljs-comment">//L'exemple suivant teste si le dernier caractère de vtText est le caractère "@"</span><span class="hljs-keyword"> If</span>(vtText#<span class="hljs-string">""</span>)<span class="hljs-keyword">    If</span>(<span class="hljs-function">Character code</span>(<span class="hljs-function">Substring</span>(vtText;<span class="hljs-function">Length</span>(vtText);<span class="hljs-number">1</span>))=At sign)  <span class="hljs-comment">//...</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span>  <span class="hljs-comment">//En utilisant la syntaxe des caractères d'indice de chaîne, vous écririez plus simplement :</span><span class="hljs-keyword"> If</span>(vtText#<span class="hljs-string">""</span>)<span class="hljs-keyword">    If</span>(<span class="hljs-function">Character code</span>(vtText<span class="hljs-variable">[[Length(vtText)]]</span>)=At sign)  <span class="hljs-comment">// ...</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End if</span></code></pre><h3><a aria-hidden="true" class="anchor" id="string.html_note-avanc%C3%A9e-sur-la-r%C3%A9f%C3%A9rence-%C3%A0-des-caract%C3%A8res-invalides"></a><a aria-hidden="true" class="hash-link" href="#string.html_note-avanc%25C3%25A9e-sur-la-r%25C3%25A9f%25C3%25A9rence-%25C3%25A0-des-caract%25C3%25A8res-invalides"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Note avancée sur la référence à des caractèresinvalides</h3><p>Lorsque vous utilisez les symboles d'indice de chaîne, il est devotre responsabilité de vous référer à des caractères existant dansla chaîne, de la même manière que pour les éléments d'un tableau.Si, par exemple, vous référencez le 20e caractère d'une chaîne,cette chaîne doit contenir au moins 20 caractères.</p><ul><li>Ne pas respecter cette condition en mode interprété n'est passignalé comme une erreur par 4D.</li><li>Ne pas respecter cette condition en mode compilé (sans options)peut entraîner une "corruption" de la mémoire, si, par exemple,vous écrivez un caractère au-delà de la fin d'une chaîne ou d'untexte.</li><li>Ne pas respecter cette condition en mode compilé est signalélorsque le contrôle d'exécution est activé. Si, par exemple, vousexécutez le code suivant :</li></ul><pre><code class="hljs">//Ne pas faire ça ! vsAnyText:=<span class="hljs-string">""</span> vsAnyText<span class="hljs-string">[[1]]</span>:=<span class="hljs-string">"A"</span></code></pre><p>L'alerte suivante s'affichera en mode compilé :</p><p><img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/en/Concepts/Syntax_Error.en.png" /></p><h3><a aria-hidden="true" class="anchor" id="string.html_exemple"></a><a aria-hidden="true" class="hash-link"href="#string.html_exemple"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h3><p>La méthode projet suivante ajoute une lettre capitale à tous lesmots du texte passé en paramètre et retourne le texte modifié :</p><pre><code class="hljs css language-4d">  <span class="hljs-comment">// Méthode projet de passage en capitale</span>  <span class="hljs-comment">// PasserEnCap ( Texte ) -&gt; Texte</span>  <span class="hljs-comment">// PasserEnCap ( Texte source ) -&gt; Texte avec des lettres capitales</span> <span class="hljs-variable">$0</span>:=<span class="hljs-variable">$1</span> <span class="hljs-variable">$vlLen</span>:=<span class="hljs-function">Length</span>(<span class="hljs-variable">$0</span>)<span class="hljs-keyword"> If</span>(<span class="hljs-variable">$vlLen</span>&gt;<span class="hljs-number">0</span>)    <span class="hljs-variable">$0</span><span class="hljs-variable">[[1]]</span>:=<span class="hljs-function">Uppercase</span>(<span class="hljs-variable">$0</span><span class="hljs-variable">[[1]]</span>)<span class="hljs-keyword">    For</span>(<span class="hljs-variable">$vlChar</span>;<span class="hljs-number">1</span>;<span class="hljs-variable">$vlLen</span><span class="hljs-number">-1</span>)<span class="hljs-keyword">       If</span>(<span class="hljs-function">Position</span>(<span class="hljs-variable">$0</span><span class="hljs-variable">[[$vlChar]]</span>;<span class="hljs-string">" !&amp;()-{}:;&lt;&gt;?/,.=+*"</span>)&gt;<span class="hljs-number">0</span>)          <span class="hljs-variable">$0</span><span class="hljs-variable">[[$vlChar+1]]</span>:=<span class="hljs-function">Uppercase</span>(<span class="hljs-variable">$0</span><span class="hljs-variable">[[$vlChar+1]]</span>)<span class="hljs-keyword">       End if</span><span class="hljs-keyword">    End for</span><span class="hljs-keyword"> End if</span></code></pre><p>Une fois cette méthode placée dans la base, la ligne :</p><pre><code class="hljs css language-4d"><span class="hljs-function">ALERT</span>(<span class="hljs-function">Capitalize_text</span>(<span class="hljs-string">"Bonjour, mon nom est Jean Bon et je me présente aux présidentielles !"</span>))</code></pre><p>affiche l'alerte suivante :</p><p><img alt="alt-text" src="https://developer.4d.com/docs/Rx/assets/en/Concepts/Jane_doe.en.png" /></p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#pointer.html"><span class="arrow-prev">←</span><span>Pointeur</span></a><a class="docs-next button" href="#time.html"><span>Heure</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#string.html_constantes-litt%25C3%25A9rales-de-type-cha%25C3%25AEne">Constantes littérales de type chaîne</a><ul class="toc-headings"><li><a href="#string.html_s%25C3%25A9quences-d%25C3%25A9chappement">Séquencesd’échappement</a></li></ul></li><li><a href="#string.html_op%25C3%25A9rateurs-sur-les-cha%25C3%25AEnes">Opérateurssur les chaînes</a></li><li><a href="#string.html_comparaisons-de-cha%25C3%25AEnes">Comparaisons dechaînes</a><ul class="toc-headings"><li><a href="#string.html_le-joker-">Le joker (@)</a></li><li><a href="#string.html_mots-cl%25C3%25A9s">Mots-clés</a></li></ul></li><li><a href="#string.html_symboles-dindice-de-cha%25C3%25AEne">Symbolesd'indice de chaîne</a><ul class="toc-headings"><li><a href="#string.html_note-avanc%25C3%25A9e-sur-la-r%25C3%25A9f%25C3%25A9rence-%25C3%25A0-des-caract%25C3%25A8res-invalides">Note avancée sur la référence à des caractères invalides</a></li><li><a href="#string.html_exemple">Exemple</a></li></ul></li></ul></nav></div></div></body></html>