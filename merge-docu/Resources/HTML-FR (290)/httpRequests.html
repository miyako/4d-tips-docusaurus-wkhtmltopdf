<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="fr"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Traitement des requêtes HTTP · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="The 4D web server provides several features to handle HTTP requests:"name="description" /><meta content="fr" name="docsearch:language" /><meta content="Traitement des requêtes HTTP · 4D Documentation"property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="The 4D web server provides several features to handle HTTP requests:"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#httpRequests.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Traitement desrequêtes HTTP<a aria-hidden="true" class="anchor" id="httpRequests.html"></a></h1></header><article><div><p><span>The 4D web server provides several features to handle HTTPrequests:</span></p><ul><li><span>the <code>On Web Connection</code> database method, arouter for your web application,</span></li><li><span>the <code>/4DACTION</code> URL to call server-sidecode</span></li><li><span><code>WEB GET VARIABLES</code> to get values from HTMLobjects sent to the server</span></li><li><span>other commands such as <code>WEB GET HTTP BODY</code>,<code>WEB GET HTTP HEADER</code>, or <code>WEB GET BODY PART</code>allow to customize the request processing, includingcookies.</span></li><li><span>the <em>COMPILER_WEB</em> project method, to declare yourvariables.</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="httpRequests.html_on-web-connection"></a><a aria-hidden="true"class="hash-link" href="#httpRequests.html_on-web-connection"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>On Web Connection</span></h2><p><span>The <code>On Web Connection</code> database method can beused as the entry point for the 4D Web server.</span></p><h3><span><a aria-hidden="true" class="anchor" id="httpRequests.html_database-method-calls"></a><a aria-hidden="true"class="hash-link" href="#httpRequests.html_database-method-calls"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Database method calls</span></h3><p><span>The <code>On Web Connection</code> database method isautomatically called when the server reveives any URL that is not apath to an existing page on the server. The database method iscalled with the URL.</span></p><p><span>For example, the URL "<em>a/b/c</em>" will call thedatabase method, but "<em>a/b/c.html</em>" will not call thedatabase method if the page "c.html" exists in the "a/b" subfolderof the <a href="#httpRequests.html_root-folder">WebFolder</a>.</span></p><blockquote><p><span>The request should have previously been accepted by the<a href="#httpRequests.html_on-web-authentication"><code>On WebAuthentication</code></a> database method (if it exists) and theweb server must be launched.</span></p></blockquote><h3><span><a aria-hidden="true" class="anchor" id="httpRequests.html_syntaxe"></a><a aria-hidden="true" class="hash-link" href="#httpRequests.html_syntaxe"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Syntaxe</span></h3><p><span><strong>On Web Connection</strong>( <em>$1</em> : Text ;<em>$2</em> : Text ; <em>$3</em> : Text ; <em>$4</em> : Text ;<em>$5</em> : Text ; <em>$6</em> : Text )</span></p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>$1</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Variable URL</td></tr><tr><td>$2</td><td>Text</td><td style="text-align:center">&lt;-</td><td>HTTP headers + HTTP body (up to 32 kb limit)</td></tr><tr><td>$3</td><td>Text</td><td style="text-align:center">&lt;-</td><td>IP address of the web client (browser)</td></tr><tr><td>$4</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Adresse IP du serveur</td></tr><tr><td>$5</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Nom d'utilisateur</td></tr><tr><td>$6</td><td>Text</td><td style="text-align:center">&lt;-</td><td>Password</td></tr></tbody></table><p><span>You must declare these parameters as shownbelow:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-comment">//On Web Connection database method</span><span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$1</span>;<span class="hljs-variable">$2</span>;<span class="hljs-variable">$3</span>;<span class="hljs-variable">$4</span>;<span class="hljs-variable">$5</span>;<span class="hljs-variable">$6</span>)<span class="hljs-comment">//Code for the method</span></code></span></pre><p>Alternatively, you can use the <a href="#httpRequests.html_named-parameters">named parameters</a>syntax:</p><pre><code class="hljs css language-4d"><span class="hljs-comment">// On Web Connection database method</span>#<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$url </span>: Text; <span class="hljs-variable">$header </span>: Text; \  <span class="hljs-variable">$BrowserIP </span>: Text; <span class="hljs-variable">$ServerIP </span>: Text; \  <span class="hljs-variable">$user </span>: Text; <span class="hljs-variable">$password </span>: Text)</code></pre><blockquote><p>Calling a 4D command that displays an interface element(<code>DIALOG</code>, <code>ALERT</code>, etc.) is not allowed andends the method processing.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="httpRequests.html_1---url-extra-data"></a><a aria-hidden="true"class="hash-link" href="#httpRequests.html_1---url-extra-data"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$1 - URL extra data</h3><p>The first parameter ($1) is the URL entered by users in theaddress area of their web browser, without the host address.</p><p>Let’s use an intranet connection as an example. Suppose that theIP address of your 4D Web Server machine is 123.4.567.89. Thefollowing table shows the values of $1 depending on the URL enteredin the web browser:</p><table><thead><tr><th>URL entered in web browser</th><th>Value of parameter $1</th></tr></thead><tbody><tr><td>123.4.567.89</td><td>/</td></tr><tr><td><a href="http://123.4.567.89">http://123.4.567.89</a></td><td>/</td></tr><tr><td>123.4.567.89/Customers</td><td>/Customers</td></tr><tr><td><a href="http://123.4.567.89/Customers/Add">http://123.4.567.89/Customers/Add</a></td><td>/Customers/Add</td></tr><tr><td>123.4.567.89/Do_This/If_OK/Do_That</td><td>/Do_This/If_OK/Do_That</td></tr></tbody></table><p>Note that you are free to use this parameter at yourconvenience. 4D simply ignores the value passed beyond the hostpart of the URL. For example, you can establish a convention wherethe value "<em>/Customers/Add</em>" means “go directly to add a newrecord in the <code>[Customers]</code> table.” By supplying the webusers with a list of possible values and/or default bookmarks, youcan provide shortcuts to different parts of your application. Bysupplying the web users with a list of possible values and/ordefault bookmarks, you can provide shortcuts to different parts ofyour application. This way, web users can quickly access resourcesof your website without going through the entire navigation patheach time they make a new connection.</p><h3><a aria-hidden="true" class="anchor" id="httpRequests.html_2---header-and-body-of-the-http-request"></a><a aria-hidden="true"class="hash-link" href="#httpRequests.html_2---header-and-body-of-the-http-request"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$2 - Header and Body of the HTTP request</h3><p>The second parameter ($2) is the header and the body of the HTTPrequest sent by the web browser. Note that this information ispassed to your <code>On Web Connection</code> database method "asis". Its contents will vary depending on the nature of the webbrowser attempting the connection.</p><p>If your application uses this information, it is up to you toparse the header and the body. You can use the <code>WEB GET HTTPHEADER</code> and the <code>WEB GET HTTP BODY</code> commands.</p><blockquote><p>For performance reasons, the size of data passing through the $2parameter must not exceed 32 KB. Beyond this size, they aretruncated by the 4D HTTP server.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="httpRequests.html_3---web-client-ip-address"></a><a aria-hidden="true" class="hash-link" href="#httpRequests.html_3---web-client-ip-address"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$3 - Web client IP address</h3><p>The $3 parameter receives the IP address of the browser’smachine. This information can allow you to distinguish betweenintranet and internet connections.</p><blockquote><p>4D returns IPv4 addresses in a hybrid IPv6/IPv4 format writtenwith a 96-bit prefix, for example ::ffff:192.168.2.34 for the IPv4address 192.168.2.34. For more information, refer to the <a href="#httpRequests.html_about-ipv6-support">IPv6 Support</a>section.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="httpRequests.html_4---server-ip-address"></a><a aria-hidden="true"class="hash-link" href="#httpRequests.html_4---server-ip-address"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$4 - Server IP address</h3><p>The $4 parameter receives the IP address requested by the 4D WebServer. 4D allows for multi-homing, which allows you to usemachines with more than one IP address. For more information,please refer to the <a href="#httpRequests.html_ip-address-to-listen">Configurationpage</a>.</p><h3><a aria-hidden="true" class="anchor" id="httpRequests.html_5-and-6---user-name-and-password"></a><a aria-hidden="true"class="hash-link" href="#httpRequests.html_5-and-6---user-name-and-password"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>$5 and $6 - User Name and Password</h3><p>The $5 and $6 parameters receive the user name and passwordentered by the user in the standard identification dialog boxdisplayed by the browser, if applicable (see the <a href="#authentication.html">authentication page</a>).</p><blockquote><p>If the user name sent by the browser exists in 4D, the $6parameter (the user’s password) is not returned for securityreasons.</p></blockquote><h2><a aria-hidden="true" class="anchor" id="httpRequests.html_4daction"></a><a aria-hidden="true" class="hash-link" href="#httpRequests.html_4daction"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>/4DACTION</h2><p><strong><em>/4DACTION/</em></strong>MethodName***<br />*<em>/4DACTION/******MethodName/Param</em></p><table><thead><tr><th>Paramètres</th><th>Type</th><th style="text-align:center"></th><th>Description</th></tr></thead><tbody><tr><td>MethodName</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Name of the 4D project method to be executed</td></tr><tr><td>Param</td><td>Text</td><td style="text-align:center">-&gt;</td><td>Text parameter to pass to the project method</td></tr></tbody></table><p><strong>Usage:</strong> URL or Form action.</p><p>This URL allows you to call the <em>MethodName</em> 4D projectmethod with an optional <em>Param</em> text parameter. The methodwill receive this parameter in <em>$1</em>.</p><ul><li>The 4D project method must have been <a href="#allowProject.html">allowed for web requests</a>: the “Availablethrough 4D tags and URLs (4DACTION...)” attribute value must havebeen checked in the properties of the method. If the attribute isnot checked, the web request is rejected.</li><li>When 4D receives a <code>/4DACTION/MethodName/Param</code>request, the <code>On Web Authentication</code> database method (ifit exists) is called.</li></ul><p><code>4DACTION/</code> can be associated with a URL in a staticWeb page:</p><pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">A</span> <span class="hljs-attr">HREF</span>=<span class="hljs-string">"/4DACTION/MyMethod/hello"</span>&gt;</span>Do Something<span class="hljs-tag">&lt;/<span class="hljs-name">A</span>&gt;</span></code></pre><p>The <code>MyMethod</code> project method should generally returna "reply" (sending of an HTML page using <code>WEB SEND FILE</code>or <code>WEB SEND TEXT</code>, etc.). Be sure to make theprocessing as short as possible in order not to block thebrowser.</p><blockquote><p>A method called by <code>/4DACTION</code> must not callinterface elements (<code>DIALOG</code>, <code>ALERT</code>,etc.).</p></blockquote><h4><a aria-hidden="true" class="anchor" id="httpRequests.html_exemple"></a><a aria-hidden="true" class="hash-link" href="#httpRequests.html_exemple"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>This example describes the association of the<code>/4DACTION</code> URL with an HTML picture object in order todynamically display a picture in the page. You insert the followinginstructions in a static HTML page:</p><pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">IMG</span> <span class="hljs-attr">SRC</span>=<span class="hljs-string">"/4DACTION/getPhoto/smith"</span>&gt;</span></code></pre><p>The <code>getPhoto</code> method is as follows:</p><pre><code class="hljs css language-4d"><span class="hljs-function">C_TEXT</span>(<span class="hljs-variable">$1</span>) <span class="hljs-comment">// This parameter must always be declared</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$path </span>: Text<span class="hljs-keyword">var</span> <span class="hljs-variable">$PictVar </span>: Picture<span class="hljs-keyword">var</span> <span class="hljs-variable">$BlobVar </span>: Blob <span class="hljs-comment">//find the picture in the Images folder within the Resources folder </span><span class="hljs-variable">$path</span>:=<span class="hljs-function">Get 4D folder</span>(Current resources folder)+<span class="hljs-string">"Images"</span>+Folder separator+<span class="hljs-variable">$1</span>+<span class="hljs-string">".psd"</span><span class="hljs-function">READ PICTURE FILE</span>(<span class="hljs-variable">$path</span>;<span class="hljs-variable">$PictVar</span>) <span class="hljs-comment">//put the picture in the picture variable</span><span class="hljs-function">PICTURE TO BLOB</span>(<span class="hljs-variable">$PictVar</span>;<span class="hljs-variable">$BLOB</span>;<span class="hljs-string">".png"</span>) <span class="hljs-comment">//convert the picture to ".png" format</span><span class="hljs-function">WEB SEND BLOB</span>(<span class="hljs-variable">$BLOB</span>;<span class="hljs-string">"image/png"</span>)</code></pre><h3><a aria-hidden="true" class="anchor" id="httpRequests.html_4daction-to-post-forms"></a><a aria-hidden="true" class="hash-link" href="#httpRequests.html_4daction-to-post-forms"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4DACTION to post forms</h3><p>The 4D Web server also allows you to use “posted” forms, whichare static HTML pages that send data to the Web server, and toeasily retrieve all the values. The POST type must be associated tothem and the form’s action must imperatively start with/4DACTION/MethodName.</p><p>A form can be submitted through two methods (both can be usedwith 4D):</p><ul><li>POST, usually used to send data to the Web server,</li><li>GET, usually used to request data from the Web server.</li></ul><blockquote><p>When the Web server receives a posted form, it calls the<code>On Web Authentication</code> database method (if itexists).</p></blockquote><p>In the called method, you must call the <code>WEB GETVARIABLES</code> command in order to <a href="#httpRequests.html_getting-values-from-the-requests">retrieve thenames and values</a> of all the fields included in an HTML pagesubmitted to the server.</p><p>Example to define the action of a form:</p><pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">FORM</span> <span class="hljs-attr">ACTION</span>=<span class="hljs-string">"/4DACTION/MethodName"</span> <span class="hljs-attr">METHOD</span>=<span class="hljs-string">POST</span>&gt;</span></code></pre><h4><a aria-hidden="true" class="anchor" id="httpRequests.html_exemple-1"></a><a aria-hidden="true" class="hash-link" href="#httpRequests.html_exemple-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Exemple</h4><p>In a Web application, we would like for the browsers to be ableto search among the records by using a static HTML page. This pageis called “search.htm”. The application contains other static pagesthat allow you to, for example, display the search result(“results.htm”). The POST type has been associated to the page, aswell as the <code>/4DACTION/SEARCH</code> action.</p><p>Here is the HTML code that corresponds to this page:</p><pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/4daction/processForm"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">POST</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">text</span> <span class="hljs-attr">name</span>=<span class="hljs-string">vName</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">BR</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">checkbox</span> <span class="hljs-attr">name</span>=<span class="hljs-string">vExact</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Word"</span>&gt;</span>Whole word<span class="hljs-tag">&lt;<span class="hljs-name">BR</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">submit</span> <span class="hljs-attr">name</span>=<span class="hljs-string">OK</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Search"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">FORM</span>&gt;</span></code></pre><p>During data entry, type “ABCD” in the data entry area, check the"Whole word" option and validate it by clicking the<strong>Search</strong> button. In the request sent to the Webserver:</p><pre><code class="hljs"><span class="hljs-attr">vName</span>=<span class="hljs-string">"ABCD"</span><span class="hljs-attr">vExact</span>=<span class="hljs-string">"Word"</span><span class="hljs-attr">OK</span>=<span class="hljs-string">"Search"</span></code></pre><p>4D calls the <code>On Web Authentication</code> database method(if it exists), then the <code>processForm</code> project method iscalled, which is as follows:</p><pre><code class="hljs css language-4d"><span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$1</span>) <span class="hljs-comment">//mandatory for compiled mode</span><span class="hljs-function"> C_LONGINT</span>(<span class="hljs-variable">$vName</span>)<span class="hljs-function"> C_TEXT</span>(vName;vLIST)<span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-number">0</span>)<span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$arrVals</span>;<span class="hljs-number">0</span>)<span class="hljs-function"> WEB GET VARIABLES</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-variable">$arrVals</span>) <span class="hljs-comment">//we retrieve all the variables of the form</span> <span class="hljs-variable">$vName</span>:=<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vName"</span>) vName:=<span class="hljs-variable">$arrVals{</span><span class="hljs-variable">$vName}</span><span class="hljs-keyword"> If</span>(<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vExact"</span>)=<span class="hljs-number">-1</span>) <span class="hljs-comment">//If the option has not been checked</span>    vName:=vName+<span class="hljs-string">"@"</span><span class="hljs-keyword"> End if</span><span class="hljs-function"> QUERY</span>([Jockeys];[Jockeys]Name=vName)<span class="hljs-function"> FIRST RECORD</span>([Jockeys])<span class="hljs-keyword"> While</span>(<span class="hljs-function">Not</span>(<span class="hljs-function">End selection</span>([Jockeys])))    vLIST:=vLIST+[Jockeys]Name+<span class="hljs-string">" "</span>+[Jockeys]Tel+<span class="hljs-string">"&lt;BR&gt;"</span><span class="hljs-function">    NEXT RECORD</span>([Jockeys])<span class="hljs-keyword"> End while</span><span class="hljs-function"> WEB SEND FILE</span>(<span class="hljs-string">"results.htm"</span>) <span class="hljs-comment">//Send the list to the results.htm form</span>  <span class="hljs-comment">//which contains a reference to the variable vLIST,</span>  <span class="hljs-comment">//for example &lt;!--4DHTML vLIST--&gt;</span>  <span class="hljs-comment">//...</span><span class="hljs-keyword">End if</span></code></pre><h2><a aria-hidden="true" class="anchor" id="httpRequests.html_getting-values-from-http-requests"></a><a aria-hidden="true"class="hash-link" href="#httpRequests.html_getting-values-from-http-requests"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Getting values from HTTP requests</h2><p>4D's Web server lets you recover data sent through POST or GETrequests, using Web forms or URLs.</p><p>When the Web server receives a request with data in the headeror in the URL, 4D can retrieve the values of any HTML objects itcontains. This principle can be implemented in the case of a Webform, sent for example using <code>WEB SEND FILE</code> or<code>WEB SEND BLOB</code>, where the user enters or modifiesvalues, then clicks on the validation button.</p><p>In this case, 4D can retrieve the values of the HTML objectsfound in the request using the <code>WEB GET VARIABLES</code>command. The <code>WEB GET VARIABLES</code> command retrieves thevalues as text.</p><p>Consider the following HTML page source code:</p><pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Welcome<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"JavaScript"</span>&gt;</span><span class="actionscript">&lt;!--<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GetBrowserInformation</span><span class="hljs-params">(formObj)</span></span>{formObj.vtNav_appName.value = navigator.appNameformObj.vtNav_appVersion.value = navigator.appVersionformObj.vtNav_appCodeName.value = navigator.appCodeNameformObj.vtNav_userAgent.value = navigator.userAgent<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LogOn</span><span class="hljs-params">(formObj)</span></span>{<span class="hljs-keyword">if</span>(formObj.vtUserName.value!=<span class="hljs-string">""</span>){<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>} <span class="hljs-keyword">else</span> {alert(<span class="hljs-string">"Enter your name, then try again."</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>}}<span class="hljs-comment">//--&gt;</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/4DACTION/WWW_STD_FORM_POST"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"frmWelcome"</span> <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">"return GetBrowserInformation(frmWelcome)"</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome to Spiders United<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Please enter your name:<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtUserName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"30"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vsbLogOn"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Log On"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"return LogOn(frmWelcome)"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vsbRegister"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Register"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vsbInformation"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Information"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_appName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_appVersion"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_appCodeName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_userAgent"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>return false}}//--&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/4DACTION/WWW_STD_FORM_POST"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"frmWelcome"</span> <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">"return GetBrowserInformation(frmWelcome)"</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome to Spiders United<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Please enter your name:<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtUserName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"30"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vsbLogOn"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Log On"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"return LogOn(frmWelcome)"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vsbRegister"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Register"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vsbInformation"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Information"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_appName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_appVersion"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_appCodeName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"vtNav_userAgent"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre><p>When 4D sends the page to a Web Browser, it looks like this:</p><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/spiders.png" /></p><p>The main features of this page are:</p><ul><li>It includes three <strong>Submit</strong> buttons:<code>vsbLogOn</code>, <code>vsbRegister</code> and<code>vsbInformation</code>.</li><li>When you click <strong>Log On</strong>, the submission of theform is first processed by the JavaScript function<code>LogOn</code>. If no name is entered, the form is not evensubmitted to 4D, and a JavaScript alert is displayed.</li><li>The form has a POST 4D method as well as a Submit script(<em>GetBrowserInformation</em>) that copies the browser propertiesto the four hidden objects whose names starts with<em>vtNav_App</em>. It also includes the <code>vtUserName</code>object.</li></ul><p>Let’s examine the 4D method <code>WWW_STD_FORM_POST</code> thatis called when the user clicks on one of the buttons on the HTMLform.</p><pre><code class="hljs css language-4d">  <span class="hljs-comment">// Retrieval of value of variables</span><span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-number">0</span>)<span class="hljs-function"> ARRAY TEXT</span>(<span class="hljs-variable">$arrValues</span>;<span class="hljs-number">0</span>)<span class="hljs-function"> WEB GET VARIABLES</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-variable">$arrValues</span>)<span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$user</span>)<span class="hljs-keyword"> Case of</span>  <span class="hljs-comment">// The Log On button was clicked</span>    :(<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vsbLogOn"</span>)#<span class="hljs-number">-1</span>)       <span class="hljs-variable">$user </span>:=<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vtUserName"</span>)<span class="hljs-function">       QUERY</span>([WWW Users];[WWW Users]UserName=<span class="hljs-variable">$arrValues{</span><span class="hljs-variable">$user}</span>)       <span class="hljs-variable">$0</span>:=(<span class="hljs-function">Records in selection</span>([WWW Users])&gt;<span class="hljs-number">0</span>)<span class="hljs-keyword">       If</span>(<span class="hljs-variable">$0</span>)<span class="hljs-function">          WWW POST EVENT</span>(<span class="hljs-string">"Log On"</span>;WWW Log information)  <span class="hljs-comment">// The WWW POST EVENT method saves the information in a database table</span><span class="hljs-keyword">       Else</span>          <span class="hljs-variable">$0</span>:=WWW Register  <span class="hljs-comment">// The WWW Register method lets a new Web user register</span><span class="hljs-keyword">       End if</span>  <span class="hljs-comment">// The Register button was clicked</span>    :(<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vsbRegister"</span>)#<span class="hljs-number">-1</span>)       <span class="hljs-variable">$0</span>:=WWW Register  <span class="hljs-comment">// The Information button was clicked</span>    :(<span class="hljs-function">Find in array</span>(<span class="hljs-variable">$arrNames</span>;<span class="hljs-string">"vsbInformation"</span>)#<span class="hljs-number">-1</span>)<span class="hljs-function">       WEB SEND FILE</span>(<span class="hljs-string">"userinfos.html"</span>)<span class="hljs-keyword"> End case</span></code></pre><p>The features of this method are:</p><ul><li>The values of the variables <em>vtNav_appName</em>,<em>vtNav_appVersion</em>, <em>vtNav_appCodeName</em>, and<em>vtNav_userAgent</em> (bound to the HTML objects having the samenames) are retrieved using the <code>WEB GET VARIABLES</code>command from HTML objects created by the<em>GetBrowserInformation</em> JavaScript script.</li><li>Out of the <em>vsbLogOn</em>, <em>vsbRegister</em> and<em>vsbInformation</em> variables bound to the three Submitbuttons, only the one corresponding to the button that was clickedwill be retrieved by the <code>WEB GET VARIABLES</code> command.When the submit is performed by one of these buttons, the browserreturns the value of the clicked button to 4D. This tells you whichbutton was clicked.</li></ul><p>Keep in main that with HTML, all objects are text objects. Ifyou use a SELECT object, it is the value of the highlighted elementin the object that is returned in the <code>WEB GETVARIABLES</code> command, and not the position of the element inthe array as in 4D. <code>WEB GET VARIABLES</code> always returnsvalues of the Text type.</p><h2><a aria-hidden="true" class="anchor" id="httpRequests.html_other-web-server-commands"></a><a aria-hidden="true" class="hash-link" href="#httpRequests.html_other-web-server-commands"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Other Web Server Commands</h2><p>The 4D web server provides several low-level web commandsallowing you to develop custom processing of requests:</p><ul><li>the <code>WEB GET HTTP BODY</code> command returns the body asraw text, allowing any parsing you may need</li><li>the <code>WEB GET HTTP HEADER</code> command return the headersof the request. It is useful to handle custom cookies, for example(along with the <code>WEB SET HTTP HEADER</code> command).</li><li>the <code>WEB GET BODY PART</code> and <code>WEB Get body partcount</code> commands to parse the body part of a multi-partrequest and retrieve text values, but also files posted, usingBLOBs.</li></ul><p>These commands are summarized in the following graphic:</p><p><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/WebServer/httpCommands.png" /></p><p>The 4D web server supports files uploaded in chunked transferencoding from any Web client. Chunked transfer encoding is a datatransfer mechanism specified in HTTP/1.1. It allows data to betransferred in a series of "chunks" (parts) without knowing thefinal data size. The 4D Web Server also supports chunked transferencoding from the server to Web clients (using <code>WEB SEND RAWDATA</code>).</p><h2><a aria-hidden="true" class="anchor" id="httpRequests.html_compiler_web-project-method"></a><a aria-hidden="true" class="hash-link" href="#httpRequests.html_compiler_web-project-method"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>COMPILER_WEB Project Method</h2><p>The COMPILER_WEB method, if it exists, is systematically calledwhen the HTTP server receives a dynamic request and calls the 4Dengine. This is the case, for example, when the 4D Web serverreceives a posted form or a URL to process in <a href="#httpRequests.html_on-web-connection"><code>On WebConnection</code></a>. This method is intended to contain typingand/or variable initialization directives used during Webexchanges. It is used by the compiler when the application iscompiled. The COMPILER_WEB method is common to all the Web forms.By default, the COMPILER_WEB method does not exist. You mustexplicitly create it.</p><blockquote><p>The COMPILER_WEB project method is also called, if it exists,for each SOAP request accepted.</p></blockquote></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#templates.html"><span class="arrow-prev">←</span> <span>Templatepages</span></a><a class="docs-next button" href="#allowProject.html"><span>Allowing project methods</span><span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#httpRequests.html_on-web-connection">On WebConnection</a><ul class="toc-headings"><li><a href="#httpRequests.html_database-method-calls">Databasemethod calls</a></li><li><a href="#httpRequests.html_syntaxe">Syntaxe</a></li><li><a href="#httpRequests.html_1---url-extra-data">$1 - URL extradata</a></li><li><a href="#httpRequests.html_2---header-and-body-of-the-http-request">$2 -Header and Body of the HTTP request</a></li><li><a href="#httpRequests.html_3---web-client-ip-address">$3 - Webclient IP address</a></li><li><a href="#httpRequests.html_4---server-ip-address">$4 - ServerIP address</a></li><li><a href="#httpRequests.html_5-and-6---user-name-and-password">$5 and $6 -User Name and Password</a></li></ul></li><li><a href="#httpRequests.html_4daction">/4DACTION</a><ul class="toc-headings"><li><a href="#httpRequests.html_4daction-to-post-forms">4DACTION topost forms</a></li></ul></li><li><a href="#httpRequests.html_getting-values-from-http-requests">Gettingvalues from HTTP requests</a></li><li><a href="#httpRequests.html_other-web-server-commands">OtherWeb Server Commands</a></li><li><a href="#httpRequests.html_compiler_web-project-method">COMPILER_WEBProject Method</a></li></ul></nav></div></div></body></html>