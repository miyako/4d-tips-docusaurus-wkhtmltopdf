<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="ja"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>数値 (実数、倍長整数、整数) · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="数値とは、以下を示す総称です:" name="description" /><meta content="ja" name="docsearch:language" /><meta content="数値 (実数、倍長整数、整数) · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="数値とは、以下を示す総称です:" property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#dt_number.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">数値(実数、倍長整数、整数)<a aria-hidden="true" class="anchor" id="number.html"></a></h1></header><article><div><p><span>数値とは、以下を示す総称です:</span></p><ul><li><span>実数のフィールド、変数、または式。 実数データタイプの範囲は、±1.7e±308 (有効数字13桁)です。</span></li><li><span>倍長整数のフィールド、変数、または式。 倍長整数 (4バイト整数)データタイプの範囲は、-2^31..(2^31)-1です。</span></li><li><span>整数のフィールド、変数、または式。 整数 (2バイト整数) データタイプの範囲は、-32,768..32,767(2^15..(2^15)-1)です。</span></li></ul><p><span><strong>注:</strong> 整数フィールドの値は、4Dランゲージで使用される際には自動的に倍長整数に変換されます。</span></p><p><span>数値データタイプは、異なる数値データタイプに代入することができます。このとき、4Dが必要に応じて変換、切り捨て、丸め処理をおこないます。ただし、値が範囲外の場合には、変換は正しい値を返しません。数値データタイプは式の中に混在させて使用することができます。</span></p><p><span><strong>注:</strong> 4Dランゲージリファレンスでは、実際のデータタイプに関わらず、コマンド説明における実数、整数、倍長整数の引数はとくに明記されていない限り、数値と表記されています。</span></p><h2><span><a aria-hidden="true" class="anchor" id="number.html_%E6%95%B0%E5%80%A4%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB"></a><a aria-hidden="true" class="hash-link" href="#number.html_%25E6%2595%25B0%25E5%2580%25A4%25E3%2583%25AA%25E3%2583%2586%25E3%2583%25A9%25E3%2583%25AB"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>数値リテラル</span></h2><p><span>数値リテラル定数は、実数として記述します。 下記に数値定数の例をいくつか示します:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-number">27</span><span class="hljs-number">123.76</span><span class="hljs-number">0.0076</span></code></span></pre><blockquote><p>デフォルトの小数点はシステム言語に関係なくピリオド (.) です。 "地域特有のシステム設定を使う" オプション(<a href="https://doc.4d.com/4Dv18/4D/18/Methods-Page.300-4575690.ja.html">メソッドページ</a>参照) にチェックがされている場合、システムで定義されている小数点を使用する必要があります。</p></blockquote><p>負の数値は、マイナス記号 (-) を付けて指定します。 たとえば:</p><pre><code class="hljs css language-4d"><span class="hljs-number">-27</span><span class="hljs-number">-123.76</span><span class="hljs-number">-0.0076</span></code></pre><h2><a aria-hidden="true" class="anchor" id="number.html_%E6%95%B0%E5%80%A4%E6%BC%94%E7%AE%97%E5%AD%90"></a><a aria-hidden="true"class="hash-link" href="#number.html_%25E6%2595%25B0%25E5%2580%25A4%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>数値演算子</h2><table><thead><tr><th>演算子</th><th>シンタックス</th><th>戻り値</th><th>式</th><th>値</th></tr></thead><tbody><tr><td>加算 (足し算)</td><td>数値 + 数値</td><td>数値</td><td>2 + 3</td><td>5</td></tr><tr><td>減算 (引き算)</td><td>数値 - 数値</td><td>数値</td><td>3 – 2</td><td>1</td></tr><tr><td>乗算 (かけ算)</td><td>数値 * 数値</td><td>数値</td><td>5 * 2</td><td>10</td></tr><tr><td>除算 (割り算)</td><td>数値 / 数値</td><td>数値</td><td>5 / 2</td><td>2.5</td></tr><tr><td>倍長整数を返す除算</td><td>数値 \ 数値</td><td>数値</td><td>5 \ 2</td><td>2</td></tr><tr><td>モジューロ</td><td>数値 % 数値</td><td>数値</td><td>5 % 2</td><td>1</td></tr><tr><td>指数</td><td>数値 ^ 数値</td><td>数値</td><td>2 ^ 3</td><td>8</td></tr><tr><td>等しい</td><td>数値 = 数値</td><td>ブール</td><td>10 = 10</td><td>True</td></tr><tr><td></td><td></td><td></td><td>10 = 11</td><td>False</td></tr><tr><td>異なる</td><td>数値 # 数値</td><td>ブール</td><td>10 # 11</td><td>True</td></tr><tr><td></td><td></td><td></td><td>10 # 10</td><td>False</td></tr><tr><td>大きい</td><td>数値 &gt; 数値</td><td>ブール</td><td>11 &gt; 10</td><td>True</td></tr><tr><td></td><td></td><td></td><td>10 &gt; 11</td><td>False</td></tr><tr><td>小さい</td><td>数値 &lt; 数値</td><td>ブール</td><td>10 &lt; 11</td><td>True</td></tr><tr><td></td><td></td><td></td><td>11 &lt; 10</td><td>False</td></tr><tr><td>以上</td><td>数値 &gt;= 数値</td><td>ブール</td><td>11 &gt;= 10</td><td>True</td></tr><tr><td></td><td></td><td></td><td>10 &gt;= 11</td><td>False</td></tr><tr><td>以下</td><td>数値 &lt;= 数値</td><td>ブール</td><td>10 &lt;= 11</td><td>True</td></tr><tr><td></td><td></td><td></td><td>11 &lt;= 10</td><td>False</td></tr></tbody></table><p>モジューロ演算子 % は最初の数値を 2番目の数値で除算し、その余りの整数を返します。 次に例を示します:</p><ul><li>10 % 2は、0を返します。10 は 2 で割り切れるからです。</li><li>10 % 3は、1を返します。余りが 1 だからです。</li><li>10.5 % 2は、0を返します。余りが整数ではない (0.25) からです。</li></ul><p><strong>警告:</strong></p><ul><li>モジューロ演算子 % は倍長整数の範囲内 (-2^31 から (2^31)-1 まで) の数値に対して有効な値を返します。この範囲外の数値のモジューロ演算を実行するには、<code>Mod</code> コマンドを使用します。</li><li>倍長整数を返す除算演算子 \ は、整数値の有効値を返します。</li></ul><h3><a aria-hidden="true" class="anchor" id="number.html_%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D"></a><a aria-hidden="true"class="hash-link" href="#number.html_%25E5%2584%25AA%25E5%2585%2588%25E9%25A0%2586%25E4%25BD%258D"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>優先順位</h3><p>式を評価する順番を優先順位と呼びます。 4D における優先順位は厳密に左から右で、代数的順序は採用されていません。たとえば:</p><pre><code class="hljs css language-4d"> <span class="hljs-number">3</span>+<span class="hljs-number">4</span>*<span class="hljs-number">5</span></code></pre><p>これは 35 を返します。最初に式 3+4 の結果 7 を求め、それに 5 を乗じるので、結果は 35 になります。</p><p>左から右の優先順位を変更するには、必ずカッコを使用します。 たとえば:</p><pre><code class="hljs css language-4d"> <span class="hljs-number">3</span>+(<span class="hljs-number">4</span>*<span class="hljs-number">5</span>)</code></pre><p>この式は、23 を返します。カッコがあるため、最初に式 (4*5) の結果 20 を求め、 それに 3 を加えて、結果は 23になります。</p><p>カッコは、他のカッコの組の内側にネストすることができます。式の評価が正しくおこなわれるように、必ず各左カッコに対応する右カッコを指定してください。カッコの不足または誤用は、予測できない結果や、式の無効化につながります。またコンパイルする場合は、左カッコと右カッコは同じ数でなければなりません。組になっていないカッコはシンタックスエラーとして検出されます。</p><h2><a aria-hidden="true" class="anchor" id="number.html_%E3%83%93%E3%83%83%E3%83%88%E3%83%AF%E3%82%A4%E3%82%BA%E6%BC%94%E7%AE%97%E5%AD%90"></a><a aria-hidden="true" class="hash-link" href="#number.html_%25E3%2583%2593%25E3%2583%2583%25E3%2583%2588%25E3%2583%25AF%25E3%2582%25A4%25E3%2582%25BA%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ビットワイズ演算子</h2><p>ビットワイズ演算子は、<strong>倍長整数</strong> 式や値に対して演算をおこないます。</p><blockquote><p>ビットワイズ演算子に整数値または実数値を渡すと、4Dは値を倍長整数値として評価してから、ビットワイズ演算子を使用した式を計算します。</p></blockquote><p>ビットワイズ演算子を使用する場合、倍長整数値を32ビットの配列と考える必要があります。これらのビットには、右から左に0~31の番号が付けられます。</p><p>それぞれのビットは0か1なので、倍長整数値は32のブール値を格納できる値と考えることもできます。 1に等しいビットは<strong>true</strong>、0に等しいビットは <strong>false</strong> を意味します。</p><p>ビットワイズ演算子を使用する式は倍長整数値を返します。Bit Test 演算子の場合、式は例外的にブール値を返します。次の表にビットワイズ演算子とそのシンタックスを示します:</p><table><thead><tr><th>演算子</th><th>演算子</th><th>シンタックス</th><th>戻り値</th></tr></thead><tbody><tr><td>Bitwise AND</td><td>&amp;</td><td>Long &amp; Long</td><td>Long</td></tr><tr><td>Bitwise OR (inclusive)</td><td>|</td><td>Long | Long</td><td>Long</td></tr><tr><td>Bitwise OR (exclusive)</td><td>^|</td><td>Long ^| Long</td><td>Long</td></tr><tr><td>Left Bit Shift</td><td>&lt;&lt;</td><td>Long &lt;&lt; Long</td><td>Long (注記1 参照)</td></tr><tr><td>Right Bit Shift</td><td>&gt;&gt;</td><td>Long &gt;&gt; Long</td><td>Long (注記1 参照)</td></tr><tr><td>Bit Set</td><td>?+</td><td>Long ?+ Long</td><td>Long (注記2 参照)</td></tr><tr><td>Bit Clear</td><td>?-</td><td>Long ?- Long</td><td>Long (注記2 参照)</td></tr><tr><td>Bit Test</td><td>??</td><td>Long ?? Long</td><td>Boolean (注記2 参照)</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="number.html_%E6%B3%A8%E8%A8%98"></a><a aria-hidden="true" class="hash-link" href="#number.html_%25E6%25B3%25A8%25E8%25A8%2598"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>注記</h4><ol><li><code>Left Bit Shift</code> および <code>Right Bit Shift</code>演算では、2番目のオペランドは、結果値において1番目のオペランドのビットがシフトされるビット数を示します。したがって、この2番目のオペランドは、0~31の間でなければなりません。0ビットシフトするとその値がそのまま返されます。また、31ビットより多くシフトするとすべてのビットがなくなるので、0x00000000が返されます。それ以外の値を2番目のオペランドとして渡した場合、結果は意味のない値になります。</li><li><code>Bit Set</code>、<code>Bit Clear</code>、<code>BitTest</code> 演算では、2番目のオペランドは、作用の対象となるビット番号を示します。 したがって、この2番目のオペランドは0~ 31の間です。そうでない場合、式の結果は意味のないものになります。</li></ol><p>次の表は、ビットワイズ演算子とその効果を示します:</p><table><thead><tr><th>演算子</th><th>説明</th></tr></thead><tbody><tr><td>Bitwise AND</td><td>それぞれの結果ビットは2つのオペランドのビットの論理ANDです。<p>下記は、論理ANDの真偽表です:</p><ul><li>1 &amp; 1 --&gt; 1</li><li>0 &amp; 1 --&gt; 0</li><li>1 &amp; 0 --&gt; 0</li><li>0 &amp; 0 --&gt; 0</li><p>すなわち、両オペランドのビットが 1 の場合、結果ビットが 1 になり、その他の場合は結果ビットが 0 になります。</p></ul></td></tr><tr><td>Bitwise OR (inclusive)</td><td>それぞれの結果ビットは2つのオペランドのビットの論理ORです。<p>下記は、論理ORの真偽表です:</p><ul><li>1 | 1 --&gt; 1</li><li>0 | 1 --&gt; 1</li><li>1 | 0 --&gt; 1</li><li>0 | 0 --&gt; 0</li><p>すなわち、いずれかのオペランドのビットが 1 の場合、結果ビットが 1 になり、その他の場合は結果ビットが 0になります。</p></ul></td></tr><tr><td>Bitwise OR (exclusive)</td><td>それぞれの結果ビットは2つのオペランドのビットの排他的論理ORです。<p>下記は、排他的論理ORの真偽表です:</p><ul><li>1 ^| 1 --&gt; 0</li><li>0 ^| 1 --&gt; 1</li><li>1 ^| 0 --&gt; 1</li><li>0 ^| 0 --&gt; 0</li><p>すなわち、オペランドのビットのいずれか一方だけが 1 の場合、結果ビットが 1 になり、その他の場合は結果ビットが 0になります。</p></ul></td></tr><tr><td>Left Bit Shift</td><td>最初のオペランド値が結果値に設定され、次に結果ビットが2番目のオペランドで示されたビット数だけ左にシフトします。左側のビットがなくなり、右側の新しいビットは0に設定されます。<p><strong>注記:</strong>正の数だけを考えると、Nビット左にシフトすることは、2^Nを掛けることと同じです。</p></td></tr><tr><td>Right Bit Shift</td><td>最初のオペランド値が結果値に設定され、次に結果ビットが2番目のオペランドで示されたビット数だけ右にシフトします。右側のビットがなくなり、左側の新しいビットは0に設定されます。<p><strong>注記:</strong>正の数だけを考えると、Nビット右にシフトすることは、2^Nで割ることと同じです。</p></td></tr><tr><td>Bit Set</td><td>最初のオペランド値が結果値に設定され、次に結果ビットのうち2番目のオペランドで示されたビットが1に設定されます。他のビットはそのままです。</td></tr><tr><td>Bit Clear</td><td>最初のオペランド値が結果値に設定され、次に結果ビットのうち2番目のオペランドで示されたビットが0に設定されます。他のビットはそのままです。</td></tr><tr><td>Bit Test</td><td>最初のオペランドのうち、2番目のビットで示されたビットが1の場合、trueが返されます。最初のオペランドのうち、2番目のビットで示されたビットが0の場合、falseが返されます。</td></tr></tbody></table><h3><a aria-hidden="true" class="anchor" id="number.html_%E4%BE%8B%E9%A1%8C"></a><a aria-hidden="true" class="hash-link" href="#number.html_%25E4%25BE%258B%25E9%25A1%258C"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h3><table><thead><tr><th>演算子</th><th>例題</th><th>戻り値</th></tr></thead><tbody><tr><td>Bitwise AND</td><td>0x0000FFFF &amp; 0xFF00FF00</td><td>0x0000FF00</td></tr><tr><td>Bitwise OR (inclusive)</td><td>0x0000FFFF | 0xFF00FF00</td><td>0xFF00FFFF</td></tr><tr><td>Bitwise OR (exclusive)</td><td>0x0000FFFF ^| 0xFF00FF00</td><td>0xFF0000FF</td></tr><tr><td>Left Bit Shift</td><td>0x0000FFFF &lt;&lt; 8</td><td>0x00FFFF00</td></tr><tr><td>Right Bit Shift</td><td>0x0000FFFF &gt;&gt; 8</td><td>0x000000FF</td></tr><tr><td>Bit Set</td><td>0x00000000 ?+ 16</td><td>0x00010000</td></tr><tr><td>Bit Clear</td><td>0x00010000 ?- 16</td><td>0x00000000</td></tr><tr><td>Bit Test</td><td>0x00010000 ?? 16</td><td>True</td></tr></tbody></table></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#null-undefined.html"><span class="arrow-prev">←</span> <span>Nullと 未定義</span></a><a class="docs-next button" href="#object.html"><span>オブジェクト</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#number.html_%25E6%2595%25B0%25E5%2580%25A4%25E3%2583%25AA%25E3%2583%2586%25E3%2583%25A9%25E3%2583%25AB">数値リテラル</a></li><li><a href="#number.html_%25E6%2595%25B0%25E5%2580%25A4%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">数値演算子</a><ul class="toc-headings"><li><a href="#number.html_%25E5%2584%25AA%25E5%2585%2588%25E9%25A0%2586%25E4%25BD%258D">優先順位</a></li></ul></li><li><a href="#number.html_%25E3%2583%2593%25E3%2583%2583%25E3%2583%2588%25E3%2583%25AF%25E3%2582%25A4%25E3%2582%25BA%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">ビットワイズ演算子</a><ul class="toc-headings"><li><a href="#number.html_%25E4%25BE%258B%25E9%25A1%258C">例題</a></li></ul></li></ul></nav></div></div></body></html>