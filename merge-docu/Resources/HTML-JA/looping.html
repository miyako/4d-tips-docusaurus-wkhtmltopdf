<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="ja"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>ループ構造 · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="ループ構造は、条件が満たされるまで、あるいは指定した回数まで、同じ処理を繰り返します。" name="description" /><meta content="ja" name="docsearch:language" /><meta content="ループ構造 · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="ループ構造は、条件が満たされるまで、あるいは指定した回数まで、同じ処理を繰り返します。"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#cf_looping.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">ループ構造<a aria-hidden="true" class="anchor" id="looping.html"></a></h1></header><article><div><p><span>ループ構造は、条件が満たされるまで、あるいは指定した回数まで、同じ処理を繰り返します。</span></p><h2><span><a aria-hidden="true" class="anchor" id="looping.html_whileend-while"></a><a aria-hidden="true" class="hash-link" href="#looping.html_whileend-while"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>While...End while</span></h2><p><span><code>While...End while</code>による制御フロー構造の正式な構文は以下のようになります:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-keyword"> While</span>(Boolean_Expression)<span class="hljs-function">    statement</span>(s)    {break}      {continue}<span class="hljs-keyword"> End while</span></code></span></pre><p><code>While...End while</code> ループは、ブール式が trueである限り、ループ内のステートメントを実行し続けます。 ループの始めにブール式を評価し、ブール式が FALSEの場合にはループをおこないません。</p><p><code>break</code> および <code>continue</code> ステートメントについては<a href="#looping.html_break-%25E3%2581%25A8-continue">後述します</a>。</p><p>一般に、<code>While...End while</code>ループに入る手前で、ブール式で判定する値を初期化しておきます。 通常はブール式が trueになるように設定してからループに入ります。</p><p>ブール式は、ループ内の要素を使って設定されなければなりません。そうでなければ、ループは永久に続くでしょう。以下の例では、<em>NeverStop</em> がいつも true であるので、ループは永久に続きます。</p><pre><code class="hljs css language-4d"> NeverStop:=<span class="hljs-literal">True</span><span class="hljs-keyword"> While</span>(NeverStop)<span class="hljs-keyword"> End while</span></code></pre><p>このようにメソッドの実行が制御不能になった場合には、トレース機能を使用し、ループを止めて、問題点を追跡することができます。メソッドのトレース方法については、<a href="#error-handling.html">エラー処理</a>の章を見てください。</p><h3><a aria-hidden="true" class="anchor" id="looping.html_%E4%BE%8B%E9%A1%8C"></a><a aria-hidden="true" class="hash-link" href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h3><pre><code class="hljs css language-4d"><span class="hljs-function"> CONFIRM</span>(<span class="hljs-string">"新規レコードを追加しますか？"</span>) <span class="hljs-comment">// ユーザーに確認します</span><span class="hljs-keyword"> While</span>(OK=<span class="hljs-number">1</span>) <span class="hljs-comment">// 利用者が望む限りループします</span><span class="hljs-function">    ADD RECORD</span>([aTable]) <span class="hljs-comment">// 新規にレコードを追加します</span><span class="hljs-keyword"> End while</span> <span class="hljs-comment">// ループは必ず End while によって終わります</span></code></pre><p>この例では、まずループに入る前に <code>CONFIRM</code> コマンドによりシステム変数<code>OK</code> がセットされます。 ユーザーがダイアログボックスで <strong>OK</strong>ボタンをクリックすると、システム変数 <code>OK</code> に1がセットされ、ループを開始します。それ以外の場合はシステム変数 <code>OK</code> に0が設定され、ループをスキップします。ループに入ると、<code>ADD RECORD</code>コマンドはループを続けます。これは、ユーザーがレコードを保存した時点で、システム変数 <code>OK</code>に1が設定されるからです。 ユーザーが最後のレコードを取り消した (保存しない) 時点で、システム変数 <code>OK</code>に0がセットされ、ループは終了します。</p><h2><a aria-hidden="true" class="anchor" id="looping.html_repeatuntil"></a><a aria-hidden="true" class="hash-link" href="#looping.html_repeatuntil"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Repeat...Until</h2><p><code>Repeat...Until</code> による制御フロー構造の正式な構文は以下のようになります:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">Repeat</span><span class="hljs-function">    statement</span>(s)    {break}      {continue}<span class="hljs-keyword">Until</span>(Boolean_Expression)</code></pre><p><code>Repeat...Until</code> ループは、<a href="#looping.html_whileend-while">While...End while</a>ループと似ていますが、まずループの後でブール式を判定する点が異なります。つまり、<code>Repeat...Until</code>ループは最低でも1回は必ずループを実行しますが、<code>While...End while</code> ループは最初のブール式がFALSE である場合には、ループを1回も実行しません。</p><p>もう一つの <code>While...End while</code> ループとの相違点は、<code>Repeat...Until</code> はブール式が true になるまでループを続行することです。</p><p><code>break</code> および <code>continue</code> ステートメントについては<a href="#looping.html_break-%25E3%2581%25A8-continue">後述します</a>。</p><h3><a aria-hidden="true" class="anchor" id="looping.html_%E4%BE%8B%E9%A1%8C-1"></a><a aria-hidden="true"class="hash-link" href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C-1"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h3><p>以下の例を、<code>While...End while</code> ループの例と比較してください。ブール式を、初期化しておく必要がない点に注目してください。システム変数　<code>OK</code> を初期化する<code>CONFIRM</code> コマンドはありません。</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> Repeat</span><span class="hljs-function">    ADD RECORD</span>([aTable])<span class="hljs-keyword"> Until</span>(OK=<span class="hljs-number">0</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="looping.html_forend-for"></a><a aria-hidden="true" class="hash-link" href="#looping.html_forend-for"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>For...End for</h2><p><code>For...End for</code> による制御フロー構造の正式な構文は以下のようになります:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">For</span>(Counter_Variable;Start_Expression;End_Expression{;Increment_Expression})<span class="hljs-function">   statement</span>(s)    {break}      {continue}<span class="hljs-keyword">End for</span></code></pre><p><code>For...End for</code> ループは、カウンター変数によりループを制御します:</p><ul><li>カウンター変数 <em>Counter_Variable</em> は、数値変数 (実数または倍長整数)で、<em>Start_Expression</em> に指定した値に初期化されます。</li><li>ループを実行するたびに、任意の引数である <em>Increment_Expression</em>の値がカウンター変数に加算されます。 <em>Increment_Expression</em>を指定しない場合、増分値は1になります。</li><li>カウンターが <em>End_Expression</em> の値を超えた時点で、ループを停止します。</li></ul><p><strong>重要:</strong><em>Start_Expression</em>、<em>End_Expression</em>、<em>Increment_Expression</em>の値は、ループの始めに一度だけ評価されます。これらの数値が変数で指定されている場合、ループ内でその変数の値を変更してもループは影響を受けません。</p><p><strong>Tip:</strong> 特別な目的のために、カウンター変数<em>Counter_Variable</em>の値を変更することができます。ループ内でカウンター変数を変更すると、ループはその影響を受けます。</p><ul><li>通常、<em>Start_Expression</em> は <em>End_Expression</em>より小さい。</li><li><em>Start_Expression</em> と <em>End_Expression</em>が等しい場合、1回だけループがおこなわれます。</li><li><em>Start_Expression</em> が <em>End_Expression</em>より大きい場合、<em>Increment_Expression</em> に負の値を指定しない限り、ループはおこなわれません。次に例を示します。</li></ul><p><code>break</code> および <code>continue</code> ステートメントについては<a href="#looping.html_break-%25E3%2581%25A8-continue">後述します</a>。</p><h3><a aria-hidden="true" class="anchor" id="looping.html_%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B"></a><a aria-hidden="true" class="hash-link" href="#looping.html_%25E5%259F%25BA%25E6%259C%25AC%25E7%259A%2584%25E3%2581%25AA%25E4%25BD%25BF%25E7%2594%25A8%25E4%25BE%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>基本的な使用例</h3><ol><li>以下の例は、100回の繰り返しをおこないます:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(vCounter;<span class="hljs-number">1</span>;<span class="hljs-number">100</span>)  <span class="hljs-comment">// なんらかの処理</span><span class="hljs-keyword"> End for</span></code></pre><ol start="2"><li>以下の例は、配列 anArray の全要素に対して処理をおこないます:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlElem</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Size of array</span>(anArray))  <span class="hljs-comment">// 各配列要素に対する処理</span>    anArray{<span class="hljs-variable">$vlElem}</span>:=...<span class="hljs-keyword"> End for</span></code></pre><ol start="3"><li>テキスト変数 vtSomeText の文字を一つ一つループ処理します:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlChar</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Length</span>(vtSomeText))    <span class="hljs-comment">// 文字がタブであれば</span><span class="hljs-keyword">    If</span>(<span class="hljs-function">Character code</span>(vtSomeText<span class="hljs-variable">[[$vlChar]]</span>)=Tab)        <span class="hljs-comment">// なんらかの処理をします</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End for</span></code></pre><ol start="4"><li>以下の例は、テーブル [aTable] のカレントセクションの各レコードについて処理をおこないます:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-function"> FIRST RECORD</span>([aTable])<span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlRecord</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Records in selection</span>([aTable]))  <span class="hljs-comment">// 各レコードに対する処理</span><span class="hljs-function">    SEND RECORD</span>([aTable])  <span class="hljs-comment">//...</span>  <span class="hljs-comment">// 次レコードへ移動します</span><span class="hljs-function">    NEXT RECORD</span>([aTable])<span class="hljs-keyword"> End for</span></code></pre><p>プロジェクトで作成する大部分の <code>For...End for</code>ループは、上記例題のいずれかの形式になるでしょう。</p><h3><a aria-hidden="true" class="anchor" id="looping.html_%E3%82%AB%E3%82%A6%E3%83%B3%E3%82%BF%E3%83%BC%E5%A4%89%E6%95%B0%E3%81%AE%E6%B8%9B%E7%AE%97"></a><a aria-hidden="true" class="hash-link" href="#looping.html_%25E3%2582%25AB%25E3%2582%25A6%25E3%2583%25B3%25E3%2582%25BF%25E3%2583%25BC%25E5%25A4%2589%25E6%2595%25B0%25E3%2581%25AE%25E6%25B8%259B%25E7%25AE%2597"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>カウンター変数の減算</h3><p>ループに際してカウンター変数を増加させるのではなく、減少させたい場合があります。その場合、<em>Start_Expression</em> に <em>End_Expression</em>より大きい値を設定し、<em>Increment_Expression</em> に負の数を指定する必要があります。次に挙げる例題は、前述の例と同じ処理を逆の順序でおこないます:</p><ol start="5"><li>以下の例は、100回の繰り返しをおこないます:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(vCounter;<span class="hljs-number">100</span>;<span class="hljs-number">1</span>;<span class="hljs-number">-1</span>)  <span class="hljs-comment">// なんらかの処理</span><span class="hljs-keyword"> End for</span></code></pre><ol start="6"><li>以下の例は、配列 anArray の全要素に対して処理をおこないます:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlElem</span>;<span class="hljs-function">Size of array</span>(anArray);<span class="hljs-number">1</span>;<span class="hljs-number">-1</span>)  <span class="hljs-comment">// 各配列要素に対する処理</span>    anArray{<span class="hljs-variable">$vlElem}</span>:=...<span class="hljs-keyword"> End for</span></code></pre><ol start="7"><li>テキスト変数 vtSomeText の文字を一つ一つループ処理します:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlChar</span>;<span class="hljs-function">Length</span>(vtSomeText);<span class="hljs-number">1</span>;<span class="hljs-number">-1</span>)    <span class="hljs-comment">// 文字がタブであれば</span><span class="hljs-keyword">    If</span>(<span class="hljs-function">Character code</span>(vtSomeText<span class="hljs-variable">[[$vlChar]]</span>)=Tab)        <span class="hljs-comment">// なんらかの処理をします</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End for</span></code></pre><ol start="8"><li>以下の例は、テーブル [aTable] のカレントセクションの各レコードについて処理をおこないます:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-function"> FIRST RECORD</span>([aTable])<span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlRecord</span>;<span class="hljs-function">Records in selection</span>([aTable]);<span class="hljs-number">1</span>;<span class="hljs-number">-1</span>)  <span class="hljs-comment">// 各レコードに対する処理</span><span class="hljs-function">    SEND RECORD</span>([aTable])  <span class="hljs-comment">//...</span>  <span class="hljs-comment">// 前レコードへ移動します</span><span class="hljs-function">    PREVIOUS RECORD</span>([aTable])<span class="hljs-keyword"> End for</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_1%E3%82%88%E3%82%8A%E5%A4%A7%E3%81%8D%E3%81%AA%E5%80%A4%E3%81%AB%E3%82%88%E3%82%8B%E3%82%AB%E3%82%A6%E3%83%B3%E3%82%BF%E3%83%BC%E5%A4%89%E6%95%B0%E3%81%AE%E5%A2%97%E5%8A%A0"></a><a aria-hidden="true" class="hash-link" href="#looping.html_1%25E3%2582%2588%25E3%2582%258A%25E5%25A4%25A7%25E3%2581%258D%25E3%2581%25AA%25E5%2580%25A4%25E3%2581%25AB%25E3%2582%2588%25E3%2582%258B%25E3%2582%25AB%25E3%2582%25A6%25E3%2583%25B3%25E3%2582%25BF%25E3%2583%25BC%25E5%25A4%2589%25E6%2595%25B0%25E3%2581%25AE%25E5%25A2%2597%25E5%258A%25A0"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>1より大きな値によるカウンター変数の増加</h3><p>必要に応じて、<em>Increment_Expression</em> (正または負の値)に、その絶対値が1より大きな値を指定できます。</p><ol start="9"><li>以下の例は、配列 anArray の偶数要素について処理を行います:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlElem</span>;<span class="hljs-number">2</span>;<span class="hljs-function">Size of array</span>(anArray);<span class="hljs-number">2</span>)  <span class="hljs-comment">// 偶数要素 #2,#4...#2n に対する処理</span>    anArray{<span class="hljs-variable">$vlElem}</span>:=...<span class="hljs-keyword"> End for</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_%E3%83%AB%E3%83%BC%E3%83%97%E6%A7%8B%E9%80%A0%E3%81%AE%E6%AF%94%E8%BC%83"></a><a aria-hidden="true" class="hash-link" href="#looping.html_%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597%25E6%25A7%258B%25E9%2580%25A0%25E3%2581%25AE%25E6%25AF%2594%25E8%25BC%2583"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>ループ構造の比較</h3><p><code>For...End for</code> ループの例をもう一度見てみましょう。以下の例は、100回の繰り返しをおこないます:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(vCounter;<span class="hljs-number">1</span>;<span class="hljs-number">100</span>)  <span class="hljs-comment">// なんらかの処理</span><span class="hljs-keyword"> End for</span></code></pre><p><code>While...End while</code> ループと <code>Repeat...Until</code>ループで、同じ処理を実行する方法を調べてみましょう。 以下は、同じ処理を実行する <code>While...Endwhile</code> ループです:</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$i</span>:=<span class="hljs-number">1</span> <span class="hljs-comment">// カウンターの初期化</span><span class="hljs-keyword"> While</span>(<span class="hljs-variable">$i</span>&lt;=<span class="hljs-number">100</span>) <span class="hljs-comment">// 100回のループ</span>  <span class="hljs-comment">// なんらかの処理</span>    <span class="hljs-variable">$i</span>:=<span class="hljs-variable">$i</span>+<span class="hljs-number">1</span> <span class="hljs-comment">// カウンターの増分が必要</span><span class="hljs-keyword"> End while</span></code></pre><p>同じことを <code>Repeat...Until</code> ループで記述すると以下のようになります:</p><pre><code class="hljs css language-4d"> <span class="hljs-variable">$i</span>:=<span class="hljs-number">1</span> <span class="hljs-comment">// カウンターの初期化</span><span class="hljs-keyword"> Repeat</span>  <span class="hljs-comment">// なんらかの処理</span>    <span class="hljs-variable">$i</span>:=<span class="hljs-variable">$i</span>+<span class="hljs-number">1</span> <span class="hljs-comment">// カウンターの増分が必要</span><span class="hljs-keyword"> Until</span>(<span class="hljs-variable">$i</span>=<span class="hljs-number">100</span>) <span class="hljs-comment">// 100回のループ</span></code></pre><p><strong>Tip:</strong> <code>For...End for</code>ループは、<code>While...End while</code> や <code>Repeat...Until</code>ループよりも高速です。これは4Dが内部的にカウンター変数のテストおよび増加を行うからです。 したがって、可能な限り<code>For...End for</code> ループの使用が推奨されます。</p><h3><a aria-hidden="true" class="anchor" id="looping.html_forend-for-%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96"></a><a aria-hidden="true" class="hash-link" href="#looping.html_forend-for-%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597%25E3%2581%25AE%25E6%259C%2580%25E9%2581%25A9%25E5%258C%2596"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>For...End for ループの最適化</h3><p>カウンター変数 (インタープロセス、プロセス、ローカル変数) には実数、または倍長整数タイプを使用します。数多く繰り返されるループの場合、とくにコンパイルモードでは、倍長整数タイプのローカル変数を使用してください。</p><ol start="10"><li>次に例を示します:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-function"> C_LONGINT</span>(<span class="hljs-variable">$vlCounter</span>) <span class="hljs-comment">// 倍長整数型のローカル変数を使用します</span><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlCounter</span>;<span class="hljs-number">1</span>;<span class="hljs-number">10000</span>)  <span class="hljs-comment">// なんらかの処理</span><span class="hljs-keyword"> End for</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_forend-for-%E3%81%AE%E5%85%A5%E3%82%8C%E5%AD%90%E6%A7%8B%E9%80%A0"></a><a aria-hidden="true" class="hash-link" href="#looping.html_forend-for-%25E3%2581%25AE%25E5%2585%25A5%25E3%2582%258C%25E5%25AD%2590%25E6%25A7%258B%25E9%2580%25A0"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>For...End for の入れ子構造</h3><p>制御構造は、必要に応じて入れ子にする (ネストする) ことができます。 <code>For...End for</code>ループも同じです。 誤りを避けるため、各ループ構造ごとに別のカウンター変数を使用してください。</p><p>次に例を示します:</p><ol><li>以下の例は二次元配列の全要素への処理です:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlElem</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Size of array</span>(anArray))  <span class="hljs-comment">//...</span>  <span class="hljs-comment">// 各行に対する処理</span>  <span class="hljs-comment">//...</span><span class="hljs-keyword">    For</span>(<span class="hljs-variable">$vlSubElem</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Size of array</span>(anArray{<span class="hljs-variable">$vlElem}</span>))  <span class="hljs-comment">// 各要素に対する処理</span>       anArray{<span class="hljs-variable">$vlElem}{</span><span class="hljs-variable">$vlSubElem}</span>:=...<span class="hljs-keyword">    End for</span><span class="hljs-keyword"> End for</span></code></pre><ol start="2"><li>以下の例は、データベースのすべての日付フィールドに対するポインターの配列を作成します:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-function"> ARRAY POINTER</span>(<span class="hljs-variable">$apDateFields</span>;<span class="hljs-number">0</span>) <span class="hljs-variable">$vlElem</span>:=<span class="hljs-number">0</span><span class="hljs-keyword"> For</span>(<span class="hljs-variable">$vlTable</span>;<span class="hljs-number">1</span>;Get last table number)<span class="hljs-keyword">    If</span>(<span class="hljs-function">Is table number valid</span>(<span class="hljs-variable">$vlTable</span>))<span class="hljs-keyword">       For</span>(<span class="hljs-variable">$vlField</span>;<span class="hljs-number">1</span>;<span class="hljs-function">Get last field number</span>(<span class="hljs-variable">$vlTable</span>))<span class="hljs-keyword">          If</span>(<span class="hljs-function">Is field number valid</span>(<span class="hljs-variable">$vlTable</span>;<span class="hljs-variable">$vlField</span>))             <span class="hljs-variable">$vpField</span>:=<span class="hljs-function">Field</span>(<span class="hljs-variable">$vlTable</span>;<span class="hljs-variable">$vlField</span>)<span class="hljs-keyword">             If</span>(<span class="hljs-function">Type</span>(<span class="hljs-variable">$vpField</span>-&gt;)=Is date)                <span class="hljs-variable">$vlElem</span>:=<span class="hljs-variable">$vlElem</span>+<span class="hljs-number">1</span><span class="hljs-function">                INSERT IN ARRAY</span>(<span class="hljs-variable">$apDateFields</span>;<span class="hljs-variable">$vlElem</span>)                <span class="hljs-variable">$apDateFields{</span><span class="hljs-variable">$vlElem}</span>:=<span class="hljs-variable">$vpField</span><span class="hljs-keyword">             End if</span><span class="hljs-keyword">          End if</span><span class="hljs-keyword">       End for</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End for</span></code></pre><h2><a aria-hidden="true" class="anchor" id="looping.html_for-eachend-for-each"></a><a aria-hidden="true"class="hash-link" href="#looping.html_for-eachend-for-each"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>For each...End for each</h2><p><code>For each...End for each</code>による制御フロー構造の正式な構文は以下のようになります:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For each</span>(Current_Item;Expression{;begin{;end}}){<span class="hljs-keyword">Until</span>|<span class="hljs-keyword">While</span>}(Boolean_Expression)}<span class="hljs-function">    statement</span>(s)    {break}      {continue}<span class="hljs-keyword"> End for each</span></code></pre><p><code>For each...End for each</code> 構造は、<em>Expression</em>に含まれるすべての<em>Current_item</em> に対して処理を繰り返します。 <em>Current_item</em>の型は <em>Expression</em> の型に依存します。 <code>For each...End foreach</code> ループは3種類の *Expression * を対象に反復処理をおこなうことができます:</p><ul><li>コレクション: コレクションの各要素をループします</li><li>エンティティセレクション: 各エンティティをループします</li><li>オブジェクト: 各オブジェクトプロパティをループします</li></ul><p>以下の表は、<code>For each...End for each</code> の3つのタイプを比較したものです:</p><table><thead><tr><th></th><th>コレクション内のループ</th><th>エンティティセレクション内のループ</th><th>オブジェクト内のループ</th></tr></thead><tbody><tr><td>Current_Item の型</td><td>コレクション要素と同じ型の変数</td><td>エンティティ</td><td>テキスト変数</td></tr><tr><td>Expression の型</td><td>(同じ型の要素を持つ) コレクション</td><td>エンティティセレクション</td><td>オブジェクト</td></tr><tr><td>ループ数 (デフォルト)</td><td>コレクションの要素数</td><td>セレクション内のエンティティ数</td><td>オブジェクトのプロパティ数</td></tr><tr><td>begin / end パラメーターをサポート</td><td>◯</td><td>◯</td><td>×</td></tr></tbody></table><ul><li>ループの数は開始時に評価され、処理中に変化することはありません。ループ中に項目を追加・削除することは、繰り返しの不足・重複を引き起こすことがあるため、一般的には推奨されません。</li><li>デフォルトでは、内部の <em>statement(s)</em> 部の処理は、<em>Expression</em>の各項目に対して実行されます。 しかしながら、ループの先頭 (<code>While</code>) あるいはループの終わり(<code>Until</code>) で条件をテストすることで、ループを抜け出すことは可能です。</li><li>任意の <em>begin</em> および <em>end</em>パラメーターを指定することで、コレクションおよびエンティティセレクションに対してループの範囲を定義することができます。</li><li><code>For each...End for each</code> ループは<strong>共有コレクション</strong> や <strong>共有オブジェクト</strong>に対して使用することもできます。 コレクションの要素またはオブジェクトのプロパティを変更する場合は、<code>Use...Enduse</code> 構文も追加で必要です。 <code>Use...End use</code>構文の使い方は、つぎのように状況に応じて異なります:<ul><li>整合性のため要素やプロパティを一括で処理しなくてはならない場合には、ループに入る前 (外側) に使います。</li><li>要素やプロパティを個々に変更して差し支えない場合は、ループの中で使います。</li></ul></li></ul><p><code>break</code> および <code>continue</code> ステートメントについては<a href="#looping.html_break-%25E3%2581%25A8-continue">後述します</a>。</p><h3><a aria-hidden="true" class="anchor" id="looping.html_%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E5%86%85%E3%81%AE%E3%83%AB%E3%83%BC%E3%83%97"></a><a aria-hidden="true" class="hash-link" href="#looping.html_%25E3%2582%25B3%25E3%2583%25AC%25E3%2582%25AF%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E5%2586%2585%25E3%2581%25AE%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>コレクション内のループ</h3><p><code>For each...End for each</code> が <em>Collection</em> 型の<em>Expression</em> に対して使用された場合、<em>Current_Item</em>はコレクション要素と同じ型の変数です。 デフォルトでは、ループの回数はコレクションの要素数に基づいています。</p><p>コレクションの要素はすべて同じ型でなくてはなりません。そうでない場合には、<em>Current_Item</em>変数に別の型の値が代入されたときにエラーが生成されます。</p><p>各ループの繰り返しにおいて、<em>Current_Item</em>変数には、合致するコレクションの要素が自動的に代入されます。 このとき、以下の点に注意する必要があります:</p><ul><li><em>Current_Item</em> 変数がオブジェクト型あるいはコレクション型であった場合 (つまり<em>Expression</em>がオブジェクトのコレクション、あるいはコレクションのコレクションであった場合)、この変数を変更すると自動的にコレクションの対応する要素も変更されます(オブジェクトとコレクションは同じ参照を共有しているからです)。 変数がスカラー型である場合、変数のみが変更されます。</li><li><em>Current_Item</em> 変数は、コレクション要素の型と合致している必要があります。コレクション要素のどれか一つでも、変数と異なる型のものがあった場合、エラーが生成され、ループは停止します。</li><li>コレクションが <strong>Null</strong>値の要素を格納していたとき、<em>Current_Item</em> 変数の型が <strong>Null</strong>値をサポートしない型 (倍長整数変数など) であった場合にはエラーが生成されます。</li></ul><h4><a aria-hidden="true" class="anchor" id="looping.html_%E4%BE%8B%E9%A1%8C-2"></a><a aria-hidden="true"class="hash-link" href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C-2"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h4><p>数値のコレクションを対象に、統計情報を計算します:</p><pre><code class="hljs css language-4d"><span class="hljs-function"> C_COLLECTION</span>(<span class="hljs-variable">$nums</span>) <span class="hljs-variable">$nums</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-number">10</span>;<span class="hljs-number">5001</span>;<span class="hljs-number">6665</span>;<span class="hljs-number">33</span>;<span class="hljs-number">1</span>;<span class="hljs-number">42</span>;<span class="hljs-number">7850</span>)<span class="hljs-function"> C_LONGINT</span>(<span class="hljs-variable">$item</span>;<span class="hljs-variable">$vEven</span>;<span class="hljs-variable">$vOdd</span>;<span class="hljs-variable">$vUnder</span>;<span class="hljs-variable">$vOver</span>)<span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$item</span>;<span class="hljs-variable">$nums</span>)<span class="hljs-keyword">    If</span>(<span class="hljs-variable">$item</span>%<span class="hljs-number">2</span>=<span class="hljs-number">0</span>)       <span class="hljs-variable">$vEven</span>:=<span class="hljs-variable">$vEven</span>+<span class="hljs-number">1</span><span class="hljs-keyword">    Else</span>       <span class="hljs-variable">$vOdd</span>:=<span class="hljs-variable">$vOdd</span>+<span class="hljs-number">1</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword">    Case of</span>       :(<span class="hljs-variable">$item</span>&lt;<span class="hljs-number">5000</span>)          <span class="hljs-variable">$vUnder</span>:=<span class="hljs-variable">$vUnder</span>+<span class="hljs-number">1</span>       :(<span class="hljs-variable">$item</span>&gt;<span class="hljs-number">6000</span>)          <span class="hljs-variable">$vOver</span>:=<span class="hljs-variable">$vOver</span>+<span class="hljs-number">1</span><span class="hljs-keyword">    End case</span><span class="hljs-keyword"> End for each</span>  <span class="hljs-comment">//$vEven=3, $vOdd=4</span>  <span class="hljs-comment">//$vUnder=4,$vOver=2</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%82%BB%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E5%86%85%E3%81%AE%E3%83%AB%E3%83%BC%E3%83%97"></a><a aria-hidden="true" class="hash-link" href="#looping.html_%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2582%25BB%25E3%2583%25AC%25E3%2582%25AF%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E5%2586%2585%25E3%2581%25AE%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>エンティティセレクション内のループ</h3><p><code>For each...End for each</code> が <em>Entity selection</em>型の <em>Expression</em> に対して使用された場合、<em>Current_Item</em>は現在処理中のエンティティです。</p><p>ループの回数はエンティティセレクション内のエンティティの数に基づきます。各ループの繰り返しにおいて、<em>Current_Item</em>には、処理の対象であるエンティティセレクション内のエンティティが自動的に代入されます。</p><p><strong>注:</strong>エンティティセレクション内のエンティティが、途中で他のプロセスによって削除された場合、そのエンティティはループにおいて自動的にスキップされます。</p><p>カレントエンティティに対して適用された変更は、<code>entity.save( )</code>で明示的に保存する必要があることに注意してください。</p><h4><a aria-hidden="true" class="anchor" id="looping.html_%E4%BE%8B%E9%A1%8C-3"></a><a aria-hidden="true"class="hash-link" href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C-3"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h4><p>Employees データクラスの中から、英国の従業員の給与を引き上げます:</p><pre><code class="hljs css language-4d"><span class="hljs-function"> C_OBJECT</span>(emp)<span class="hljs-keyword"> For each</span>(emp;ds.Employees.<span class="hljs-function">query</span>(<span class="hljs-string">"country='UK'"</span>))    emp.salary:=emp.salary*<span class="hljs-number">1</span>,<span class="hljs-number">03</span>    emp.<span class="hljs-function">save</span>()<span class="hljs-keyword"> End for each</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%86%85%E3%81%AE%E3%83%AB%E3%83%BC%E3%83%97"></a><a aria-hidden="true" class="hash-link" href="#looping.html_%25E3%2582%25AA%25E3%2583%2596%25E3%2582%25B8%25E3%2582%25A7%25E3%2582%25AF%25E3%2583%2588%25E5%2586%2585%25E3%2581%25AE%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>オブジェクト内のループ</h3><p><code>For each...End for each</code> が Object 型の<em>Expression</em> に対して使用された場合、<em>Current_Item</em>は現在処理中のプロパティ名が自動代入されたテキスト変数です。</p><p>オブジェクトのプロパティは作成順に処理されていきます。ループ中、プロパティをオブジェクトに追加/削除することが可能ですが、その場合でも残りのループ回数は、オブジェクトの元のプロパティ数に基づいているため、変化しません。</p><h4><a aria-hidden="true" class="anchor" id="looping.html_%E4%BE%8B%E9%A1%8C-4"></a><a aria-hidden="true"class="hash-link" href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C-4"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h4><p>下のオブジェクトに格納されている名前に関したプロパティの値をすべて大文字に変えます:</p><pre><code class="hljs css language-4d">{    <span class="hljs-string">"firstname"</span>: <span class="hljs-string">"gregory"</span>,    <span class="hljs-string">"lastname"</span>: <span class="hljs-string">"badikora"</span>,    <span class="hljs-string">"age"</span>: <span class="hljs-number">20</span>}</code></pre><p>以下のように書くことができます:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword"> For each</span>(property;vObject)<span class="hljs-keyword">    If</span>(<span class="hljs-function">Value type</span>(vObject[property])=Is text)       vObject[property]:=<span class="hljs-function">Uppercase</span>(vObject[property])<span class="hljs-keyword">    End if</span><span class="hljs-keyword"> End for each</span></code></pre><pre><code class="hljs">{    <span class="hljs-attr">"firstname"</span>: <span class="hljs-string">"GREGORY"</span>,    <span class="hljs-attr">"lastname"</span>: <span class="hljs-string">"BADIKORA"</span>,    <span class="hljs-attr">"age"</span>: <span class="hljs-number">20</span>}</code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_begin--end-%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%83%BC"></a><a aria-hidden="true" class="hash-link" href="#looping.html_begin--end-%25E3%2583%2591%25E3%2583%25A9%25E3%2583%25A1%25E3%2583%25BC%25E3%2582%25BF%25E3%2583%25BC"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>begin / end パラメーター</h3><p>任意の begin と end パラメーターを指定することで、繰り返しの範囲を定義することができます。</p><p><strong>注:</strong> <em>begin</em> と <em>end</em>パラメーターは、コレクションおよびエンティティセレクション型に対するループにおいてのみ使用することができます(オブジェクト型のときは無視されます)。</p><ul><li><em>begin</em> には、<em>Expression</em> においてループを開始したい要素位置を渡します(このとき <em>begin</em> の値が指す要素はループに含まれます)。</li><li><em>end</em> には、<em>Expression</em> においてループを終了する要素位置を渡します (このとき<em>end</em> の値が指す要素はループに含まれません)。</li></ul><p><em>end</em> が省略されている、あるいは <em>end</em> が <em>Expression</em>の要素数より大きい場合、<em>begin</em> 引数の位置から最後の要素まで (含まれる) をループします。<em>begin</em> と <em>end</em> が正の値の場合、それらは <em>Expression</em>内の要素の実際の位置を表します。 <em>begin</em> 引数が負の値の場合、それは<code>begin:=begin+Expression のサイズ</code> として再計算されます(つまり、<em>Expression</em> の終端からのオフセットであるとみなされます)。再計算された値も負の値だった場合、<em>begin</em> は0に設定されます。 <strong>注:</strong><em>begin</em> が負の値だったとしても、繰り返しそのものは標準の順番で実行されます。 <em>end</em>が負の値だった場合、それは <code>end:=end+Expression のサイズ</code> として再計算されます。</p><p>たとえば:</p><ul><li>コレクションには 10の要素が格納されています (ナンバリングは #0から#9)</li><li>begin=-4 -&gt; begin=-4+10=6 -&gt; ループは6番目の要素 (#5)から開始されます</li><li>end=-2 -&gt; end=-2+10=8 -&gt; 繰り返しは8番目の要素 (#7) の前に終了します、つまり7番目(#6) の要素の処理が最後のループとなります。</li></ul><h4><a aria-hidden="true" class="anchor" id="looping.html_%E4%BE%8B%E9%A1%8C-5"></a><a aria-hidden="true"class="hash-link" href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C-5"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h4><pre><code class="hljs css language-4d"><span class="hljs-function"> C_COLLECTION</span>(<span class="hljs-variable">$col</span>;<span class="hljs-variable">$col2</span>) <span class="hljs-variable">$col</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-string">"a"</span>;<span class="hljs-string">"b"</span>;<span class="hljs-string">"c"</span>;<span class="hljs-string">"d"</span>;<span class="hljs-string">"e"</span>) <span class="hljs-variable">$col2</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-number">1</span>;<span class="hljs-number">2</span>;<span class="hljs-number">3</span>)<span class="hljs-function"> C_TEXT</span>(<span class="hljs-variable">$item</span>)<span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$item</span>;<span class="hljs-variable">$col</span>;<span class="hljs-number">0</span>;<span class="hljs-number">3</span>)    <span class="hljs-variable">$col2</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$item</span>)<span class="hljs-keyword"> End for each</span>  <span class="hljs-comment">//$col2=[1,2,3,"a","b","c"]</span><span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$item</span>;<span class="hljs-variable">$col</span>;<span class="hljs-number">-2</span>;<span class="hljs-number">-1</span>)    <span class="hljs-variable">$col2</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$item</span>)<span class="hljs-keyword"> End for each</span>  <span class="hljs-comment">//$col2=[1,2,3,"a","b","c","d"]</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_until-%E3%81%A8-while-%E6%9D%A1%E4%BB%B6"></a><a aria-hidden="true"class="hash-link" href="#looping.html_until-%25E3%2581%25A8-while-%25E6%259D%25A1%25E4%25BB%25B6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Until と While 条件</h3><p><code>For each...End for each</code> の実行は、<code>Until</code>あるいは <code>While</code> 条件を追加することでコントロールすることができます。<code>Until(condition)</code> 条件がループに組み込まれた場合、condition の式が trueに評価されるとループは停止します。<code>While(condition)</code> 条件の場合は逆に、conditionの式が false になるとループが停止します。</p><p>使用する条件は状況に応じて選べます:</p><ul><li><code>Until</code> 条件は各ループの終わりにテストされます。そのため、<em>Expression</em>が空あるいは null でないかぎり、ループは少なくとも1回は実行されます。</li><li><code>While</code>条件は各ループの始めにテストされます。そのため、評価の結果次第では、ループは一度も実行されないこともありえます。</li></ul><h4><a aria-hidden="true" class="anchor" id="looping.html_%E4%BE%8B%E9%A1%8C-6"></a><a aria-hidden="true"class="hash-link" href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C-6"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h4><pre><code class="hljs css language-4d"> <span class="hljs-variable">$colNum</span>:=<span class="hljs-function">New collection</span>(<span class="hljs-number">1</span>;<span class="hljs-number">2</span>;<span class="hljs-number">3</span>;<span class="hljs-number">4</span>;<span class="hljs-number">5</span>;<span class="hljs-number">6</span>;<span class="hljs-number">7</span>;<span class="hljs-number">8</span>;<span class="hljs-number">9</span>;<span class="hljs-number">10</span>) <span class="hljs-variable">$total</span>:=<span class="hljs-number">0</span><span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$num</span>;<span class="hljs-variable">$colNum</span>)<span class="hljs-keyword">While</span>(<span class="hljs-variable">$total</span>&lt;<span class="hljs-number">30</span>) <span class="hljs-comment">// 最初にテストされます</span>    <span class="hljs-variable">$total</span>:=<span class="hljs-variable">$total</span>+<span class="hljs-variable">$num</span><span class="hljs-keyword"> End for each</span><span class="hljs-function"> ALERT</span>(<span class="hljs-function">String</span>(<span class="hljs-variable">$total</span>)) <span class="hljs-comment">//$total = 36 (1+2+3+4+5+6+7+8)</span> <span class="hljs-variable">$total</span>:=<span class="hljs-number">1000</span><span class="hljs-keyword"> For each</span>(<span class="hljs-variable">$num</span>;<span class="hljs-variable">$colNum</span>)<span class="hljs-keyword">Until</span>(<span class="hljs-variable">$total</span>&gt;<span class="hljs-number">30</span>) <span class="hljs-comment">// 最後にテストされます</span>    <span class="hljs-variable">$total</span>:=<span class="hljs-variable">$total</span>+<span class="hljs-variable">$num</span><span class="hljs-keyword"> End for each</span><span class="hljs-function"> ALERT</span>(<span class="hljs-function">String</span>(<span class="hljs-variable">$total</span>)) <span class="hljs-comment">//$total = 1001 (1000+1)</span></code></pre><h2><a aria-hidden="true" class="anchor" id="looping.html_break-%E3%81%A8-continue"></a><a aria-hidden="true"class="hash-link" href="#looping.html_break-%25E3%2581%25A8-continue"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><code>break</code> と <code>continue</code></h2><p>上記のループ構造はすべて、<code>break</code>文および<code>continue</code>文をサポートしています。これらの文は、ループを完全に終了させたり、現在の繰り返しだけを終了させたりすることで、ループをよりコントロールすることができます。</p><h3><a aria-hidden="true" class="anchor" id="looping.html_break"></a><a aria-hidden="true" class="hash-link"href="#looping.html_break"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>break</h3><p><code>break</code>文は、その文が含まれるループを終了させます。プログラムの制御は、ループ直後のステートメントに移ります。</p><p><a href="#looping.html_forend-for-%25E3%2581%25AE%25E5%2585%25A5%25E3%2582%258C%25E5%25AD%2590%25E6%25A7%258B%25E9%2580%25A0">入れ子になったループ</a> (ループ内に別のループがある) の中に<code>break</code>文がある場合、<code>break</code>文は最も内側のループを終了させます。</p><h4><a aria-hidden="true" class="anchor" id="looping.html_%E4%BE%8B%E9%A1%8C-7"></a><a aria-hidden="true"class="hash-link" href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C-7"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">For</span> (vCounter;<span class="hljs-number">1</span>;<span class="hljs-number">100</span>)<span class="hljs-keyword">    If</span> (<span class="hljs-variable">$tab{vCounter}</span>=<span class="hljs-string">""</span>) <span class="hljs-comment">// 条件が true になった場合</span>        break <span class="hljs-comment">// forループを終了させます</span><span class="hljs-keyword">    End if</span><span class="hljs-keyword">End for</span></code></pre><h3><a aria-hidden="true" class="anchor" id="looping.html_continue"></a><a aria-hidden="true" class="hash-link"href="#looping.html_continue"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>continue</h3><p><code>continue</code>文は、ループにおいて現在実行中の繰り返しだけを終了させ、次の繰り返しよりループの実行を継続させます。</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$text </span>: Text<span class="hljs-keyword">For</span> (<span class="hljs-variable">$i</span>; <span class="hljs-number">0</span>; <span class="hljs-number">9</span>)<span class="hljs-keyword">    If</span> (<span class="hljs-variable">$i</span>=<span class="hljs-number">3</span>)        continue <span class="hljs-comment">// 次の繰り返しに移行します</span><span class="hljs-keyword">    End if</span>    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$text</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$i</span>)<span class="hljs-keyword">End for</span><span class="hljs-comment">// $text="012456789" </span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#branching.html"><span class="arrow-prev">←</span><span>分岐構造</span></a><a class="docs-next button" href="#error-handling.html"><span>エラー処理</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#looping.html_whileend-while">While...End while</a><ul class="toc-headings"><li><a href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C">例題</a></li></ul></li><li><a href="#looping.html_repeatuntil">Repeat...Until</a><ul class="toc-headings"><li><a href="#looping.html_%25E4%25BE%258B%25E9%25A1%258C-1">例題</a></li></ul></li><li><a href="#looping.html_forend-for">For...End for</a><ul class="toc-headings"><li><a href="#looping.html_%25E5%259F%25BA%25E6%259C%25AC%25E7%259A%2584%25E3%2581%25AA%25E4%25BD%25BF%25E7%2594%25A8%25E4%25BE%258B">基本的な使用例</a></li><li><a href="#looping.html_%25E3%2582%25AB%25E3%2582%25A6%25E3%2583%25B3%25E3%2582%25BF%25E3%2583%25BC%25E5%25A4%2589%25E6%2595%25B0%25E3%2581%25AE%25E6%25B8%259B%25E7%25AE%2597">カウンター変数の減算</a></li><li><a href="#looping.html_1%25E3%2582%2588%25E3%2582%258A%25E5%25A4%25A7%25E3%2581%258D%25E3%2581%25AA%25E5%2580%25A4%25E3%2581%25AB%25E3%2582%2588%25E3%2582%258B%25E3%2582%25AB%25E3%2582%25A6%25E3%2583%25B3%25E3%2582%25BF%25E3%2583%25BC%25E5%25A4%2589%25E6%2595%25B0%25E3%2581%25AE%25E5%25A2%2597%25E5%258A%25A0">1より大きな値によるカウンター変数の増加</a></li><li><a href="#looping.html_%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597%25E6%25A7%258B%25E9%2580%25A0%25E3%2581%25AE%25E6%25AF%2594%25E8%25BC%2583">ループ構造の比較</a></li><li><a href="#looping.html_forend-for-%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597%25E3%2581%25AE%25E6%259C%2580%25E9%2581%25A9%25E5%258C%2596">For...End for ループの最適化</a></li><li><a href="#looping.html_forend-for-%25E3%2581%25AE%25E5%2585%25A5%25E3%2582%258C%25E5%25AD%2590%25E6%25A7%258B%25E9%2580%25A0">For...End for の入れ子構造</a></li></ul></li><li><a href="#looping.html_for-eachend-for-each">For each...End foreach</a><ul class="toc-headings"><li><a href="#looping.html_%25E3%2582%25B3%25E3%2583%25AC%25E3%2582%25AF%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E5%2586%2585%25E3%2581%25AE%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597">コレクション内のループ</a></li><li><a href="#looping.html_%25E3%2582%25A8%25E3%2583%25B3%25E3%2583%2586%25E3%2582%25A3%25E3%2583%2586%25E3%2582%25A3%25E3%2582%25BB%25E3%2583%25AC%25E3%2582%25AF%25E3%2582%25B7%25E3%2583%25A7%25E3%2583%25B3%25E5%2586%2585%25E3%2581%25AE%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597">エンティティセレクション内のループ</a></li><li><a href="#looping.html_%25E3%2582%25AA%25E3%2583%2596%25E3%2582%25B8%25E3%2582%25A7%25E3%2582%25AF%25E3%2583%2588%25E5%2586%2585%25E3%2581%25AE%25E3%2583%25AB%25E3%2583%25BC%25E3%2583%2597">オブジェクト内のループ</a></li><li><a href="#looping.html_begin--end-%25E3%2583%2591%25E3%2583%25A9%25E3%2583%25A1%25E3%2583%25BC%25E3%2582%25BF%25E3%2583%25BC">begin / end パラメーター</a></li><li><a href="#looping.html_until-%25E3%2581%25A8-while-%25E6%259D%25A1%25E4%25BB%25B6">Until と While 条件</a></li></ul></li><li><a href="#looping.html_break-%25E3%2581%25A8-continue"><code>break</code> と<code>continue</code></a><ul class="toc-headings"><li><a href="#looping.html_break">break</a></li><li><a href="#looping.html_continue">continue</a></li></ul></li></ul></nav></div></div></body></html>