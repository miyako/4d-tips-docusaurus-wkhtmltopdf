<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="ja"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>演算子 · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="演算子とは、値のチェック・変更・結合に使用する記号または記号のグループです。 日常的に使用されている演算子も多くあります。 例えば、`1 + 2` という式は加算演算子 (プラス記号) を使用し、2つの数値を足し合わせて、3という結果を返します。 = や &gt; などの比較演算子は、2つ以上の値を比較するためのものです。"name="description" /><meta content="ja" name="docsearch:language" /><meta content="演算子 · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="演算子とは、値のチェック・変更・結合に使用する記号または記号のグループです。 日常的に使用されている演算子も多くあります。 例えば、`1 + 2` という式は加算演算子 (プラス記号) を使用し、2つの数値を足し合わせて、3という結果を返します。 = や &gt; などの比較演算子は、2つ以上の値を比較するためのものです。"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#operators.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">演算子<a aria-hidden="true" class="anchor" id="operators.html"></a></h1></header><article><div><p><span>演算子とは、値のチェック・変更・結合に使用する記号または記号のグループです。日常的に使用されている演算子も多くあります。 例えば、<code>1 + 2</code> という式は加算演算子 (プラス記号)を使用し、2つの数値を足し合わせて、3という結果を返します。 = や &gt;などの比較演算子は、2つ以上の値を比較するためのものです。</span></p><p><span>4Dランゲージでサポートされている演算子は、C や JavaScript など他の言語でも使用されています。ただし、等号比較演算子 (<code>=</code>) との誤用を防ぐため、代入演算子は <code>:=</code>となっています。 や、比較演算子 (=、&gt;、&gt;=...) などの <a href="#operators.html_%25E5%259F%25BA%25E6%259C%25AC%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">基本演算子</a> は、数値のほか、ブール、テキスト、日付、時間、ポインター、ピクチャーのデータ型にも使用可能です。JavaScript と同様に、4Dランゲージも <a href="#operators.html_truthy-%25E3%2581%25A8-falsy">truthy (真的) と falsy(偽的)</a> の概念をサポートしており、<a href="#operators.html_%25E7%259F%25AD%25E7%25B5%25A1%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">短絡演算子</a>で使用されています。</span></p><h2><span><a aria-hidden="true" class="anchor" id="operators.html_%E7%94%A8%E8%AA%9E"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E7%2594%25A8%25E8%25AA%259E"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>用語</span></h2><p><span>4Dランゲージでは、<strong>二項演算子</strong> および<strong>三項演算子</strong> をサポートしています:</span></p><ul><li><span>二項演算子とは、2つの対象に対して演算をおこない、その 2つの対象の間に表示されます (例:<code>2＋3</code>)。</span></li><li><span>三項演算子は 3つの対象に対して演算をおこないます。 C と同様、4D の三項演算子は 1つしかありません:三項条件演算子 (a ? b : c</span>) です。</li></ul><p>演算子が影響を与える対象はオペランド (被演算子) と呼ばれます。 <code>1 + 2</code> という式では、+記号は二項演算子であり、その 2つのオペランドは値 1 と 2 です。</p><h2><a aria-hidden="true" class="anchor" id="operators.html_%E4%BB%A3%E5%85%A5"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E4%25BB%25A3%25E5%2585%25A5"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>代入</h2><p><strong>代入演算子</strong> (<code>a:=b</code>) は、<code>a</code> の値を<code>b</code> の値で初期化、または更新します。</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$myNumber</span>:=<span class="hljs-number">3</span> <span class="hljs-comment">// MyNumber 変数に 3 を代入します</span><span class="hljs-variable">$myDate</span>:=<span class="hljs-literal">!2018/01/21!</span> <span class="hljs-comment">// 日付リテラルを代入します</span><span class="hljs-variable">$myLength</span>:=<span class="hljs-function">Length</span>(<span class="hljs-string">"Acme"</span>) <span class="hljs-comment">// コマンドの結果 (4) を $myLength に代入します</span><span class="hljs-variable">$col</span>:=New collection <span class="hljs-comment">// $col を空のコレクションで初期化します</span></code></pre><blockquote><p>代入演算子 <code>:=</code> と等号比較演算子 <code>=</code>とを混同しないように注意してください。 <code>=</code>とは異なる代入演算子が採用されたのは意図的なことで、他のプログラミング言語で == や ===の使用によって度々起こる間違いを避けるためです。このような間違いはコンパイラーにとっても発見しにくく、時間を消耗するトラブルシューティングのもとです。</p></blockquote><h2><a aria-hidden="true" class="anchor" id="operators.html_%E5%9F%BA%E6%9C%AC%E6%BC%94%E7%AE%97%E5%AD%90"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E5%259F%25BA%25E6%259C%25AC%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>基本演算子</h2><p>演算の結果は、オペランドの <strong>データ型</strong> に依存します。 4Dはスカラーデータ型に対して様々な演算子をサポートしています。 詳細は、各データ型の項にて説明されています:</p><ul><li><a href="#operators.html_%25E8%25AB%2596%25E7%2590%2586%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><strong>論理演算子</strong></a> (<strong>ブール</strong> 式に使用)</li><li><a href="#operators.html_date-operators"><strong>日付演算子</strong></a></li><li><a href="#operators.html_time-operators"><strong>時間演算子</strong></a></li><li><a href="#operators.html_number-operators"><strong>数値演算子</strong></a></li><li><a href="#operators.html_%25E3%2583%2593%25E3%2583%2583%25E3%2583%2588%25E3%2583%25AF%25E3%2582%25A4%25E3%2582%25BA%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><strong>ビットワイズ演算子</strong></a> (<strong>倍長整数</strong> 式に使用)</li><li><a href="#operators.html_picture-operators"><strong>ピクチャー演算子</strong></a></li><li><a href="#operators.html_pointer-operators"><strong>ポインター演算子</strong></a></li><li><a href="#operators.html_string-operators"><strong>文字列演算子</strong></a></li></ul><h2><a aria-hidden="true" class="anchor" id="operators.html_%E8%A4%87%E5%90%88%E4%BB%A3%E5%85%A5%E6%BC%94%E7%AE%97%E5%AD%90"></a><a aria-hidden="true" class="hash-link" href="#operators.html_%25E8%25A4%2587%25E5%2590%2588%25E4%25BB%25A3%25E5%2585%25A5%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>複合代入演算子</h2><p>4Dでは、代入と演算を組み合わせた <strong>複合代入演算子</strong> をサポートしています。その一例として、加算代入演算子 (<code>+=</code>) があります。</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$a</span>:=<span class="hljs-number">1</span> <span class="hljs-variable">$a</span>+=<span class="hljs-number">2</span> <span class="hljs-comment">// $a=3</span></code></pre><p>次の複合代入演算子がサポートされています:</p><table><thead><tr><th>演算子</th><th>シンタックス</th><th>代入される型</th><th>例題</th></tr></thead><tbody><tr><td>加算 (足し算)</td><td>Text += Text</td><td>テキスト</td><td><code>$t+=" World" //$t:=$t+" World"</code></td></tr><tr><td></td><td>Number += Number</td><td>数値</td><td><code>$n+=5 //$n:=$n+5</code></td></tr><tr><td></td><td>Date += Number</td><td>日付</td><td><code>$d+=5 //$d:=$d+5</code></td></tr><tr><td></td><td>Time += Time</td><td>時間</td><td><code>$t1+=$t2 //$t1:=$t1+$t2</code></td></tr><tr><td></td><td>Time += Number</td><td>数値</td><td><code>$t1+=5 //$t1:=$t1+5</code></td></tr><tr><td></td><td>Picture += Picture</td><td>ピクチャー</td><td><code>$p1+=$p2 //$p1:=$p1+$p2 ($p1 の右に $p2 を追加します)</code></td></tr><tr><td></td><td>Picture += Number</td><td>ピクチャー</td><td><code>$p1+=5 //$p1:=$p1+5 ($p1 を 5ピクセル右に移動します)</code></td></tr><tr><td>減算 (引き算)</td><td>Number -= Number</td><td>数値</td><td><code>$n-=5 //$n:=$n-5</code></td></tr><tr><td></td><td>Date -= Number</td><td>日付</td><td><code>$d-=5 //$d:=$d-5</code></td></tr><tr><td></td><td>Time -= Time</td><td>時間</td><td><code>$t1-=$t2 //$t1:=$t1-$t2</code></td></tr><tr><td></td><td>Time -= Number</td><td>数値</td><td><code>$t1-=5 //$t1:=$t1-5</code></td></tr><tr><td></td><td>Picture -= Number</td><td>ピクチャー</td><td><code>$p1-=5 //$p1:=$p1-5 ($p1 を 5ピクセル左に移動します)</code></td></tr><tr><td>除算 (割り算)</td><td>Number /= Number</td><td>数値</td><td><code>$n/=5 //$n:=$n/5</code></td></tr><tr><td></td><td>Time /= Time</td><td>時間</td><td><code>$t1/=$t2 //$t1:=$t1/$t2</code></td></tr><tr><td></td><td>Time /= Number</td><td>数値</td><td><code>$t1/=5 //$t1:=$t1/5</code></td></tr><tr><td></td><td>Picture /= Picture</td><td>ピクチャー</td><td><code>$p1/=$p2 //$p1:=$p1/$p2 ($p1 の下に $p2 を追加します)</code></td></tr><tr><td></td><td>Picture /= Number</td><td>ピクチャー</td><td><code>$p1/=5 //$p1:=$p1/5 ($p1 を 5ピクセル垂直に移動します)</code></td></tr><tr><td>乗算 (かけ算)</td><td>Text *= Number</td><td>テキスト</td><td><code>$t*="abc" //$t:=$t*"abc"</code></td></tr><tr><td></td><td>Number *= Number</td><td>数値</td><td><code>$n*=5 //$n:=$n*5</code></td></tr><tr><td></td><td>Time *= Time</td><td>時間</td><td><code>$t1*=$t2 //$t1:=$t1*$t2</code></td></tr><tr><td></td><td>Time *= Number</td><td>数値</td><td><code>$t1*=5 //$t1:=$t1*5</code></td></tr><tr><td></td><td>Picture *= Number</td><td>ピクチャー</td><td><code>$p1*=5 //$p1:=$p1*5 ($p1 を 5倍にリサイズします)</code></td></tr></tbody></table><p>これらの演算子は、あらゆる <a href="#operators.html_%25E4%25BB%25A3%25E5%2585%25A5%25E5%258F%25AF-vs-%25E4%25BB%25A3%25E5%2585%25A5%25E4%25B8%258D%25E5%258F%25AF%25E3%2581%25AE%25E5%25BC%258F">代入可能な式</a> に適用できます (オブジェクトのプロパティやコレクション要素としてのピクチャーを除く)。</p><p>"代入先 複合代入演算子 値" と "代入先 := 代入先 演算子 値"は、厳密には等価ではありません。なぜなら、前者の場合、代入先 (変数・フィールド・オブジェクトプロパティ・コレクション要素)は一度しか評価されないからです。 たとえば、<code>getPointer()-&gt;+=1</code>のような式では、<code>getPointer</code> メソッドは一度だけ呼び出されます。</p><blockquote><p><a href="#operators.html_%25E6%2596%2587%25E5%25AD%2597%25E5%258F%2582%25E7%2585%25A7%25E8%25A8%2598%25E5%258F%25B7">テキストの文字インデックス</a> および <a href="#operators.html_%25E3%2582%25B9%25E3%2582%25AB%25E3%2583%25A9%25E3%2583%25BCBLOB-%25E3%2581%25AE%25E3%2583%2590%25E3%2582%25A4%25E3%2583%2588%25E3%2581%25B8%25E3%2581%25AE%25E3%2582%25A2%25E3%2582%25AF%25E3%2582%25BB%25E3%2582%25B9">BLOB のバイトインデックス</a> では、これらの演算子はサポートされません。</p></blockquote><h4><a aria-hidden="true" class="anchor" id="operators.html_%E4%BE%8B%E9%A1%8C"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E4%25BE%258B%25E9%25A1%258C"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h4><pre><code class="hljs css language-4d"><span class="hljs-comment">// 加算</span><span class="hljs-variable">$x</span>:=<span class="hljs-number">2</span><span class="hljs-variable">$x</span>+=<span class="hljs-number">5</span> <span class="hljs-comment">//$x=7</span><span class="hljs-variable">$t</span>:=<span class="hljs-string">"Hello"</span> <span class="hljs-variable">$t</span>+=<span class="hljs-string">" World"</span> <span class="hljs-comment">//$t="Hello World" </span><span class="hljs-variable">$d</span>:=<span class="hljs-literal">!2000-11-10!</span><span class="hljs-variable">$d</span>+=<span class="hljs-number">10</span> <span class="hljs-comment">//$d=!2000-11-20!</span><span class="hljs-comment">// 減算</span><span class="hljs-variable">$x1</span>:=<span class="hljs-number">10</span><span class="hljs-variable">$x1</span>-=<span class="hljs-number">5</span> <span class="hljs-comment">//$x1=5</span><span class="hljs-variable">$d1</span>:=<span class="hljs-literal">!2000-11-10!</span><span class="hljs-variable">$d1</span>-=<span class="hljs-number">10</span> <span class="hljs-comment">// $d1=!2000-10-31!</span><span class="hljs-comment">// 除算</span><span class="hljs-variable">$x3</span>:=<span class="hljs-number">10</span><span class="hljs-variable">$x3</span>/=<span class="hljs-number">2</span> <span class="hljs-comment">// $x3=5</span><span class="hljs-comment">// 乗算</span><span class="hljs-variable">$x2</span>:=<span class="hljs-number">10</span><span class="hljs-variable">$x2</span>*=<span class="hljs-number">5</span> <span class="hljs-comment">// $x2=50</span><span class="hljs-variable">$t2</span>:=<span class="hljs-string">"Hello"</span> <span class="hljs-variable">$t2</span>*=<span class="hljs-number">2</span> <span class="hljs-comment">// $t2="HelloHello"</span></code></pre><h2><a aria-hidden="true" class="anchor" id="operators.html_%E7%9F%AD%E7%B5%A1%E6%BC%94%E7%AE%97%E5%AD%90"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E7%259F%25AD%25E7%25B5%25A1%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>短絡演算子</h2><p>演算子 <strong>&amp;&amp;</strong> と <strong>||</strong> は、短絡演算子です。短絡演算子とは、必ずしもすべてのオペランドを評価しない演算子のことです。</p><p><a href="#operators.html_%25E8%25AB%2596%25E7%2590%2586%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><strong>&amp;</strong> や <strong>|</strong> 論理演算子</a> と異なる点は、短絡演算子の<strong>&amp;&amp;</strong> と <strong>||</strong> はブール値を返さないことです。これらは式を <a href="#operators.html_truthy-%25E3%2581%25A8-falsy">truthy (真的) またはfalsy (偽的)</a> で評価し、どちらかの式を返します。</p><h3><a aria-hidden="true" class="anchor" id="operators.html_and-%E7%9F%AD%E7%B5%A1%E6%BC%94%E7%AE%97%E5%AD%90-"></a><a aria-hidden="true" class="hash-link" href="#operators.html_and-%25E7%259F%25AD%25E7%25B5%25A1%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590-"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>AND 短絡演算子 (&amp;&amp;)</h3><p>ルールは以下の通りです。</p><p><code>Expr1 &amp;&amp; Expr2</code> において:</p><p>AND短絡演算子はオペランドを左から右へ評価し、falsy と評価された最初のオペランドの値を直ちに返します。 すべての値が<a href="#operators.html_truthy-%25E3%2581%25A8-falsy">truthy</a>であれば、最後のオペランドの値が返されます。</p><p>次の表は、<strong>&amp;&amp;</strong> 演算子の様々なケースをまとめたものです:</p><table><thead><tr><th>Expr1</th><th>Expr2</th><th>返される値</th></tr></thead><tbody><tr><td>truthy</td><td>truthy</td><td>Expr2</td></tr><tr><td>truthy</td><td>falsy</td><td>Expr2</td></tr><tr><td>falsy</td><td>truthy</td><td>Expr1</td></tr><tr><td>falsy</td><td>falsy</td><td>Expr1</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="operators.html_%E4%BE%8B%E9%A1%8C-1"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E4%25BE%258B%25E9%25A1%258C-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題 1</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$v </span>: Variant<span class="hljs-variable">$v</span>:= <span class="hljs-string">"Hello"</span> &amp;&amp; <span class="hljs-string">"World"</span> <span class="hljs-comment">//"World"</span><span class="hljs-variable">$v</span>:=<span class="hljs-literal">False</span> &amp;&amp; <span class="hljs-number">0</span> <span class="hljs-comment">// False</span><span class="hljs-variable">$v</span>:=<span class="hljs-number">0</span> &amp;&amp; <span class="hljs-literal">False</span> <span class="hljs-comment">// False</span><span class="hljs-variable">$v</span>:=<span class="hljs-number">5</span> &amp;&amp; <span class="hljs-literal">!00-00-00!</span> <span class="hljs-comment">// 00/00/00</span><span class="hljs-variable">$v </span>:= <span class="hljs-number">5</span> &amp;&amp; <span class="hljs-number">10</span> &amp;&amp; <span class="hljs-string">"hello"</span> <span class="hljs-comment">//"hello"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="operators.html_%E4%BE%8B%E9%A1%8C-2"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E4%25BE%258B%25E9%25A1%258C-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題 2</h4><p>オンラインストアで、税率が適用される商品とされない商品があるとします。</p><p>税金を計算するには、価格に税率をかけますが、税率は指定されていない場合があります。</p><p>そこで、次のように書くことができます:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$tax </span>: Variant<span class="hljs-variable">$tax</span>:=<span class="hljs-variable">$item</span>.taxRate &amp;&amp; (<span class="hljs-variable">$item</span>.price*<span class="hljs-variable">$item</span>.taxRate)</code></pre><p>taxRate が NULL (または未定義) の場合、<code>$tax</code> は NULLとなり、それ以外の場合には計算結果が格納されます。</p><h4><a aria-hidden="true" class="anchor" id="operators.html_%E4%BE%8B%E9%A1%8C-3"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E4%25BE%258B%25E9%25A1%258C-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題 3</h4><p>短絡演算子は、次のようなテストに有効です:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">If</span>((<span class="hljs-variable">$myObject</span>#<span class="hljs-literal">Null</span>) &amp;&amp; (<span class="hljs-variable">$myObject</span>.value&gt;<span class="hljs-number">10</span>))    <span class="hljs-comment">// コード</span><span class="hljs-keyword">End if</span></code></pre><p>もし $myObject が Null であれば、第2引数は実行されないため、エラーは発生しません。</p><h3><a aria-hidden="true" class="anchor" id="operators.html_or-%E7%9F%AD%E7%B5%A1%E6%BC%94%E7%AE%97%E5%AD%90-"></a><a aria-hidden="true"class="hash-link" href="#operators.html_or-%25E7%259F%25AD%25E7%25B5%25A1%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590-"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>OR 短絡演算子 (||)</h3><p>|| 演算子は、指定されたオペランドのうち 1つの値を返します。 式は左から右に評価され、以下のルールに基づいて "短絡"評価の可能性をテストされます。</p><p><code>Expr1 || Expr2</code> において:</p><p>Expr1 が <a href="#operators.html_truthy-%25E3%2581%25A8-falsy">truthy</a>であれば、Expr2 は評価されず、計算は Expr1 を返します。</p><p>Expr1 が <a href="#operators.html_truthy-%25E3%2581%25A8-falsy">falsy</a> の場合、計算はExpr2 を返します。</p><p>次の表は、<strong>||</strong> 演算子の様々なケースと返される値をまとめたものです:</p><table><thead><tr><th>Expr1</th><th>Expr2</th><th>返される値</th></tr></thead><tbody><tr><td>truthy</td><td>truthy</td><td>Expr1</td></tr><tr><td>truthy</td><td>falsy</td><td>Expr1</td></tr><tr><td>falsy</td><td>truthy</td><td>Expr2</td></tr><tr><td>falsy</td><td>falsy</td><td>Expr2</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="operators.html_%E4%BE%8B%E9%A1%8C-1-1"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E4%25BE%258B%25E9%25A1%258C-1-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題 1</h4><p>Employee というテーブルがあるとします。 従業員には電話番号を入力している人と入力していない人がいます。つまり、<code>$emp.phone</code> は NULL である可能性があり、テキスト変数に NULLを代入することはできません。 そこで、次のように書くことができます:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$phone </span>: Text<span class="hljs-variable">$phone</span>:=<span class="hljs-variable">$emp</span>.phone || <span class="hljs-string">"n/a"</span></code></pre><p>この場合、<code>$phone</code> には電話番号か、"n/a" という文字列のどちらかが格納されます。</p><h4><a aria-hidden="true" class="anchor" id="operators.html_%E4%BE%8B%E9%A1%8C-2-1"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E4%25BE%258B%25E9%25A1%258C-2-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題 2</h4><p><em>name</em> フィールドと、既婚女性のための <em>maiden name</em> (旧姓) フィールドを持つPerson テーブルがあるとします。</p><p>次の例は、旧姓データがあれば変数に格納し、なければその人の名前を変数に格納します。</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$name</span>: Text<span class="hljs-variable">$name</span>:=<span class="hljs-variable">$person</span>.maidenName || <span class="hljs-variable">$person</span>.name</code></pre><h3><a aria-hidden="true" class="anchor" id="operators.html_%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E5%2584%25AA%25E5%2585%2588%25E9%25A0%2586%25E4%25BD%258D"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>優先順位</h3><p>演算子 <code>&amp;&amp;</code> と <code>||</code> は、論理演算子<code>&amp;</code> および <code>|</code> と同じ優先順位を持ち、左から右へ評価されます。</p><p>つまり、<code>a || b &amp;&amp; c</code> は、<code>(a || b) &amp;&amp;c</code> として評価されます。</p><h2><a aria-hidden="true" class="anchor" id="operators.html_%E4%B8%89%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E4%25B8%2589%25E9%25A0%2585%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>三項演算子</h2><p>三項演算子を使うと、条件式を 1行で書くことができます。 たとえば、<a href="#operators.html_ifelseend-if">If...Else</a> 文を完全に置き換えることができます。</p><p>三項演算子は 3つのオペランドを次の順序で受け取ります:</p><ul><li>条件とクエスチョンマーク (?)</li><li>条件が <a href="#operators.html_truthy-%25E3%2581%25A8-falsy">truthy</a>である場合に実行される式、その後にコロン (:)</li><li>条件が <a href="#operators.html_truthy-%25E3%2581%25A8-falsy">falsy</a>の場合に実行される式</li></ul><h3><a aria-hidden="true" class="anchor" id="operators.html_%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9"></a><a aria-hidden="true" class="hash-link" href="#operators.html_%25E3%2582%25B7%25E3%2583%25B3%25E3%2582%25BF%25E3%2583%2583%25E3%2582%25AF%25E3%2582%25B9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>シンタックス</h3><p>シンタックスは次のとおりです:</p><p><code>条件 ? truthy時の式 : falsy時の式</code></p><blockquote><p><a href="https://doc.4d.com/4Dv19R3/4D/19-R3/Using-tokens-in-formulas.300-5583062.ja.html">トークンシンタックス</a> にはコロンが使われているため、競合を避けるには、コロン <code>:</code>の後にスペースを入れる、または、トークンは括弧でくくることが推奨されます。</p></blockquote><h3><a aria-hidden="true" class="anchor" id="operators.html_%E4%BE%8B%E9%A1%8C-4"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E4%25BE%258B%25E9%25A1%258C-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h3><h4><a aria-hidden="true" class="anchor" id="operators.html_%E5%8D%98%E7%B4%94%E3%81%AA%E4%BE%8B"></a><a aria-hidden="true"class="hash-link" href="#operators.html_%25E5%258D%2598%25E7%25B4%2594%25E3%2581%25AA%25E4%25BE%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>単純な例</h4><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$age </span>: Integer<span class="hljs-keyword">var</span> <span class="hljs-variable">$beverage </span>: Text<span class="hljs-variable">$age</span>:=<span class="hljs-number">26</span><span class="hljs-variable">$beverage</span>:=(<span class="hljs-variable">$age</span>&gt;=<span class="hljs-number">20</span>) ? <span class="hljs-string">"ビール"</span> : <span class="hljs-string">"ジュース"</span><span class="hljs-function">ALERT</span>(<span class="hljs-variable">$beverage</span>) <span class="hljs-comment">// "ビール"</span></code></pre><h4><a aria-hidden="true" class="anchor" id="operators.html_%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%89%B1%E3%81%86%E4%BE%8B"></a><a aria-hidden="true" class="hash-link" href="#operators.html_%25E3%2583%2586%25E3%2583%25BC%25E3%2583%2596%25E3%2583%25AB%25E3%2581%25AE%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2582%2592%25E6%2589%25B1%25E3%2581%2586%25E4%25BE%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>テーブルのデータを扱う例</h4><p>この例では、人のフルネームを変数に格納し、ファーストネームやラストネームが指定されていないケースに対応します:</p><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$fullname </span>: Text<span class="hljs-comment">// どちらか片方の情報が欠けている場合には存在する方を格納し、両方存在しない場合は空の文字列を格納します。</span><span class="hljs-variable">$fullname</span>:=(<span class="hljs-variable">$person</span>.firstname &amp;&amp; <span class="hljs-variable">$person</span>.lastname)<span class="hljs-function"> ? </span>(<span class="hljs-variable">$person</span>.firstname+<span class="hljs-string">" "</span>+<span class="hljs-variable">$person</span>.lastname) : (<span class="hljs-variable">$person</span>.lastname || <span class="hljs-variable">$person</span>.firstname) || <span class="hljs-string">""</span></code></pre><h2><a aria-hidden="true" class="anchor" id="operators.html_truthy-%E3%81%A8-falsy"></a><a aria-hidden="true"class="hash-link" href="#operators.html_truthy-%25E3%2581%25A8-falsy"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Truthy と Falsy</h2><p>各値はデータ型のほかに、固有のブール値を持ちます。 このブール値は <strong>truthy</strong> (真的)または <strong>falsy</strong> (偽的) です。</p><blockquote><p><strong>truthy</strong> および <strong>falsy</strong> の値は<a href="#operators.html_%25E7%259F%25AD%25E7%25B5%25A1%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">短絡演算子</a>および <a href="#operators.html_%25E4%25B8%2589%25E9%25A0%2585%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">三項演算子</a> の場合にのみ評価されます。</p></blockquote><p>以下の値は <strong>falsy</strong> です:</p><ul><li>false</li><li>Null</li><li>未定義</li><li>Null オブジェクト</li><li>Null コレクション</li><li>Null ポインター</li><li>Null ピクチャー</li><li>Null 日付 !00-00-00!</li><li>"" - 空の文字列</li><li>[] - 空のコレクション</li><li>{} - 空のオブジェクト</li></ul><p>上記以外の値はすべて <strong>truthy</strong> と評価されます。</p><ul><li>0 - 数値のゼロ (整数かどうかを問わず)</li></ul><p>4Dでは、<strong>truthy</strong> と <strong>falsy</strong> の評価は値の<strong>使用性</strong> を反映します。つまり、truthyな値は存在し、エラーや予期せぬ結果を発生させずにコードによって処理できることを意味します。その目的は、オブジェクトやコレクションにおける <em>undefined</em> や <em>null</em>値を扱うための便利な方法を提供し、実行時エラーを回避するのに必要な <a href="#operators.html_ifelseend-if">If...Else</a> 文の数を少なくすることにあります。</p><p>たとえば、<a href="#operators.html_or-%25E7%259F%25AD%25E7%25B5%25A1%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590-">OR短絡演算子</a> を使用すると:</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$value</span>:=<span class="hljs-variable">$object</span>.value || <span class="hljs-variable">$defaultValue</span></code></pre><p><em>$object</em> が <code>value</code> プロパティを含まない場合、または同プロパティが<em>null</em> の場合に、デフォルト値が代入されます。つまり、この演算子は特定の値ではなく、その値の存在や使用性をチェックするのです。 なお、数値の 0は存在しており使用可能であるため、特別に扱われることはなく、<strong>truthy</strong> です。</p><p>コレクション、オブジェクト、文字列を表す値については、"空" の値は<strong>falsy</strong>とみなされます。 これは、空の値に遭遇したときに、デフォルト値を割り当てたい場合に便利です。</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$phone</span>:=<span class="hljs-variable">$emp</span>.phone || <span class="hljs-string">"n/a"</span></code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#quick-tour.html"><span class="arrow-prev">←</span><span>概要</span></a><a class="docs-next button" href="#data-types.html"><span>データタイプの概要</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#operators.html_%25E7%2594%25A8%25E8%25AA%259E">用語</a></li><li><a href="#operators.html_%25E4%25BB%25A3%25E5%2585%25A5">代入</a></li><li><a href="#operators.html_%25E5%259F%25BA%25E6%259C%25AC%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">基本演算子</a></li><li><a href="#operators.html_%25E8%25A4%2587%25E5%2590%2588%25E4%25BB%25A3%25E5%2585%25A5%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">複合代入演算子</a></li><li><a href="#operators.html_%25E7%259F%25AD%25E7%25B5%25A1%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">短絡演算子</a><ul class="toc-headings"><li><a href="#operators.html_and-%25E7%259F%25AD%25E7%25B5%25A1%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590-">AND 短絡演算子 (&amp;&amp;)</a></li><li><a href="#operators.html_or-%25E7%259F%25AD%25E7%25B5%25A1%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590-">OR 短絡演算子 (||)</a></li><li><a href="#operators.html_%25E5%2584%25AA%25E5%2585%2588%25E9%25A0%2586%25E4%25BD%258D">優先順位</a></li></ul></li><li><a href="#operators.html_%25E4%25B8%2589%25E9%25A0%2585%25E6%25BC%2594%25E7%25AE%2597%25E5%25AD%2590">三項演算子</a><ul class="toc-headings"><li><a href="#operators.html_%25E3%2582%25B7%25E3%2583%25B3%25E3%2582%25BF%25E3%2583%2583%25E3%2582%25AF%25E3%2582%25B9">シンタックス</a></li><li><a href="#operators.html_%25E4%25BE%258B%25E9%25A1%258C-4">例題</a></li></ul></li><li><a href="#operators.html_truthy-%25E3%2581%25A8-falsy">Truthy とFalsy</a></li></ul></nav></div></div></body></html>