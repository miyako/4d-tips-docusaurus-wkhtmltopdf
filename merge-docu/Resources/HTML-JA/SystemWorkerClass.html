<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="ja"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>SystemWorker · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="システムワーカーを使うことで、4Dコードは同じマシン上で任意の外部プロセス (シェルコマンド、PHPなど ) を呼び出すことができます。 システムワーカーは非同期で呼び出されます。 コールバックを使用することで、4D は双方向の通信を可能にします。"name="description" /><meta content="ja" name="docsearch:language" /><meta content="SystemWorker · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="システムワーカーを使うことで、4Dコードは同じマシン上で任意の外部プロセス (シェルコマンド、PHPなど ) を呼び出すことができます。 システムワーカーは非同期で呼び出されます。 コールバックを使用することで、4D は双方向の通信を可能にします。"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#SystemWorkerClass.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">SystemWorker<a aria-hidden="true" class="anchor" id="SystemWorkerClass.html"></a></h1></header><article><div><p><span>システムワーカーを使うことで、4Dコードは同じマシン上で任意の外部プロセス (シェルコマンド、PHPなど )を呼び出すことができます。 システムワーカーは非同期で呼び出されます。 コールバックを使用することで、4Dは双方向の通信を可能にします。</span></p><p><span><code>SystemWorker</code> クラスは、<code>4D</code>クラスストアにて提供されています。</span></p><h3><span><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E4%BE%8B%E9%A1%8C"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E4%25BE%258B%25E9%25A1%258C"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</span></h3><pre><span><code class="hljs css language-4d">    <span class="hljs-comment">// ipconfig 情報へのアクセスを取得する Windows での例</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$myWinWorker </span>: 4D.SystemWorker<span class="hljs-keyword">var</span> <span class="hljs-variable">$ipConfig </span>: Text<span class="hljs-variable">$myWinWorker</span>:= 4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"ipconfig"</span>)<span class="hljs-variable">$ipConfig</span>:=<span class="hljs-variable">$myWinWorker</span>.<span class="hljs-function">wait</span>(<span class="hljs-number">1</span>).response <span class="hljs-comment">//timeout 1 second</span>    <span class="hljs-comment">// ファイルのパーミッションを変更する macOS での例</span>    <span class="hljs-comment">// chmod はパーミッションを変更するための macOS コマンドです</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$myMacWorker </span>: 4D.SystemWorker<span class="hljs-variable">$myMacWorker</span>:= 4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"chmod +x /folder/myfile.sh"</span>)</code></span></pre><h3><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E6%A6%82%E8%A6%81"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E6%25A6%2582%25E8%25A6%2581"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>概要</h3><table><thead><tr><th></th></tr></thead><tbody><tr><td><a href="#SystemWorkerClass.html_4d-systemworker-new"><strong>4D.SystemWorker.new</strong>( <em>commandLine</em> : Text { ; options : Object } ) :4D.SystemWorker</a><p>&nbsp;&nbsp;&nbsp;&nbsp;外部プロセスを開始するために <em>commandLine</em>に渡したコマンドラインを実行する <code>4D.SystemWorker</code> オブジェクトを作成し、返します</p></td></tr><tr><td><a href="#SystemWorkerClass.html_closeinput"><strong>.closeInput</strong>()</a><p>&nbsp;&nbsp;&nbsp;&nbsp;外部プロセスの入力ストリーム (<em>stdin</em>)を閉じます</p></td></tr><tr><td><a href="#SystemWorkerClass.html_commandline"><strong>.commandLine</strong>: Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#SystemWorkerClass.html_4d-systemworker-new"><code>new()</code></a>関数に引数として渡したコマンドライン</p></td></tr><tr><td><a href="#SystemWorkerClass.html_currentdirectory"><strong>.currentDirectory</strong>: 4D.Folder</a><p>&nbsp;&nbsp;&nbsp;&nbsp;外部プロセスが実行される作業ディレクトリ</p></td></tr><tr><td><a href="#SystemWorkerClass.html_dataype"><strong>.dataType</strong> :Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;レスポンス本文のデータ型</p></td></tr><tr><td><a href="#SystemWorkerClass.html_encoding"><strong>.encoding</strong> :Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;レスポンス本文のエンコーディング</p></td></tr><tr><td><a href="#SystemWorkerClass.html_errors"><strong>.errors</strong> :Collection</a><p>&nbsp;&nbsp;&nbsp;&nbsp;実行エラーの場合、4Dエラーのコレクション</p></td></tr><tr><td><a href="#SystemWorkerClass.html_exitcode"><strong>.exitCode</strong> :Integer</a><p>&nbsp;&nbsp;&nbsp;&nbsp;外部プロセスから返される終了コード</p></td></tr><tr><td><a href="#SystemWorkerClass.html_hideWindow"><strong>.hideWindow</strong> :Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;実行ファイルや DOSコンソールのウィンドウを隠すのに使用できます(<strong>Windows のみ</strong>)</p></td></tr><tr><td><a href="#SystemWorkerClass.html_pid"><strong>.pid</strong> :Integer</a><p>&nbsp;&nbsp;&nbsp;&nbsp;外部プロセスの、システムレベルでの一意的な識別子</p></td></tr><tr><td><a href="#SystemWorkerClass.html_postmessage"><strong>.postMessage</strong>(<em>message</em> : Text)<br /><strong>.postMessage</strong>( <em>messageBLOB</em> : Blob)</a><p>&nbsp;&nbsp;&nbsp;&nbsp;外部プロセスの入力ストリーム (stdin) への書き込みをおこないます</p></td></tr><tr><td><a href="#SystemWorkerClass.html_response"><strong>.response</strong> :Text<br /><strong>.response</strong> : Blob</a><p>&nbsp;&nbsp;&nbsp;&nbsp;リクエストが終了した時点で、返された全データの結合</p></td></tr><tr><td><a href="#SystemWorkerClass.html_responseerror"><strong>.responseError</strong>: Text</a><p>&nbsp;&nbsp;&nbsp;&nbsp;リクエストが終了した時点で、返された全エラーの結合</p></td></tr><tr><td><a href="#SystemWorkerClass.html_terminate"><strong>.terminate</strong>()</a><p>&nbsp;&nbsp;&nbsp;&nbsp;<code>SystemWorker</code>の実行を強制終了します</p></td></tr><tr><td><a href="#SystemWorkerClass.html_terminated"><strong>.terminated</strong> :Boolean</a><p>&nbsp;&nbsp;&nbsp;&nbsp;外部プロセスが終了された場合に<strong>true</strong></p></td></tr><tr><td><a href="#SystemWorkerClass.html_timeout"><strong>.timeout</strong> :Integer</a><p>&nbsp;&nbsp;&nbsp;&nbsp;外部プロセスが生きている場合、キルされるまでの秒数</p></td></tr><tr><td><a href="#SystemWorkerClass.html_wait"><strong>.wait</strong>({<em>timeout</em> : Real} ) : 4D.SystemWorker</a><p>&nbsp;&nbsp;&nbsp;&nbsp;<code>SystemWorker</code> の実行終了まで、または<em>timeout</em> で指定した時間が経過するまで待機します</p></td></tr></tbody></table><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_4dsystemworkernew"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_4dsystemworkernew"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>4D.SystemWorker.new()</h2><details><summary>履歴</summary><table><thead><tr><th>バージョン</th><th>内容</th></tr></thead><tbody><tr><td>v19 R4</td><td>追加</td></tr></tbody></table></details><p><strong>4D.SystemWorker.new</strong> ( <em>commandLine</em> :Text { ; options : Object } ) : 4D.SystemWorker</p><table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>commandLine</td><td>テキスト</td><td style="text-align:center">-&gt;</td><td>実行するコマンドライン</td></tr><tr><td>options</td><td>オブジェクト</td><td style="text-align:center">-&gt;</td><td>ワーカーパラメーター</td></tr><tr><td>result</td><td>4D.SystemWorker</td><td style="text-align:center">&lt;-</td><td>非同期の新規システムワーカー (プロセスが開始されなかった場合は null)</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>4D.SystemWorker.new()</code> 関数は、 外部プロセスを開始するために<em>commandLine</em> に渡したコマンドラインを実行する <code>4D.SystemWorker</code>オブジェクトを作成し、返します。</p><p>返されたシステムワーカーオブジェクトは、ワーカーにメッセージを送信したり、ワーカーの結果を取得するために使用できます。</p><p>プロキシオブジェクトの生成中に問題があった場合、この関数は <code>null</code>オブジェクトを返し、エラーが生成されます。</p><p><em>commandLine</em> には、実行するアプリケーションのファイルのフルパス (POSIXシンタックス)、および必要に応じて追加の引数を渡します。 アプリケーション名だけを渡すと、4Dは 実行ファイルを探すために<code>PATH</code> 環境変数を使用します。</p><p><strong>警告:</strong> この関数は、実行可能なアプリケーションを起動するだけで、シェル(コマンドインタープリター) の一部である命令を実行することはできません。 たとえば Windows で、このコマンドを使用して<code>dir</code> 命令を実行することはできません。</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_options-%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_options-%25E3%2582%25AA%25E3%2583%2596%25E3%2582%25B8%25E3%2582%25A7%25E3%2582%25AF%25E3%2583%2588"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a><em>options</em> オブジェクト</h4><p><em>options</em> に渡すオブジェクトは、次のプロパティを持つことができます:</p><table><thead><tr><th>プロパティ</th><th>タイプ</th><th>デフォルト</th><th>説明</th></tr></thead><tbody><tr><td>onResponse</td><td>Formula</td><td>未定義</td><td>システムワーカーメッセージ用のコールバック。 完全なレスポンスを受け取り次第、このコールバックが呼び出されます。コールバックは 2つのオブジェクトを引数として受け取ります (後述参照)</td></tr><tr><td>onData</td><td>Formula</td><td>未定義</td><td>システムワーカーデータ用のコールバック。 システムワーカーがデータを受け取る度に、このコールバックが呼び出されます。コールバックは 2つのオブジェクトを引数として受け取ります (後述参照)</td></tr><tr><td>onDataError</td><td>Formula</td><td>未定義</td><td>外部プロセスエラー用のコールバック (外部プロセスの <em>stderr</em>)。 コールバックは2つのオブジェクトを引数として受け取ります (後述参照)</td></tr><tr><td>onError</td><td>Formula</td><td>未定義</td><td>外部プロセスが終了されたときのコールバック。 コールバックは 2つのオブジェクトを引数として受け取ります(後述参照)</td></tr><tr><td>onTerminate</td><td>Formula</td><td>未定義</td><td>外部プロセスが終了されたときのコールバック。 コールバックは 2つのオブジェクトを引数として受け取ります(後述参照)</td></tr><tr><td>timeout</td><td>数値</td><td>未定義</td><td>プロセスが生きている場合、キルされるまでの秒数。</td></tr><tr><td>dataType</td><td>テキスト</td><td>"text"</td><td>レスポンス本文のデータ型。 可能な値: "text" (デフォルト), "blob"。</td></tr><tr><td>encoding</td><td>テキスト</td><td>"UTF-8"</td><td><code>dataType="text"</code> の場合のみ。 レスポンス本文のエンコーディング。利用可能な値については、<a href="https://doc.4d.com/4dv19R/help/command/ja/page1011.html"><code>CONVERTFROM TEXT</code></a> コマンドの説明を参照ください。</td></tr><tr><td>variables</td><td>オブジェクト</td><td></td><td>システムワーカー用のカスタム環境変数を設定します。 シンタックス:<code>variables.key=value</code> (<code>key</code>は変数名、<code>value</code> はその値)。 値は、可能な限り文字列に変換されます。 値に '='を含めることはできません。 定義されていない場合、システムワーカーは 4D環境を継承します。</td></tr><tr><td>currentDirectory</td><td>Folder</td><td></td><td>プロセスが実行される作業ディレクトリ</td></tr><tr><td>hideWindow</td><td>ブール</td><td>true</td><td>(Windows) アプリケーションウィンドウを隠す (可能な場合)、または Windowsコンソールを隠す</td></tr></tbody></table><p>すべてのコールバック関数は、2つのオブジェクト引数を受け取ります。 その内容は、コールバックに依存します:</p><table><thead><tr><th>引数</th><th>タイプ</th><th><em>onResponse</em></th><th><em>onData</em></th><th><em>onDataError</em></th><th><em>onError</em></th><th><em>onTerminate</em></th></tr></thead><tbody><tr><td>$param1</td><td>オブジェクト</td><td>SystemWorker</td><td>SystemWorker</td><td>SystemWorker</td><td>SystemWorker</td><td>SystemWorker</td></tr><tr><td>$param2.type</td><td>テキスト</td><td>"response"</td><td>"data"</td><td>"error"</td><td>"error"</td><td>"termination"</td></tr><tr><td>$param2.data</td><td>Text または Blob</td><td></td><td>取得データ</td><td>エラーデータ</td><td></td><td></td></tr></tbody></table><p>以下は、コールバック呼び出しの流れです:</p><ol><li><code>onData</code> および <code>onDataError</code> は1回または複数回実行されます。</li><li>呼ばれた場合、<code>onError</code> は 1回実行されます(システムワーカーの処理を停止します)。</li><li>エラーが発生しなかった場合、<code>onResponse</code> が 1回実行されます。</li><li><code>onTerminate</code> は常に実行されます。</li></ol><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E6%88%BB%E3%82%8A%E5%80%A4"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_%25E6%2588%25BB%25E3%2582%258A%25E5%2580%25A4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>戻り値</h4><p>このオブジェクトに対して、SystemWorker クラスの関数やプロパティを呼び出すことができます。</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_windows-%E3%81%AE%E4%BE%8B"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_windows-%25E3%2581%25AE%25E4%25BE%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Windows の例</h4><ol><li>特定のドキュメントをメモ帳で開きます:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sw </span>: 4D.SystemWorker<span class="hljs-keyword">var</span> <span class="hljs-variable">$options </span>: Object<span class="hljs-variable">$options</span>:=New object<span class="hljs-variable">$options</span>.hideWindow:= <span class="hljs-literal">False</span><span class="hljs-variable">$sw</span>:=4D.SystemWorker.<span class="hljs-function">new </span>(<span class="hljs-string">"C:\\WINDOWS\\notepad.exe C:\\Docs\\new folder\\res.txt"</span>;<span class="hljs-variable">$options</span>)</code></pre><ol start="2"><li>コンソールで npm install を実行します:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$folder </span>: 4D.Folder<span class="hljs-keyword">var</span> <span class="hljs-variable">$options </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$worker </span>: 4D.SystemWorker<span class="hljs-variable">$folder</span>:=<span class="hljs-function">Folder</span>(fk database folder) <span class="hljs-variable">$options</span>:=New object<span class="hljs-variable">$options</span>.currentDirectory:=<span class="hljs-variable">$folder</span><span class="hljs-variable">$options</span>.hideWindow:=<span class="hljs-literal">False</span><span class="hljs-variable">$worker</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"cmd /c npm install"</span>;<span class="hljs-variable">$options</span>)</code></pre><ol start="3"><li>特定のドキュメントを Microsoft® Word® アプリケーションで開きます:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-variable">$mydoc</span>:=<span class="hljs-string">"C:\\Program Files\\Microsoft Office\\Office15\\WINWORD.EXE C:\\Tempo\\output.txt"</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$sw </span>: 4D.SystemWorker<span class="hljs-variable">$sw</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-variable">$mydoc</span>)</code></pre><ol start="4"><li>カレントディレクトリでコマンドを実行し、メッセージそ送信します:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$param </span>: Object<span class="hljs-keyword">var</span> <span class="hljs-variable">$sys </span>: 4D.SystemWorker<span class="hljs-variable">$param</span>:=New object<span class="hljs-variable">$param</span>.currentDirectory:=<span class="hljs-function">Folder</span>(fk database folder)<span class="hljs-variable">$sys</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"git commit -F -"</span>;<span class="hljs-variable">$param</span>)<span class="hljs-variable">$sys</span>.<span class="hljs-function">postMessage</span>(<span class="hljs-string">"This is a postMessage"</span>)<span class="hljs-variable">$sys</span>.<span class="hljs-function">closeInput</span>()</code></pre><ol start="5"><li>ユーザーが Windows上で外部ドキュメントを開くのを許可します:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-variable">$docname</span>:=<span class="hljs-function">Select document</span>(<span class="hljs-string">""</span>;<span class="hljs-string">"*.*"</span>;<span class="hljs-string">"開くファイルを選択してください"</span>;<span class="hljs-number">0</span>)<span class="hljs-keyword">If</span>(OK=<span class="hljs-number">1</span>)<span class="hljs-keyword">    var</span> <span class="hljs-variable">$sw </span>: 4D.SystemWorker    <span class="hljs-variable">$sw</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"cmd.exe /C start \"\" \""</span>+<span class="hljs-variable">$docname</span>+<span class="hljs-string">"\""</span>)<span class="hljs-keyword">End if</span></code></pre><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_macos-%E3%81%AE%E4%BE%8B"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_macos-%25E3%2581%25AE%25E4%25BE%258B"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>macOS の例</h4><ol><li>テキストファイルを編集します (<code>cat</code> はファイルを編集するための macOS コマンドです)。この例題では、コマンドのフルアクセスパスを渡しています:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sw </span>: 4D.SystemWorker<span class="hljs-variable">$sw</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"/bin/cat /folder/myfile.txt"</span>)<span class="hljs-variable">$sw</span>.<span class="hljs-function">wait</span>() <span class="hljs-comment">//同期的実行</span></code></pre><ol start="2"><li>独立した "グラフィック" アプリケーションを起動するには、<code>open</code>システムコマンドの使用が推奨されます (これは、アプリケーションをダブルクリックするのと同じ効果を持ちます)。</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$sw </span>: 4D.SystemWorker<span class="hljs-variable">$sw</span>:=4D.SystemWorker.<span class="hljs-function">new </span>(<span class="hljs-string">"open /Applications/Calculator.app"</span>)</code></pre><ol start="3"><li>"Users" フォルダーの中身を取得します (ls -l は、DOS の dir に相当する macOSのコマンドです)。</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$systemworker </span>: 4D.SystemWorker<span class="hljs-keyword">var</span> <span class="hljs-variable">$output </span>: Text<span class="hljs-keyword">var</span> <span class="hljs-variable">$errors </span>: Collection<span class="hljs-variable">$systemworker</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"/bin/ls -l /Users "</span>)<span class="hljs-variable">$systemworker</span>.<span class="hljs-function">wait</span>(<span class="hljs-number">5</span>)<span class="hljs-variable">$output</span>:=<span class="hljs-variable">$systemworker</span>.response<span class="hljs-variable">$error</span>:=<span class="hljs-variable">$systemworker</span>.errors</code></pre><ol start="4"><li>上記と同じコマンドで、"Params" ユーザークラスを使ったコールバック関数の処理方法を示しています:</li></ol><pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$systemworker </span>: 4D.SystemWorker<span class="hljs-variable">$systemworker</span>:=4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-string">"/bin/ls -l /Users "</span>;cs.Params.<span class="hljs-function">new</span>())<span class="hljs-comment">// "Params" クラス</span><span class="hljs-keyword">Class constructor</span>    <span class="hljs-literal">This</span>.dataType:=<span class="hljs-string">"text"</span>    <span class="hljs-literal">This</span>.data:=<span class="hljs-string">""</span>    <span class="hljs-literal">This</span>.dataError:=<span class="hljs-string">""</span><span class="hljs-keyword">Function</span><span class="hljs-function"> onResponse</span>(<span class="hljs-variable">$systemWorker </span>: Object)     <span class="hljs-literal">This</span>.<span class="hljs-function">_createFile</span>(<span class="hljs-string">"onResponse"</span>; <span class="hljs-variable">$systemWorker</span>.response)<span class="hljs-keyword">Function</span><span class="hljs-function"> onData</span>(<span class="hljs-variable">$systemWorker </span>: Object; <span class="hljs-variable">$info </span>: Object)     <span class="hljs-literal">This</span>.data+=<span class="hljs-variable">$info</span>.data     <span class="hljs-literal">This</span>.<span class="hljs-function">_createFile</span>(<span class="hljs-string">"onData"</span>;this.data)<span class="hljs-keyword">Function</span><span class="hljs-function"> onDataError</span>(<span class="hljs-variable">$systemWorker </span>: Object; <span class="hljs-variable">$info </span>: Object)     <span class="hljs-literal">This</span>.dataError+=<span class="hljs-variable">$info</span>.data     <span class="hljs-literal">This</span>.<span class="hljs-function">_createFile</span>(<span class="hljs-string">"onDataError"</span>;this.dataError)<span class="hljs-keyword">Function</span><span class="hljs-function"> onTerminate</span>(<span class="hljs-variable">$systemWorker </span>: Object)<span class="hljs-keyword">     var</span> <span class="hljs-variable">$textBody </span>: Text     <span class="hljs-variable">$textBody</span>:=<span class="hljs-string">"Response: "</span>+<span class="hljs-variable">$systemWorker</span>.response     <span class="hljs-variable">$textBody</span>+=<span class="hljs-string">"ResponseError: "</span>+<span class="hljs-variable">$systemWorker</span>.responseError     <span class="hljs-literal">This</span>.<span class="hljs-function">_createFile</span>(<span class="hljs-string">"onTerminate"</span>; <span class="hljs-variable">$textBody</span>)<span class="hljs-keyword">Function</span><span class="hljs-function"> _createFile</span>(<span class="hljs-variable">$title </span>: Text; <span class="hljs-variable">$textBody </span>: Text)<span class="hljs-function">     TEXT TO DOCUMENT</span>(<span class="hljs-function">Get 4D folder</span>(Current resources folder)+<span class="hljs-variable">$title</span>+<span class="hljs-string">".txt"</span>; <span class="hljs-variable">$textBody</span>)</code></pre><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_closeinput"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_closeinput"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.closeInput()</h2><details><summary>履歴</summary><table><thead><tr><th>バージョン</th><th>内容</th></tr></thead><tbody><tr><td>v19 R4</td><td>追加</td></tr></tbody></table></details><p><strong>.closeInput</strong>() | 引数 | タイプ | | 説明 | | -- | ---|::| ----------------- | | | | | このコマンドは引数を必要としません |</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-1"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.closeInput()</code> 関数は、 外部プロセスの入力ストリーム (<em>stdin</em>)を閉じます。</p><p><code>.closeInput()</code> は、<code>postMessage()</code>を介した全データの受信を待機している実行ファイルに、データ送信が終了したことを知らせるのに便利です。</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E4%BE%8B%E9%A1%8C-1"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E4%25BE%258B%25E9%25A1%258C-1"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>例題</h4><pre><code class="hljs css language-4D"><span class="hljs-comment">// gzip するデータを作成します</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$input</span>;<span class="hljs-variable">$output </span>: Blob<span class="hljs-keyword">var</span> <span class="hljs-variable">$gzip </span>: Text<span class="hljs-function">TEXT TO BLOB</span>(<span class="hljs-string">"Hello, World!"</span>;<span class="hljs-variable">$input</span>)<span class="hljs-variable">$gzip</span>:=<span class="hljs-string">"\"C:\\Program Files (x86)\\GnuWin32\\bin\\gzip.exe\" "</span><span class="hljs-comment">// 非同期のシステムワーカーを作成します</span><span class="hljs-keyword">var</span> <span class="hljs-variable">$worker </span>: 4D.SystemWorker<span class="hljs-variable">$worker</span>:= 4D.SystemWorker.<span class="hljs-function">new</span>(<span class="hljs-variable">$gzip</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"dataType"</span>;<span class="hljs-string">"blob"</span>))<span class="hljs-comment">// stdin に圧縮ファイルを送信します</span><span class="hljs-variable">$worker</span>.<span class="hljs-function">postMessage</span>(<span class="hljs-variable">$input</span>)<span class="hljs-comment">// 終了したことを明確にするため closeInput() を呼び出します </span><span class="hljs-comment">// gzip (および stdin からのデータを待機する多数のプログラム) は入力ストリームが明示的に閉じられるまで待機します</span><span class="hljs-variable">$worker</span>.<span class="hljs-function">closeInput</span>()<span class="hljs-variable">$worker</span>.<span class="hljs-function">wait</span>()<span class="hljs-variable">$output</span>:=<span class="hljs-variable">$worker</span>.response<span class="hljs-variable">$worker</span>.<span class="hljs-function">postMessage</span>(<span class="hljs-variable">$input</span>)<span class="hljs-comment">// 終了したことを明確にするため closeInput() を呼び出します </span><span class="hljs-comment">// gzip (および stdin からのデータを待機する多数のプログラム) は入力ストリームが明示的に閉じられるまで待機します</span><span class="hljs-variable">$worker</span>.<span class="hljs-function">closeInput</span>()<span class="hljs-variable">$worker</span>.<span class="hljs-function">wait</span>()<span class="hljs-variable">$output</span>:=<span class="hljs-variable">$worker</span>.response<span class="hljs-variable">$worker</span>.<span class="hljs-function">postMessage</span>(<span class="hljs-variable">$input</span>)<span class="hljs-comment">// 終了したことを明確にするため closeInput() を呼び出します </span><span class="hljs-comment">// gzip (および stdin からのデータを待機する多数のプログラム) は入力ストリームが明示的に閉じられるまで待機します</span><span class="hljs-variable">$worker</span>.<span class="hljs-function">closeInput</span>()<span class="hljs-variable">$worker</span>.<span class="hljs-function">wait</span>()<span class="hljs-variable">$output</span>:=<span class="hljs-variable">$worker</span>.response</code></pre><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_commandline"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_commandline"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.commandLine</h2><p><strong>.commandLine</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-2"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-2"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.commandLine</code> プロパティは、 <a href="#SystemWorkerClass.html_4d-systemworker-new"><code>new()</code></a>関数に引数として渡したコマンドラインを格納します。</p><p>このプロパティは <strong>読み取り専用</strong> です。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_currentdirectory"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_currentdirectory"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.currentDirectory</h2><p><strong>.currentDirectory</strong> : 4D.Folder</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-3"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-3"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.currentDirectory</code> プロパティは、外部プロセスが実行される作業ディレクトリを格納します。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_datatype"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_datatype"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.dataType</h2><p><strong>.dataType</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-4"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-4"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.dataType</code> プロパティは、 レスポンス本文のデータ型を格納します。 とりうる値: "text"または "blob"。</p><p>このプロパティは <strong>読み取り専用</strong> です。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_encoding"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_encoding"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.encoding</h2><p><strong>.encoding</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-5"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-5"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.encoding</code> プロパティは、 レスポンス本文のエンコーディングを格納します。 このプロパティは<a href="#SystemWorkerClass.html_datatype"><code>dataType</code></a> が"text" のときにのみ利用できます。</p><p>このプロパティは <strong>読み取り専用</strong> です。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_errors"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_errors"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.errors</h2><p><strong>.errors</strong> : Collection</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-6"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-6"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.errors</code> プロパティは、 実行エラーの場合、4Dエラーのコレクションを格納します。</p><p>コレクションの各要素は、以下のプロパティを持つオブジェクトです:</p><table><thead><tr><th>プロパティ</th><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>[].errorCode</td><td>number</td><td>4Dエラーコード</td></tr><tr><td>[].message</td><td>テキスト</td><td>4Dエラーの詳細</td></tr><tr><td>[ ].componentSignature</td><td>テキスト</td><td>エラーを返した内部コンポーネントの署名</td></tr></tbody></table><p>エラーが発生しなかった場合、<code>.errors</code> は空のコレクションを格納します。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_exitcode"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_exitcode"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.exitCode</h2><p><strong>.exitCode</strong> : Integer</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-7"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-7"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.exitCode</code> プロパティは、 外部プロセスから返される終了コードを格納します。プロセスが正常に終了しなかった場合、<code>exitCode</code> は <em>undefined</em>です。</p><p>このプロパティは <strong>読み取り専用</strong> です。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_hidewindow"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_hidewindow"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.hideWindow</h2><p><strong>.hideWindow</strong> : Boolean</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-8"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-8"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.hideWindow</code> プロパティは、 実行ファイルやDOSコンソールのウィンドウを隠すのに使用できます (<strong>Windows のみ</strong>)。</p><p><strong>読み書き可能</strong> プロパティです。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_pid"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_pid"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.pid</h2><p><strong>.pid</strong> : Integer</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-9"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-9"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.pid</code> プロパティは、 外部プロセスの、システムレベルでの一意的な識別子を格納します。</p><p>このプロパティは <strong>読み取り専用</strong> です。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_postmessage"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_postmessage"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.postMessage()</h2><p><strong>.postMessage</strong>( <em>message</em> : Text)<br /><strong>.postMessage</strong>( <em>messageBLOB</em> : Blob)</p><table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>message</td><td>テキスト</td><td style="text-align:center">-&gt;</td><td>外部プロセスの入力ストリーム (stdin) に書き込むテキスト</td></tr><tr><td>messageBLOB</td><td>BLOB</td><td style="text-align:center">-&gt;</td><td>入力ストリームに書き込むバイト数</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-10"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-10"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.postMessage()</code> 関数は、 外部プロセスの入力ストリーム (stdin)への書き込みをおこないます。 <em>message</em> には <em>stdin</em>に書き込むテキストを渡します。</p><p><code>.postMessage()</code> 関数は、<em>stdin</em> に渡す BLOB型の<em>messageBLOB</em> 引数も受け取るため、バイナリデータを送信することもできます。</p><p><a href="#SystemWorkerClass.html_options-object">optionsオブジェクト</a> の <code>.dataType</code> プロパティを使って、レスポンス本文が BLOBを返すようにできます。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_response"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_response"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.response</h2><p><strong>.response</strong> : Text<br /><strong>.response</strong> : Blob</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-11"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-11"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.response</code> プロパティは、 リクエストが終了した時点で、返された全データの結合を格納します(つまり、プロセスの出力から取得された全メッセージ)。</p><p>メッセージのデータ型は <a href="#SystemWorkerClass.html_datatype"><code>dataType</code></a>属性によって定義されています。</p><p>このプロパティは <strong>読み取り専用</strong> です。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_responseerror"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_responseerror"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.responseError</h2><p><strong>.responseError</strong> : Text</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-12"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-12"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.responseError</code> プロパティは、リクエストが終了した時点で、返された全エラーの結合を格納します。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_terminate"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_terminate"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.terminate()</h2><p><strong>.terminate</strong>() | 引数 | タイプ | | 説明 | | -- | ---|::| ----------------- | | | | | このコマンドは引数を必要としません |</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-13"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-13"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.terminate()</code> 関数は、 <code>SystemWorker</code>の実行を強制終了します。</p><p>この関数は、システムワーカーを終了して実行中のスクリプトに制御を戻す命令を送ります。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_terminated"></a><a aria-hidden="true"class="hash-link" href="#SystemWorkerClass.html_terminated"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.terminated</h2><p><strong>.terminated</strong> : Boolean</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-14"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-14"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.terminated</code> プロパティは、 外部プロセスが終了された場合に<strong>true</strong>を格納します。</p><p>このプロパティは <strong>読み取り専用</strong> です。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_timeout"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_timeout"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.timeout</h2><p><strong>.timeout</strong> : Integer</p><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-15"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-15"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.timeout</code> プロパティは、外部プロセスが生きている場合、キルされるまでの秒数を格納します。</p><p>このプロパティは <strong>読み取り専用</strong> です。</p><h2><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_wait"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_wait"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>.wait()</h2><details><summary>履歴</summary><table><thead><tr><th>バージョン</th><th>内容</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><p>|v19 R4|追加|</p></details><p><strong>.wait</strong>( {<em>timeout</em> : Real} ) :4D.SystemWorker</p><table><thead><tr><th>引数</th><th>タイプ</th><th style="text-align:center"></th><th>説明</th></tr></thead><tbody><tr><td>timeout</td><td>実数</td><td style="text-align:center">-&gt;</td><td>待機時間 (秒単位)</td></tr><tr><td>戻り値</td><td>4D.SystemWorker</td><td style="text-align:center">&lt;-</td><td>SystemWorker オブジェクト</td></tr></tbody></table><h4><a aria-hidden="true" class="anchor" id="SystemWorkerClass.html_%E8%AA%AC%E6%98%8E-16"></a><a aria-hidden="true" class="hash-link" href="#SystemWorkerClass.html_%25E8%25AA%25AC%25E6%2598%258E-16"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>説明</h4><p><code>.wait()</code> 関数は、 <code>SystemWorker</code> の実行終了まで、または<em>timeout</em> で指定した時間が経過するまで待機します。</p><p><em>timeout</em> には、秒単位の値を渡します。 <code>SystemWorker</code>スクリプトは、<em>timeout</em> に指定された時間だけ、外部プロセスを待ちます。 <em>timeout</em>を省略した場合、スクリプトの実行は無期限に待機します。</p><p>実際には、<code>.wait()</code>はタイムアウトに達した場合を除き、<code>onTerminate</code> フォーミュラのプロセス終了まで待ちます。タイムアウトに達した場合、<code>SystemWorker</code> はキルされません。</p><p><code>.wait()</code> の実行中、コールバック関数、とくに他のイベントや他の<code>SystemWorker</code> インスタンスからのコールバックは実行されます。 コールバックから <a href="#SystemWorkerClass.html_terminate"><code>terminate()</code></a>を呼び出すことで、<code>.wait()</code> を終了することができます。</p><p>この関数は、SystemWorker オブジェクトを返します。</p><blockquote><p><code>SystemWorker</code> を 4Dのワーカープロセスの形で作成した場合、この関数は必要ありません。</p></blockquote><style><![CDATA[ h2 { background: #d9ebff;}]]></style></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#SMTPTransporterClass.html"><span class="arrow-prev">←</span><span>SMTPTransporter</span></a><a class="docs-next button" href="#WebServerClass.html"><span class="function-name-prevnext">WebServer</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#SystemWorkerClass.html_4dsystemworkernew">4D.SystemWorker.new()</a></li><li><a href="#SystemWorkerClass.html_closeinput">.closeInput()</a></li><li><a href="#SystemWorkerClass.html_commandline">.commandLine</a></li><li><a href="#SystemWorkerClass.html_currentdirectory">.currentDirectory</a></li><li><a href="#SystemWorkerClass.html_datatype">.dataType</a></li><li><a href="#SystemWorkerClass.html_encoding">.encoding</a></li><li><a href="#SystemWorkerClass.html_errors">.errors</a></li><li><a href="#SystemWorkerClass.html_exitcode">.exitCode</a></li><li><a href="#SystemWorkerClass.html_hidewindow">.hideWindow</a></li><li><a href="#SystemWorkerClass.html_pid">.pid</a></li><li><a href="#SystemWorkerClass.html_postmessage">.postMessage()</a></li><li><a href="#SystemWorkerClass.html_response">.response</a></li><li><a href="#SystemWorkerClass.html_responseerror">.responseError</a></li><li><a href="#SystemWorkerClass.html_terminate">.terminate()</a></li><li><a href="#SystemWorkerClass.html_terminated">.terminated</a></li><li><a href="#SystemWorkerClass.html_timeout">.timeout</a></li><li><a href="#SystemWorkerClass.html_wait">.wait()</a></li></ul></nav></div></div></body></html>