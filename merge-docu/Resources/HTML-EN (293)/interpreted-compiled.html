<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="en"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Interpreted and Compiled modes · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="4D applications can work in **interpreted** or **compiled** mode:"name="description" /><meta content="en" name="docsearch:language" /><meta content="Interpreted and Compiled modes · 4D Documentation"property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="4D applications can work in **interpreted** or **compiled** mode:"property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#interpreted.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">Interpreted andCompiled modes<a aria-hidden="true" class="anchor" id="interpreted-compiled.html"></a></h1></header><article><div><p><span>4D applications can work in <strong>interpreted</strong>or <strong>compiled</strong> mode:</span></p><ul><li><span>in interpreted mode, statements are read and translatedin machine language at the moment of their execution. You can addor modify the code whenever you need to, the application isautomatically updated.</span></li><li><span>in compiled mode, all methods are read and translatedonce, at the compilation step. Afterwards, the application onlycontains assembly level instructions are available, it is no longerpossible to edit the code.</span></li></ul><p><span>The advantages of the compilation are:</span></p><ul><li><span><strong>Speed</strong>: Your application can run from 3to 1,000 times faster.</span></li><li><span><strong>Code checking</strong>: Your application isscanned for the consistency of code. Both logical and syntacticalconflicts are detected.</span></li><li><span><strong>Protection</strong>: Once your application iscompiled, you can delete the interpreted code. Then, the compiledapplication is functionally identical to the original, except thatthe structure and methods cannot be viewed or modified,deliberately or inadvertently.</span></li><li><span><strong>Stand-alone double-clickableapplications</strong>: compiled applications can also betransformed into stand-alone applications (.EXE files) with theirown icon.</span></li><li><span><strong>Preemptive mode</strong>: only compiled code canbe executed in preemptive processes.</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="interpreted-compiled.html_differences-between-interpreted-and-compiled-code"></a><a aria-hidden="true" class="hash-link" href="#interpreted-compiled.html_differences-between-interpreted-and-compiled-code"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Differences between interpreted and compiledcode</span></h2><p><span>Although application will work the same way in interpretedand compiled modes, there are some differences to know when youwrite code that will be compiled. The 4D interpreter is usuallymore flexible than the compiler.</span></p><table><thead><tr><th>Compiled</th><th>Interpreted</th></tr></thead><tbody><tr><td>You cannot have a method with the same name as a variable.</td><td>No error is generated, but priority is given to the method</td></tr><tr><td>All variables must by typed, either through a compilerdirective (ex: <code>C_LONGINT</code>), or by the compiler atcompilation time.</td><td>Variables can be typed on-the-fly (not recommended)</td></tr><tr><td>You cannot change the data type of any variable or array.</td><td>Changing the data type of a variable or an array is possible(not recommended)</td></tr><tr><td>You cannot change a one-dimensional array to a two-dimensionalarray, or change a two-dimensional array to a one-dimensionalarray.</td><td>Possible</td></tr><tr><td>Although the compiler will type the variable for you, youshould specify the data type of a variable by using compilerdirectives where the data type is ambiguous, such as in aform.</td><td></td></tr><tr><td>The <code>Undefined</code> function always returns False forvariables. Variables are always defined.</td><td></td></tr><tr><td>If you have checked the "Can be run in preemptive processes"property for the method, the code must not call any thread-unsafecommands or other thread-unsafe methods.</td><td>Preemptive process properties are ignored</td></tr><tr><td>The <code>IDLE</code> command is necessary to call 4D inspecific loops</td><td>It is always possible to interrupt 4D</td></tr></tbody></table><h2><span><a aria-hidden="true" class="anchor" id="interpreted-compiled.html_using-compiler-directives-with-the-interpreter"></a><a aria-hidden="true" class="hash-link" href="#interpreted-compiled.html_using-compiler-directives-with-the-interpreter"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Using Compiler Directives with theInterpreter</span></h2><p><span>Compiler directives are not required for uncompiledapplications. The interpreter automatically types each variableaccording to how it is used in each statement, and a variable canbe freely retyped throughout the application project.</span></p><p><span>Because of this flexibility, it is possible that anapplication can perform differently in interpreted and compiledmodes.</span></p><p><span>For example, if you write:</span></p><pre><span><code class="hljs css language-4d"><span class="hljs-function">C_LONGINT</span>(MyInt)</code></span></pre><p>and elsewhere in the project, you write:</p><pre><code class="hljs css language-4d">MyInt:=<span class="hljs-number">3.1416</span></code></pre><p>In this example, <code>MyInt</code> is assigned the same value(3) in both the interpreted and compiled modes, provided thecompiler directive is interpreted <em>prior</em> to the assignmentstatement.</p><p>The 4D interpreter uses compiler directives to type variables.When the interpreter encounters a compiler directive, it types thevariable according to the directive. If a subsequent statementtries to assign an incorrect value (e.g., assigning an alphanumericvalue to a numeric variable) the assignment will not take place andwill generate an error.</p><p>The order in which the two statements appear is irrelevant tothe compiler, because it first scans the entire project forcompiler directives. The interpreter, however, is not systematic.It interprets statements in the order in which they are executed.That order, of course, can change from session to session,depending on what the user does. For this reason, it is importantto design your project so that your compiler directives areexecuted prior to any statements containing declared variables.</p><h2><a aria-hidden="true" class="anchor" id="interpreted-compiled.html_using-pointers-to-avoid-retyping"></a><a aria-hidden="true"class="hash-link" href="#interpreted-compiled.html_using-pointers-to-avoid-retyping"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Using pointers to avoid retyping</h2><p>A variable cannot be retyped. However, it is possible to use apointer to refer to variables of different data types. For example,the following code is allowed in both interpreted and compiledmodes:</p><pre><code class="hljs css language-4d"><span class="hljs-function">C_POINTER</span>(<span class="hljs-variable">$p</span>)<span class="hljs-function">C_TEXT</span>(<span class="hljs-variable">$name</span>)<span class="hljs-function">C_LONGINT</span>(<span class="hljs-variable">$age</span>)<span class="hljs-variable">$name</span>:=<span class="hljs-string">"Smith"</span><span class="hljs-variable">$age</span>:=<span class="hljs-number">50</span><span class="hljs-variable">$p</span>:=-&gt;<span class="hljs-variable">$name </span><span class="hljs-comment">//text target for the pointer</span><span class="hljs-variable">$p</span>-&gt;:=<span class="hljs-string">"Wesson"</span> <span class="hljs-comment">//assigns a text value</span><span class="hljs-variable">$p</span>:=-&gt;<span class="hljs-variable">$age  </span><span class="hljs-comment">// new target of different type for the pointer</span><span class="hljs-variable">$p</span>-&gt;:=<span class="hljs-number">55</span> <span class="hljs-comment">//assigns a number value</span></code></pre><p>Imagine a function that returns the length (number of charaters)of values that can be of any type.</p><pre><code class="hljs css language-4d">  <span class="hljs-comment">// Calc_Length (how many characters)</span>  <span class="hljs-comment">// $1 = pointer to flexible variable type, numeric, text, time, boolean</span><span class="hljs-function">C_POINTER</span>(<span class="hljs-variable">$1</span>)<span class="hljs-function">C_TEXT</span>(<span class="hljs-variable">$result</span>)  <span class="hljs-function">C_LONGINT</span>(<span class="hljs-variable">$0</span>)<span class="hljs-variable">$result</span>:=<span class="hljs-function">String</span>(<span class="hljs-variable">$1</span>-&gt;)<span class="hljs-variable">$0</span>:=<span class="hljs-function">Length</span>(<span class="hljs-variable">$result</span>)</code></pre><p>Then this method can be called:</p><pre><code class="hljs css language-4d"><span class="hljs-variable">$var1</span>:=<span class="hljs-string">"my text"</span><span class="hljs-variable">$var2</span>:=<span class="hljs-number">5.3</span><span class="hljs-variable">$var3</span>:=<span class="hljs-literal">?10:02:24?</span><span class="hljs-variable">$var4</span>:=<span class="hljs-literal">True</span><span class="hljs-variable">$vLength</span>:=<span class="hljs-function">Calc_Length</span>(-&gt;<span class="hljs-variable">$var1</span>)+<span class="hljs-function">Calc_Length</span>(-&gt;<span class="hljs-variable">$var2</span>)+<span class="hljs-function">Calc_Length </span>(-&gt;<span class="hljs-variable">$var3</span>)+<span class="hljs-function">Calc_Length</span>(-&gt;<span class="hljs-variable">$var4</span>)<span class="hljs-function">ALERT</span>(<span class="hljs-string">"Total length: "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$vLength</span>))</code></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#error-handling.html"><span class="arrow-prev">←</span><span>Error handling</span></a><a class="docs-next button" href="#components.html"><span>Components</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#interpreted-compiled.html_differences-between-interpreted-and-compiled-code">Differences between interpreted and compiled code</a></li><li><a href="#interpreted-compiled.html_using-compiler-directives-with-the-interpreter">Using Compiler Directives with the Interpreter</a></li><li><a href="#interpreted-compiled.html_using-pointers-to-avoid-retyping">Usingpointers to avoid retyping</a></li></ul></nav></div></div></body></html>