<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE html><html lang="en"><head><meta content="19 R5" name="docsearch:version" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Encrypt Page · 4D Documentation</title><meta content="width=device-width" name="viewport" /><meta content="Docusaurus" name="generator" /><meta content="You can use this page to encrypt or *decrypt* (i.e. remove encryption from) the data file, according to the **Encryptable** attribute status defined for each table in the database."name="description" /><meta content="en" name="docsearch:language" /><meta content="Encrypt Page · 4D Documentation" property="og:title" /><meta content="website" property="og:type" /><meta content="https://4d.github.io/docs/Rx/index.html" property="og:url" /><meta content="You can use this page to encrypt or *decrypt* (i.e. remove encryption from) the data file, according to the **Encryptable** attribute status defined for each table in the database."property="og:description" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png"property="og:image" /><meta content="summary" name="twitter:card" /><meta content="https://4d.github.io/docs/Rx/img/logohome.png" name="twitter:image" /><link href="https://developer.4d.com/docs/Rx/img/4d.gif" rel="shortcut icon" /><link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" /><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"rel="stylesheet" /><link href="https://developer.4d.com/docs/Rx/css/main.css" rel="stylesheet" /></head><body class="sideNavVisible separateOnPageNav"><div class="navPusher" style="padding-top:0px!important;"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="#encrypt.md" rel="noreferrer noopener" target="_blank">Edit</a><h1 class="postHeaderTitle" id="__docusaurus">EncryptPage<a aria-hidden="true" class="anchor" id="encrypt.html"></a></h1></header><article><div><p><span>You can use this page to encrypt or <em>decrypt</em> (i.e.remove encryption from) the data file, according to the<strong>Encryptable</strong> attribute status defined for eachtable in the database.</span></p><blockquote><p><span>For detailed information about data encryption in 4D,please refer to the "Encrypting data" section in the <em>DesignReference</em> manual. You can also read the <a href="https://blog.4d.com/a-deeper-look-into-4d-data-encryption/">Adeeper look into 4D data encryption</a> blog post.</span></p></blockquote><p><span>A new folder is created each time you perform anencryption/decryption operation. It is named "Replaced Files(Encrypting) <em>yyyy-mm-dd hh-mm-ss</em>&gt; or "Replaced Files(Decrypting) <em>yyyy-mm-dd hh-mm-ss</em>".</span></p><blockquote><p><span>Encryption is only available in <a href="#encrypt.html_display-in-maintenance-mode">maintenance mode</a>.If you attempt to carry out this operation in standard mode, awarning dialog will inform you that the application will be closedand restarted in maintenance mode</span></p></blockquote><p><span><strong>Warning:</strong></span></p><ul><li><span>Encrypting a data file is a lengthy operation. Itdisplays a progress indicator (which could be interrupted by theuser). Note also that an application encryption operation alwaysincludes a compacting step.</span></li><li><span>Each encryption operation produces a copy of the datafile, which increases the size of the application folder. It isimportant to take this into account (especially in macOS where 4Dapplications appear as packages) so that the size of theapplication does not increase excessively. Manually moving orremoving the copies of the original file inside the package can beuseful in order to minimize the package size.</span></li></ul><h2><span><a aria-hidden="true" class="anchor" id="encrypt.html_encrypting-data-for-the-first-time"></a><a aria-hidden="true"class="hash-link" href="#encrypt.html_encrypting-data-for-the-first-time"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Encrypting data for the first time</span></h2><p><span>Encrypting your data for the first time using the MSCrequires the following steps:</span></p><ol><li><span>In the Structure editor, check the<strong>Encryptable</strong> attribute for each table whose datayou want to encrypt. See the "Table properties"section.</span></li><li><span>Open the Encrypt page of the MSC. If you open the pagewithout setting any tables as <strong>Encryptable</strong>, thefollowing message is displayed in the page: <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt1.png" /> Otherwise, the following message is displayed: <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt2.png" /></span><p><span>This means that the <strong>Encryptable</strong> statusfor at least one table has been modified and the data file stillhas not been encrypted. **Note: **The same message is displayedwhen the <strong>Encryptable</strong> status has been modified inan already encrypted data file or after the data file has beendecrypted (see below).</span></p></li><li><span>Click on the Encrypt picture button.<br /><img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt3.png" /><br />You will be prompted to enter a passphrase for your data file:<img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt4.png" /> The passphrase is used to generate the data encryption key. Apassphrase is a more secure version of a password and can contain alarge number of characters. For example, you could enter apassphrases such as "We all came out to Montreux" or "My 1st GreatPassphrase!!" The security level indicator can help you evaluatethe strength of your passphrase: <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt5.png" /> (deep green is the highest level)</span></li><li><span>Enter to confirm your secured passphrase.</span></li></ol><p><span>The encrypting process is then launched. If the MSC wasopened in standard mode, the application is reopened in maintenancemode.</span></p><p><span>4D offers to save the encryption key (see <a href="#encrypt.html_saving-the-encryption-key">Saving the encryptionkey</a> below). You can do it at this moment or later. You can alsoopen the encryption log file.</span></p><p><span>If the encryption process is successful, the Encrypt pagedisplays Encryption maintenance operations buttons.</span></p><p><span><strong>Warning:</strong> During the encryption operation,4D creates a new, empty data file and fills it with data from theoriginal data file. Records belonging to "encryptable" tables areencrypted then copied, other records are only copied (a compactingoperation is also executed). If the operation is successful, theoriginal data file is moved to a "Replaced Files (Encrypting)"folder. If you intend to deliver an encrypted data file, make sureto move/remove any unencrypted data file from the applicationfolder beforehand.</span></p><h2><span><a aria-hidden="true" class="anchor" id="encrypt.html_encryption-maintenance-operations"></a><a aria-hidden="true"class="hash-link" href="#encrypt.html_encryption-maintenance-operations"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Encryption maintenance operations</span></h2><p><span>When an application is encrypted (see above), the Encryptpage provides several encryption maintenance operations,corresponding to standard scenarios. <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt6.png" /></span></p><h3><span><a aria-hidden="true" class="anchor" id="encrypt.html_providing-the-current-data-encryption-key"></a><a aria-hidden="true"class="hash-link" href="#encrypt.html_providing-the-current-data-encryption-key"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Providing the current data encryption key</span></h3><p><span>For security reasons, all encryption maintenanceoperations require that the current data encryption key beprovided.</span></p><ul><li><span>If the data encryption key is already loaded in the 4Dkeychain(1), it is automatically reused by 4D.</span></li><li><span>If the data encryption key is not found, you must provideit. The following dialog is displayed: <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt7.png" /></span></li></ul><p><span>At this step, you have two options:</span></p><ul><li><span>enter the current passphrase(2) and click<strong>OK</strong>. OR</span></li><li><span>connect a device such as a USB key and click the<strong>Scan devices</strong> button.</span></li></ul><p><span>(1) The 4D keychain stores all valid data encrpytion keysentered during the application session.<br />(2) The current passphrase is the passphrase used to generate thecurrent encryption key.</span></p><p><span>In all cases, if valid information is provided, 4Drestarts in maintenance mode (if not already the case) and executesthe operation.</span></p><h3><span><a aria-hidden="true" class="anchor" id="encrypt.html_re-encrypt-data-with-the-current-encryption-key"></a><a aria-hidden="true"class="hash-link" href="#encrypt.html_re-encrypt-data-with-the-current-encryption-key"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Re-encrypt data with the current encryptionkey</span></h3><p><span>This operation is useful when the<strong>Encryptable</strong> attribute has been modified for one ormore tables containing data. In this case, to preventinconsistencies in the data file, 4D disallows any write access tothe records of the tables in the application. Re-encrypting data isthen necessary to restore a valid encryption status.</span></p><ol><li><span>Click on <strong>Re-encrypt data with the currentencryption key</strong>.</span></li><li><span>Enter the current data encryption key.</span></li></ol><p><span>The data file is properly re-encrypted with the currentkey and a confirmation message is displayed: <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt8.png" /></span></p><h3><span><a aria-hidden="true" class="anchor" id="encrypt.html_change-your-passphrase-and-re-encrypt-data"></a><a aria-hidden="true"class="hash-link" href="#encrypt.html_change-your-passphrase-and-re-encrypt-data"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Change your passphrase and re-encrypt data</span></h3><p><span>This operation is useful when you need to change thecurrent encryption data key. For example, you may need to do so tocomply with security rules (such as requiring changing thepassphrase every three months).</span></p><ol><li><span>Click on <strong>Change your passphrase and re-encryptdata</strong>.</span></li><li><span>Enter the current data encryption key.</span></li><li><span>Enter the new passphrase (for added security, you areprompted to enter it twice): <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt9.png" /> The data file is encrypted with the new key and the confirmationmessage is displayed. <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt8.png" /></span></li></ol><h3><span><a aria-hidden="true" class="anchor" id="encrypt.html_decrypt-all-data"></a><a aria-hidden="true" class="hash-link" href="#encrypt.html_decrypt-all-data"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Decrypt all data</span></h3><p><span>This operation removes all encryption from the data file.If you no longer want to have your data encrypted:</span></p><ol><li><span>Click on <strong>Decrypt all data</strong>.</span></li><li><span>Enter the current data encryption key (see Providing thecurrent data encryption key).</span></li></ol><p><span>The data file is fully decrypted and a confirmationmessage is displayed: <img alt="" src="https://developer.4d.com/docs/Rx/assets/en/MSC/MSC_encrypt10.png" /></span></p><blockquote><p><span>Once the data file is decrypted, the encryption status oftables do not match their Encryptable attributes. To restore amatching status, you must deselect all <strong>Encryptable</strong>attributes at the database structure level.</span></p></blockquote><h2><span><a aria-hidden="true" class="anchor" id="encrypt.html_saving-the-encryption-key"></a><a aria-hidden="true"class="hash-link" href="#encrypt.html_saving-the-encryption-key"><svg aria-hidden="true"class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Saving the encryption key</span></h2><p><span>4D allows you to save the data encryption key in adedicated file. Storing this file on an external device such a USBkey will facilitate the use of an encrypted application, since theuser would only need to connect the device to provide the keybefore opening the application in order to access encrypteddata.</span></p><p><span>You can save the encryption key each time a new passphrasehas been provided:</span></p><ul><li><span>when the application is encrypted for the firsttime,</span></li><li><span>when the application is re-encrypted with a newpassphrase.</span></li></ul><p><span>Successive encryption keys can be stored on the samedevice.</span></p><h2><span><a aria-hidden="true" class="anchor" id="encrypt.html_log-file"></a><a aria-hidden="true" class="hash-link"href="#encrypt.html_log-file"><svg aria-hidden="true" class="hash-link-icon" height="16" version="1.1" viewbox="0 0 16 16"width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"fill-rule="evenodd"></path></svg></a>Log file</span></h2><p><span>After an encryption operation has been completed, 4Dgenerates a file in the Logs folder of the application. It iscreated in XML format and named"<em>ApplicationName_Encrypt_Log_yyyy-mm-dd hh-mm-ss.xml</em>" or"<em>ApplicationName_Decrypt_Log_yyyy-mm-ddhh-mm-ss.xml</em>".</span></p><p><span>An Open log file button is displayed on the MSC page eachtime a new log file has been generated.</span></p><p><span>The log file lists all internal operations executedpertaining to the encryption/decryption process, as well as errors(if any).</span></p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="#repair.html"><span class="arrow-prev">←</span> <span>RepairPage</span></a><a class="docs-next button" href="#overview.html"><span>Overview</span> <span class="arrow-next">→</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#encrypt.html_encrypting-data-for-the-first-time">Encrypting datafor the first time</a></li><li><a href="#encrypt.html_encryption-maintenance-operations">Encryptionmaintenance operations</a><ul class="toc-headings"><li><a href="#encrypt.html_providing-the-current-data-encryption-key">Providingthe current data encryption key</a></li><li><a href="#encrypt.html_re-encrypt-data-with-the-current-encryption-key">Re-encryptdata with the current encryption key</a></li><li><a href="#encrypt.html_change-your-passphrase-and-re-encrypt-data">Changeyour passphrase and re-encrypt data</a></li><li><a href="#encrypt.html_decrypt-all-data">Decrypt alldata</a></li></ul></li><li><a href="#encrypt.html_saving-the-encryption-key">Saving theencryption key</a></li><li><a href="#encrypt.html_log-file">Log file</a></li></ul></nav></div></div></body></html>